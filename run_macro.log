1                                         The SAS System              11:17 Wednesday, May 8, 2013

NOTE: Copyright (c) 2002-2008 by SAS Institute Inc., Cary, NC, USA. 
NOTE: SAS (r) Proprietary Software 9.2 (TS2M2) 
      Licensed to UNIVERSITY OF NORTH CAROLINA CHAPEL HILL - SFA T&R, Site 70022629.
NOTE: This session is executing on the W32_VSPRO  platform.



NOTE: SAS initialization used:
      real time           3.60 seconds
      cpu time            0.28 seconds
      
1          %let odsdir=J:\FAVORIT\Sc\UCCPVK\2013_SAS_Verify_cox_assumptions;
2          libname rq "&odsdir";
NOTE: Libref RQ was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: J:\FAVORIT\Sc\UCCPVK\2013_SAS_Verify_cox_assumptions
3          options nodate mprint ps=58 ls=175 fmtsearch=(work, FLIB.stand802) pageno=1 mergenoby=warn formchar='|----|+|---+=|-/\<>*' source2 mprint mlogic symbolgen;
4          
5          %include 'J:\FAVORIT\Sc\UCCPVK\2013_SAS_Verify_cox_assumptions\verify_cox_assumptions_all.sas';
NOTE: %INCLUDE (level 1) file J:\FAVORIT\Sc\UCCPVK\2013_SAS_Verify_cox_assumptions\verify_cox_assumptions_all.sas is file 
      J:\FAVORIT\Sc\UCCPVK\2013_SAS_Verify_cox_assumptions\verify_cox_assumptions_all.sas.
6         +*  MACRO:        check_cox_assumptions_all
7         +*
8         +*  DESCRIPTION:  Checks assumptions for Cox PH model
9         +*
10        +*  SOURCE: 		 CSCC, UNC at Chapel Hill
11        +*
12        +*  PROGRAMMER:   Polina Kukhareva
13        +*
14        +*  DATE:         11/01/2012
15        +*
16        +*  HISTORY:      check_cox_assumptions_all -- Kukhareva -- 11/01/2012
17        +*
18        +*  LANGUAGE:     SAS VERSION 9.3
19        +*
20        +*  INPUT:        SAS data set containing survival data
21        +*
22        +*  OUTPUT:       RTF file with graphs and lst file with model run
23        +*******************************************************************;
24        +
25        +/*
26        +Input:
27        +Specify parameters as following:
28        +_NUMBER= User defined number of model which will appear in the title;
29        +_DATA= Name of the data set containing survival data;
30        +_PREDICTORS= List of predictors variables which can have some extra variables;
31        +_CLASS= List of the variables included in a class statement. Can spesify reference categories in parantesis.;
32        +_OUTCOME= Name of the outcome variable, event coded as 1, censored coded as  0;
33        +_FU= Follow up time;
34        +_STOP= The last variable from predictor list user wants to include in the model;
35        +_EXCLUDE= List of variables from predictor list which shouldn't be in the model statement, if no variables need to be excluded put 'NOTHING';
36        +_CHECK= List of variables for which user wants to produce diagnostics;
37        +_RQ=Characters to be included in the name of output RTF file
38        +_INTERACTIONS=List of interactions of interest, e.g. sex*age ,
39        +_FOOTNOTE=Footnote
40        +
2                                                                               The SAS System

41        +Example:
42        +%check_cox_assumptions_all (_NUMBER=1, _DATA=rq.simcox, _PREDICTORS=&predictors,
43        +_CLASS=diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="1"), _OUTCOME=CV_event, _FU=CV_time, _STOP=activity,
44        +_EXCLUDE=sex, _RQ=job1, _INTERACTIONS=sex*age, _FOOTNOTE=%str(&sysdate, &systime -- produced by macro check_cox_assumptions))
45        +
46        +Output:
47        +For each continuous predictors this check_cox_assumptions_all macro provides:
48        +1.plot of martingale residuals from a model that excludes the variable being checked by the variable to check linearity assumption
49        +2.plot of dummy variables with a smoothing function to check linearity to check linearity assumption
50        +3.Log-negative-log survival curves with dummy variables to check proportional hazard assumption
51        +4.Schoenfeld residuals plots  to check proportional hazard assumption
52        +5.Check for confounding (comparing crude and adjusted models)
53        +6.Check for interactions with all other predictors
54        +
55        +For each categorical predictors  check_cox_assumptions_all macro provides:
56        +1.Log-negative-log survival curves to check proportional hazard assumption
57        +2.Schoenfeld residuals plots to check proportional hazard assumption
58        +3.Check for confounding (comparing crude and adjusted models)
59        +4.Check for interactions with all other predictors
60        +
61        +*/
62        +
63        +%macro check_cox_assumptions_all (_NUMBER= /*User defined NUMBER of model which will appear in the title, e.g. 1*/,
64        +                                  _DATA=   /*Name of the data set containing survival data, e.g. rq.simcox*/,
65        +                                  _PREDICTORS=/*List of predictors variables which can have some extra variables, e.g. age sex treatment*/,
66        +                                  _CLASS=/*List of the variables included in a class statement, e.g. sex(ref="0") treatment(ref="0")*/,
67        +                                  _OUTCOME=/*Name of the outcome variable, event coded as 1, censored coded as 0, e.g. CV_event*/,
68        +                                  _FU=/*Follow up time, e.g. CV_time*/,
69        +                                  _STOP=_NOT_SPECIFIED/*The last variable from predictor list user wants to include in the model, e.g. sex*/,
70        +                                  _EXCLUDE=_NOTHING/*List of variables from predictor list which shouldn't be in the model statement, e.g. age*/,
71        +                                  _CHECK=_ALL/*List of variables for which user wants to produce diagnostics, e.g. sex*/,
72        +                                  _RQ=cox_assumptions/*Characters to be included in the name of output RTF file, e.g. cox_assumptions*/,
73        +								  _INTERACTIONS=_ALL /*List of interactions of interest, e.g. sex*age */,
74        +								  _FOOTNOTE=%str(&sysdate, &systime -- produced by macro check_cox_assumptions) /*Footnote*/) /minoperator;
75        +
76        +
77        +%macro check_cox_assumptions (NUMBER=, Data=, predictors=, class=, OUTCOME=, FU=, STOP=, EXCLUDE=, CHECK=)/minoperator;
78        +/* Creating lists of predictor variables */
79        +
80        +ods rtf exclude all;
81        +	proc sql;
82        +		select distinct predictor into :predictors_WITHOUT_check separated by ' '
83        +			from predictors_&NUMBER
84        +			where left(predictor)^="&CHECK"
85        +			order by order;
86        +	quit;
87        +    %put predictors_WITHOUT_check=&predictors_WITHOUT_check;
88        +
89        +ods output ClassLevelInfo=ClassLevelInfo_&NUMBER;
90        +	proc phreg data=&data;
91        + 		where &FU>0;
92        +		 class &class;
93        +		model &FU*&outcome (0)= &predictors_used /ties=exact rl;
94        +	run;
95        +ods output close;
96        +
3                                                                               The SAS System

97        +/* data step to delete reference categories*/
98        +%if %sysfunc(exist(ClassLevelInfo_&NUMBER)) %then %do;
99        +	%if (%eval(%sysfunc(countw(%str(&class))))=0) %then %do;
100       +	%let class_variables=_EMPTY_LIST_;
101       +	proc sql;
102       +		create table schoenfeld as
103       +		select *, compress(catx('',predictor,'_')," -$%^()&#@","c") as schoenfeld
104       +		from Predictors_&NUMBER
105       +		order by order;
106       +	quit;
107       +	%end;
108       +
109       +	%else %do;
110       +	data ClassLevelInfo_&NUMBER;
111       +	length class $30 value$30;
112       +	set ClassLevelInfo_&NUMBER;
113       +			 class=UPCASE(CLASS);
114       +			 if ^missing(class) then call symput ('new',class);
115       +			 else class=symget('new');
116       +			 if sum(of X:)=0 then delete;
117       +	run;
118       +	proc sql;
119       +		select distinct class into :class_variables separated by ' '
120       +		from ClassLevelInfo_&NUMBER;
121       +	quit;
122       +	proc sql;
123       +		create table schoenfeld
124       +		as select predictor, order, value, compress(catx('',predictor,'_',left(value))," -$%^()&#@","c") as schoenfeld
125       +		from  Predictors_&NUMBER left join ClassLevelInfo_&NUMBER on left(class)=left(predictor)
126       +		order by order, schoenfeld;
127       +	quit;
128       +	%end;
129       +
130       +	proc sql;
131       +		select schoenfeld into :schoenfeld separated by ' '
132       +		from schoenfeld;
133       +	quit;
134       +%end;
135       +%else %do; %let class_variables=_EMPTY_LIST_; %let schoenfeld=%str(); %end;
136       +%put predictors=&predictors_used;
137       +%put class_variables=&class_variables;
138       +%put schoenfeld = &schoenfeld;
139       +ods rtf select all;
140       +/* End of: Creating lists of variables */
141       +
142       +/* block # 1 */
143       +%if (&CHECK in &class_variables)=0 %then %do;
144       +%if %eval(%sysfunc(countw(&PREDICTORS))) > 1 %then %do;
145       +title2 height=12pt  'Verify the linearity assumption of continuous predictor variables';
146       +title3 height=10pt  "Assess the Linearity Assumption of &CHECK by Plotting Martingale Residuals";
147       +ods rtf startpage=NOW;
148       +ods rtf exclude all;
149       +
150       +	proc phreg data=&data;
151       +		where &FU>0;
152       +		class &class;
4                                                                               The SAS System

153       +		model &FU*&outcome (0)= &predictors_WITHOUT_check /ties=exact rl;
154       +		id &CHECK;
155       +		output out=mart resmart=mart;
156       +	run;
157       +
158       +ods rtf select all;
159       +
160       +	proc sgplot data=mart;
161       +		scatter y=mart x=&CHECK/ name='Martingale';
162       +		loess y=mart x=&CHECK/SMOOTH=.8 DEGREE=1 INTERPOLATION= CUBIC ;
163       +		keylegend 'Martingale'/ title=' ' Position=bottom;
164       +	run;
165       +
166       +	ODS TEXT='To use the Martingale residuals to assess the linearity assumption, first fit a
167       +	model that excludes the predictor variable of interest. Then plot the
168       +	Martingale residuals by the values of the excluded predictor variable of
169       +	interest. Finally, fit a smoothed line (that is, a loess smooth) in the plot. The
WARNING: The quoted string currently being processed has become more than 262 characters long.  You may have unbalanced quotation marks.
170       +	shape of the smoothed line provides an estimate of the functional form of the
171       +	predictor variable in the model (Therneau, Grambsch, and Fleming 1990).';
172       +%end;
173       +title3 height=10pt  "Assess the Linearity Assumption of &CHECK by Plotting Dummy Estimates";
174       +ods rtf startpage=NOW;
175       +ods rtf exclude all;
176       +
177       +		proc rank data=&data groups=5 out=rank&CHECK;
178       +			var &CHECK;
179       +			ranks group&CHECK;
180       +		run;
181       +
182       +		data rank&CHECK;
183       +			set rank&CHECK;
184       +	  			d0=(group&CHECK=0);
185       +	  			d1=(group&CHECK=1);
186       +	  			d2=(group&CHECK=2);
187       +	  			d3=(group&CHECK=3);
188       +	  			d4=(group&CHECK=4);
189       +			run;
190       +
191       +ods output parameterestimates=parms&CHECK;
192       +		proc phreg data=rank&CHECK;
193       + 			where &FU>0;
194       +			 class &class;
195       +			model &FU*&outcome (0)=
196       +				%let cnt=0;
197       +      				%do  %until (%qscan(&predictors,&cnt, %str( ))=%str(&stop));
198       +          				%let var=%qscan(&predictors,%eval(&cnt+1),%str( ));
199       +              			%if not (&var in %str(&CHECK)) %then %do; &var %end;
200       +           				%let cnt=%eval(&cnt+1);
201       +       			%end; d4 d3 d2  d1 d0 /ties=exact rl;
202       +		run;
203       +ods output close;
204       +
205       +		data parms&CHECK;
206       +			set parms&CHECK;
207       +				where parameter in ('d0', 'd1', 'd2', 'd3', 'd4');
5                                                                               The SAS System

208       +				num_parm=input(substr(parameter, 2, 1),1.);
209       +		run;
210       +
211       +
212       +ods rtf select all;
213       +		proc means data=rank&CHECK min max maxdec=2;
214       +			class group&CHECK;
215       +			var &CHECK;
216       +		run;
217       +
218       +
219       +		proc sgplot data=parms&CHECK;
220       +			scatter y=estimate x=num_parm;
221       +			loess y=estimate x=num_parm/SMOOTH=.8 DEGREE=1 INTERPOLATION= CUBIC ;
222       +		run;
223       +
224       +	ODS TEXT ="One method to check for linearity is to replace the predictor variable of
225       +	interest with several dummy variables. Then fit the model with the new dummy variables and plot the parameter estimates of the dummy variables, with a point at
225      !+zero representing the reference group.
WARNING: The quoted string currently being processed has become more than 262 characters long.  You may have unbalanced quotation marks.
226       +	If the correct scale is linear in the log hazard, then a smoothed line is fairly linear. If the smoothed line departs substantially from a linear trend, then its
227       +	form is used to decide how to model the predictor variable (Hosmer and Lemeshow 1999).";
228       +
229       +title2 height=12pt  'Verify the proportional hazards assumption of predictor variables';
230       +title3 height=10pt  "Assess the PH Assumption of &CHECK by Plotting LLS";
231       +
232       +ods rtf startpage=NOW;
233       +ods rtf exclude all;
234       +
235       +%end;
236       +
237       +/* end of: block # 1 */
238       +
239       +/* block # 2 */
240       +
241       +/* proportional hazards assumption of continuous predictor variables */
242       +
243       +%if (&CHECK in &class_variables)=0 %then %do;
244       +ods graphics on;
245       +
246       +ods rtf select LogNegLogSurvivalPlot;
247       +
248       +
249       +		proc lifetest data=rank&CHECK outsurv=&CHECK._lifetest NOTABLE method=km plots=lls;
250       +    		where &fu>0;
251       +    		time &fu*&outcome(0);
252       +			strata group&CHECK;
253       +		run;
254       +
255       +ODS TEXT ="One method to assess the proportional hazards assumption is to plot the
256       +log-negative-log of the Kaplan-Meier estimates of the survival function versus
257       +the log of time. If the hazard ratios are constant, the plot has parallel lines.";
258       +
259       +title3 height=10pt  "Assess the PH Assumption of &CHECK by Plotting Schoenfeld Residuals";
260       +ods rtf startpage=NOW;
261       +ods rtf exclude all;
6                                                                               The SAS System

262       +ods graphics off;
263       +%end;
264       +
265       +/* proportional hazards assumption of categorical predictor variables */
266       +
267       +%if &CHECK in &class_variables %then %do;
268       +title2 height=12pt  'Verify the proportional hazards assumption of predictor variables';
269       +title3 height=10pt  "Assess the PH Assumption of &CHECK by Plotting LLS";
270       +ods rtf startpage=NOW;
271       +ods rtf exclude all;
272       +ods graphics on;
273       +ods rtf select LogNegLogSurvivalPlot;
274       +
275       +
276       +		proc lifetest data=&data outsurv=&CHECK._lifetest NOTABLE method=km plots=lls;
277       +    		where &fu>0;
278       +    		time &fu*&outcome(0);
279       +			strata &CHECK;
280       +		run;
281       +
282       +ODS TEXT ="One method to assess the proportional hazards assumption is to plot the
283       +log-negative-log of the Kaplan-Meier estimates of the survival function versus
284       +the log of time. If the hazard ratios are constant, the plot has parallel lines.";
285       +
286       +ods graphics off;
287       +
288       +title3 height=10pt  "Assess the PH Assumption of &CHECK by Plotting Schoenfeld Residuals";
289       +ods rtf startpage=NOW;
290       +ods rtf exclude all;
291       +%end;
292       +/* proportional hazards assumption of categorical and continuous predictor variables */
293       +
294       +
295       +		proc phreg data=&data noprint;
296       + 			where &FU>0;
297       +			 class &class;
298       +			model &FU*&outcome (0)=  &predictors_used /ties=exact rl;
299       +			output out=ressch_&CHECK ressch=&schoenfeld;
300       +		run;
301       +ods rtf select all;
302       +/* Producing as many plots as categories in check variable */
303       +	   %let cntsch=0;
304       +	%do  i=1 %to %sysfunc(countw(&schoenfeld));
305       +        %let category=%qscan(&schoenfeld, &i,%str( ));
306       +        %if %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) %then %do;
307       +		proc sgplot data=ressch_&CHECK;
308       +			scatter y=&category x=&fu/ name="Schoenfeld_&CHECK";
309       +			loess y=&category x=&fu/SMOOTH=.8 DEGREE=1 INTERPOLATION= CUBIC ;
310       +			keylegend "Schoenfeld_&CHECK"/ title=' ' Position=bottom;
311       +		run;
312       +
313       +ODS TEXT="Because Schoenfeld residuals are based on the effects of the predictor
314       +variables that are assumed to be independent of time, a plot of the residuals
315       +by time could be used to visually assess whether the effect of the predictor
316       +variable changes over the period of follow-up. A smoothed line fit to the plot of
WARNING: The quoted string currently being processed has become more than 262 characters long.  You may have unbalanced quotation marks.
7                                                                               The SAS System

317       +the residuals should have an intercept and a slope of approximately 0 (Hosmer and
318       +Lemeshow 1999).";
319       +		%end;
320       +	%end;
321       +
322       +
323       +/* end of: block # 2 */
324       +
325       +
326       +
327       +/* block # 3 */
328       +%if %eval(%sysfunc(countw(&PREDICTORS))) > 1 %then %do;
329       +%if %qscan(&_INTERACTIONS, 1) = _ALL %then %do;
330       +title2 height=12pt  'Assess the model for interactions';
331       +title3 height=10pt  "Check for interactions &CHECK";
332       +
333       +ods rtf startpage=NOW;
334       +ods rtf exclude all;
335       +
336       +	data &CHECK._interactions;
337       +	run;
338       +
339       +	%do  int_count=1 %to %sysfunc(countw(&predictors_WITHOUT_check));
340       +   		%let var_for_interaction=%qscan(&predictors_WITHOUT_check, &int_count,%str( ));
341       +   		%let INTERACTION=&CHECK.*&var_for_interaction;
342       +				%if (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) %then %do;
343       +			%put ERROR CHECK SPECIFICATION OF PARAMETERS;
344       +				%return;  %end;
345       +
346       +ods output ParameterEstimates = interaction_&CHECK;
347       +		proc phreg data=&data;
348       +			where &FU>0;
349       +			 class &class;
350       +			model &FU*&outcome (0)=  &predictors_used &INTERACTION /ties=exact;
351       +		run;
352       +ods output close;
353       +
354       +		data &CHECK._interactions;
355       +			length parameter $30.;
356       +			set &CHECK._interactions interaction_&CHECK (where=( parameter contains '*'));
357       +		run;
358       +	%end;
359       +
360       +	data &CHECK._interactions;
361       +		set &CHECK._interactions;
362       +			if missing(parameter) then delete;
363       +			if ProbChiSq < 0.05 then flag='*';
364       +	run;
365       +
366       +ods rtf select all;
367       +	proc print data=&CHECK._interactions noobs label;
368       +		var parameter label estimate stderr chisq ProbChiSq flag;
369       +	run;
370       +
371       +ODS TEXT="Results of a partial likelihood ratio test that compares the
372       +model with only the main effects to the model with the main
8                                                                               The SAS System

373       +effects and all two-way interactions. P-values less than 0.05 are marked";
374       +%end;
375       +%end;
376       +/* end of: block # 3 */
377       +
378       +/* block # 4 */
379       +%if %eval(%sysfunc(countw(&PREDICTORS))) > 1 %then %do;
380       +title2 height=12pt  'Assess the model for confounders';
381       +title3 height=10pt  "Check for Confounders adjusting for &CHECK";
382       +ods rtf startpage=NOW;
383       +ods rtf exclude all;
384       +
385       +ods output ParameterEstimates=&CHECK._adjusted;
386       +		proc phreg data=&data;
387       +			where &FU>0;
388       +			 class &class;
389       +			model &FU*&outcome (0)= &predictors_used /ties=exact rl;
390       +		run;
391       +ods output close;
392       +ods output ParameterEstimates=&CHECK._crude;
393       +		proc phreg data=&data;
394       +			where &FU>0;
395       +			 class &class;
396       +			model &FU*&outcome (0)= &predictors_WITHOUT_check /ties=exact rl;
397       +			id &CHECK;
398       +		run;
399       +ods output close;
400       +
401       +ods rtf select all;
402       +
403       +	proc sort data=&CHECK._adjusted;
404       +		by parameter %if &class_variables ne  _EMPTY_LIST_  %then %do; classval0 %end;;
405       +	run;
406       +
407       +	proc sort data=&CHECK._crude;
408       +		by parameter %if &class_variables ne  _EMPTY_LIST_  %then %do; classval0 %end;;
409       +	run;
410       +
411       +	data table_&CHECK;
412       +		merge &CHECK._adjusted(rename=(estimate=estimate1 stderr=stderr1 hazardratio=hazardratio1 HRLOWERCL=HRLOWERCL1 HRupperCL=HRupperCL1)) &CHECK._crude;
413       +			by parameter %if &class_variables ne  _EMPTY_LIST_  %then %do; classval0 %end;;
414       +			drop  HRLowerCL  HRUpperCL  ProbChiSq DF chisq;
415       +			if parameter="&CHECK" then delete;
416       +			change=(estimate-estimate1)/estimate;
417       +			if abs(change)>0.2 and (abs(estimate)>0.01 or abs(estimate1)>0.01) then flag='*';
418       +			HR=    put(hazardratio,5.2)||' ('||put(HRLOWERCL,5.2)||'-'||put(HRupperCL,5.2)||')';
419       +			HR1=    put(hazardratio1,5.2)||' ('||put(HRLOWERCL1,5.2)||'-'||put(HRupperCL1,5.2)||')';
420       +			EST=put(estimate,5.2)||' ('||put(stderr,5.2)||')';
421       +			EST1=put(estimate1,5.2)||' ('||put(stderr1,5.2)||')';
422       +			label est1='Adjusted Estimate (Error)' est='Crude Estimate (Error)' HR='Crude Hazard Ratio (95% CI)' HR1='Adjusted Hazard Ratio (95% CI)';
423       +			if upcase(parameter) =upcase("&CHECK") then delete;
424       +		run;
425       +
426       +	proc print data=table_&CHECK noobs label;
427       + 		format change percent.;
428       +		var parameter label est hr est1  hr1 change flag;
9                                                                               The SAS System

429       + 	run;
430       +
431       +ODS TEXT="Estimating change between Parameter Estimates for Other variables varies significantly for model without (crude) or with (adjusted)
432       +variable of interest. Variables for which parameter estimates varies by more than 20% are flaged.
433       +Variables are flaged only if at least one of the estimates is larger then 0.01.";
WARNING: The quoted string currently being processed has become more than 262 characters long.  You may have unbalanced quotation marks.
434       +/* end of: block # 4 */
435       +ods rtf startpage=NOW;
436       +ods rtf exclude all;
437       +	proc datasets lib=work memtype=data;
438       +		delete table_&CHECK &CHECK._ADJUSTED &CHECK._CRUDE &CHECK._INTERACTIONS INTERACTION_&CHECK ClassLevelInfo_&NUMBER
439       +							&CHECK._LIFETEST	MART PARMS&CHECK	RANK&CHECK RESSCH_&CHECK SCHOENFELD;
440       +	run; quit;
441       +ods rtf select all;
442       +
443       +%end;
444       +%mend check_cox_assumptions;
445       +options nodate mprint pageno=1 mergenoby=warn ;
446       +ods rtf file="&_RQ._model_&_NUMBER..rtf" style=statistical;
447       +title1 height=13pt "Model &_NUMBER.: modeling &_fu.*&_outcome.(0) ";
448       +ods rtf startpage=NO;
449       +footnote1 J=right height=7pt &_FOOTNOTE;
450       +ods rtf exclude all;
451       +ods listing close;
452       +
453       +%if &_Stop=_NOT_SPECIFIED %then %do; %let _Stop=%qscan(%UPCASE(&_PREDICTORS),-1, %str( )); %end;
454       +
455       +%let exclude=%str(%UPCASE(&_EXCLUDE));
456       +
457       +	data predictors_&_NUMBER;
458       +		%let cnt=0;
459       +      	format predictor $30.;
460       +			%do  %until (%qscan(%UPCASE(&_PREDICTORS),&cnt, %str( ))=%str(%UPCASE(&_stop)));
461       +
462       +				%if (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) %then %do;
463       +						%put ERROR: CHECK SPECIFICATION OF PARAMETERS;
464       +					%return;  %end;
465       +
466       +   				%let var=%qscan(%UPCASE(&_PREDICTORS),%eval(&cnt+1),%str( ));
467       +
468       +  				%if  ((&var in &exclude)=0) %then %do;
469       +					order=&cnt;
470       +					predictor="&var";
471       +					output;
472       +				%end;
473       +
474       +    			%let cnt=%eval(&cnt+1);
475       +			%end;
476       +	run;
477       +
478       +	proc sql;
479       +		select distinct predictor into :predictors_used separated by ' '
480       +		from predictors_&_NUMBER
481       +		order by order;
482       +	quit;
483       +
10                                                                              The SAS System

484       +	%put predictors_used=&predictors_used;
485       +
486       +	ods listing;
487       +	proc phreg data=&_DATA;
488       + 		where &_FU>0;
489       +        class &_CLASS ;
490       +		model &_FU*&_outcome (0)= &predictors_used /ties=exact rl;
491       +	run;
492       +	ods listing close;
493       +%if &_check =_ALL %then %do;
494       +	%do  all_count=1 %to %sysfunc(countw(&predictors_used));
495       +   		%let CHECK_VAR=%qscan(&predictors_used, &all_count,%str( ));
496       +
497       +			%check_cox_assumptions (NUMBER=%UNQUOTE(%UPCASE(&_NUMBER)), Data=&_DATA, predictors=%UPCASE(&_PREDICTORS), class=%UNQUOTE(&_CLASS), OUTCOME=&_OUTCOME, FU=&_FU,
498       +							STOP=%UPCASE(&_STOP), EXCLUDE=%UPCASE(&_EXCLUDE), CHECK=%UNQUOTE(%UPCASE(&CHECK_VAR)))
499       +	%end;
500       +%end;
501       +%else %do;
502       +	%do  all_count=1 %to %sysfunc(countw(&_CHECK));
503       +   		%let CHECK_VAR=%qscan(&_CHECK, &all_count,%str( ));
504       +
505       +			%check_cox_assumptions (NUMBER=%UNQUOTE(%UPCASE(&_NUMBER)), Data=&_DATA, predictors=%UPCASE(&_PREDICTORS), class=%UNQUOTE(&_CLASS), OUTCOME=&_OUTCOME, FU=&_FU,
506       +							STOP=%UPCASE(&_STOP), EXCLUDE=%UPCASE(&_EXCLUDE), CHECK=%UNQUOTE(%UPCASE(&CHECK_VAR)))
507       +	%end;
508       +%end;
509       +
510       +%if %qscan(&_INTERACTIONS, 1) NE _ALL %then %do;
511       +
512       +title2 height=12pt  'Assess the model for interactions';
513       +	data _interactions;
514       +	run;
515       +ods rtf startpage=NOW;
516       +ods rtf exclude all;
517       +
518       +	%do  int_count=1 %to %sysfunc(countw(&_INTERACTIONS,%str( )));
519       +   		%let INTERACTION=%qscan(&_INTERACTIONS, &int_count,%str( ));
520       +
521       +ods output ParameterEstimates = interactions_&int_count;
522       +		proc phreg data=&_DATA;
523       +			where &_FU>0;
524       +			class &_CLASS;
525       +			model &_FU*&_outcome (0)=  &predictors_used &INTERACTION /ties=exact;
526       +		run;
527       +ods output close;
528       +
529       +		data _interactions;
530       +			length effect $30.;
531       +			set _interactions interactions_&int_count (where=( parameter contains '*'));
532       +		run;
533       +	%end;
534       +
535       +
536       +	data _interactions;
537       +		set _interactions;
538       +			if missing(parameter) then delete;
539       +			if ProbChiSq < 0.05 then flag='*';
11                                                                              The SAS System

540       +	run;
541       +
542       +ods rtf select all;
543       +	proc print data=_interactions noobs label;
544       +		var parameter label estimate stderr chisq ProbChiSq flag;
545       + 	run;
546       +
547       +ODS TEXT="Results of a partial likelihood ratio test that compares the
548       +model with only the main effects to the model with the main
549       +effects and all two-way interactions. P-values less than 0.05 are marked";
550       +
551       +ods rtf startpage=NOW;
552       +ods rtf exclude all;
553       +
554       +proc datasets lib=work memtype=data;
555       +		delete _interactions predictors_&_NUMBER;
556       +	quit;run;
557       +
558       +%end;
559       +
560       +ods rtf close;
561       +footnote;
562       +title;
563       +
564       +%mend check_cox_assumptions_all;
565       +
NOTE: %INCLUDE (level 1) ending.
566        
567        %let predictors=age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity;
568        %let class=diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
569        
570        %check_cox_assumptions_all (_Number=1, _Data=rq.simcox, _predictors=&predictors, _class=&class, _OUTCOME=CV_event,
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Beginning execution.
SYMBOLGEN:  Macro variable PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
571        _FU=CV_time, _CHECK=AGE ACTIVITY,_STOP=activity, _EXCLUDE=systolic_bp diastolic_bp ldl bmi diabetes smoking sex)
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _NUMBER has value 1
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _DATA has value rq.simcox
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _PREDICTORS has value age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _CLASS has value diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _OUTCOME has value CV_event
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _FU has value CV_time
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _CHECK has value AGE ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _STOP has value activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _EXCLUDE has value systolic_bp diastolic_bp ldl bmi diabetes smoking sex
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _RQ has value cox_assumptions
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _INTERACTIONS has value _ALL
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _FOOTNOTE has value &sysdate &systime  produced by macro check_cox_assumptions
WARNING: The quoted string currently being processed has become more than 262 characters long.  You may have unbalanced quotation marks.
WARNING: The quoted string currently being processed has become more than 262 characters long.  You may have unbalanced quotation marks.
WARNING: The quoted string currently being processed has become more than 262 characters long.  You may have unbalanced quotation marks.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   options nodate mprint pageno=1 mergenoby=warn ;
SYMBOLGEN:  Macro variable _RQ resolves to cox_assumptions
SYMBOLGEN:  Macro variable _NUMBER resolves to 1
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods rtf file="cox_assumptions_model_1.rtf" style=statistical;
NOTE: Writing RTF Body file: cox_assumptions_model_1.rtf
12                                                                              The SAS System

SYMBOLGEN:  Macro variable _NUMBER resolves to 1
SYMBOLGEN:  Macro variable _FU resolves to CV_time
SYMBOLGEN:  Macro variable _OUTCOME resolves to CV_event
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   title1 height=13pt "Model 1: modeling CV_time*CV_event(0) ";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods rtf startpage=NO;
SYMBOLGEN:  Macro variable _FOOTNOTE resolves to &sysdate, &systime -- produced by macro check_cox_assumptions
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable SYSDATE resolves to 08MAY13
WARNING: The FOOTNOTE statement is ambiguous due to invalid options or unquoted text.
SYMBOLGEN:  Macro variable SYSTIME resolves to 11:17
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   footnote1 J=right height=7pt 08MAY13, 11:17 -- produced by macro check_cox_assumptions;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods listing close;
SYMBOLGEN:  Macro variable _STOP resolves to activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition &_Stop=_NOT_SPECIFIED is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is EXCLUDE)
SYMBOLGEN:  Macro variable _EXCLUDE resolves to systolic_bp diastolic_bp ldl bmi diabetes smoking sex
SYMBOLGEN:  Macro variable _NUMBER resolves to 1
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   data predictors_1;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   format predictor $30.;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) loop beginning.
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable VAR resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 0
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=0;
SYMBOLGEN:  Macro variable VAR resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="AGE";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable _STOP resolves to activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable VAR resolves to SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is FALSE
13                                                                              The SAS System

MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable _STOP resolves to activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable VAR resolves to DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable _STOP resolves to activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable VAR resolves to LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable _STOP resolves to activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable VAR resolves to BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable _STOP resolves to activity
14                                                                              The SAS System

MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable VAR resolves to DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable _STOP resolves to activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable VAR resolves to SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable _STOP resolves to activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable VAR resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable _STOP resolves to activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
15                                                                              The SAS System

SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable VAR resolves to TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 8
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=8;
SYMBOLGEN:  Macro variable VAR resolves to TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="TREATMENT";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable _STOP resolves to activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable VAR resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 9
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=9;
SYMBOLGEN:  Macro variable VAR resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="ACTIVITY";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 10
SYMBOLGEN:  Macro variable _STOP resolves to activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL() condition is TRUE; loop will not iterate again.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   run;

NOTE: The data set WORK.PREDICTORS_1 has 3 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.32 seconds
      cpu time            0.03 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   proc sql;
SYMBOLGEN:  Macro variable _NUMBER resolves to 1
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   select distinct predictor into :predictors_used separated by ' ' from predictors_1 order by order;
WARNING: The query as specified involves ordering by an item that doesn't appear in its SELECT clause. Since you are ordering the output of a SELECT DISTINCT it may appear 
         that some duplicates have not been eliminated.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   quit;
16                                                                              The SAS System

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.36 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %PUT predictors_used=&predictors_used
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE TREATMENT ACTIVITY
predictors_used=AGE TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods listing;
SYMBOLGEN:  Macro variable _DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable _FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   where CV_time>0;
SYMBOLGEN:  Macro variable _CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average") ;
SYMBOLGEN:  Macro variable _FU resolves to CV_time
SYMBOLGEN:  Macro variable _OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   model CV_time*CV_event (0)= AGE TREATMENT ACTIVITY /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   run;

NOTE: 219 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The PROCEDURE PHREG printed pages 1-2.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           1.75 seconds
      cpu time            0.15 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods listing close;
SYMBOLGEN:  Macro variable _CHECK resolves to AGE ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition &_check =_ALL is FALSE
SYMBOLGEN:  Macro variable _CHECK resolves to AGE ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO loop beginning; index variable ALL_COUNT; start value is 1; stop value is 2; by value is 1.  
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CHECK_VAR)
SYMBOLGEN:  Macro variable _CHECK resolves to AGE ACTIVITY
SYMBOLGEN:  Macro variable ALL_COUNT resolves to 1
MLOGIC(CHECK_COX_ASSUMPTIONS):  Beginning execution.
SYMBOLGEN:  Macro variable _NUMBER resolves to 1
SYMBOLGEN:  Macro variable _DATA resolves to rq.simcox
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable _CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
SYMBOLGEN:  Macro variable _OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable _FU resolves to CV_time
SYMBOLGEN:  Macro variable _STOP resolves to activity
SYMBOLGEN:  Macro variable _EXCLUDE resolves to systolic_bp diastolic_bp ldl bmi diabetes smoking sex
SYMBOLGEN:  Macro variable CHECK_VAR resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter NUMBER has value 1
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter DATA has value rq.simcox
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter PREDICTORS has value AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter CLASS has value diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter OUTCOME has value CV_event
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter FU has value CV_time
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter STOP has value ACTIVITY
17                                                                              The SAS System

MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter EXCLUDE has value SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter CHECK has value AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 1
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   select distinct predictor into :predictors_WITHOUT_check separated by ' ' from predictors_1 where left(predictor)^="AGE" order by order;
WARNING: The query as specified involves ordering by an item that doesn't appear in its SELECT clause. Since you are ordering the output of a SELECT DISTINCT it may appear 
         that some duplicates have not been eliminated.
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.04 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT predictors_WITHOUT_check=&predictors_WITHOUT_check
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to TREATMENT ACTIVITY
predictors_WITHOUT_check=TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable NUMBER resolves to 1
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ClassLevelInfo=ClassLevelInfo_1;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE TREATMENT ACTIVITY /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 219 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.CLASSLEVELINFO_1 has 5 observations and 5 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.73 seconds
      cpu time            0.09 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable NUMBER resolves to 1
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %sysfunc(exist(ClassLevelInfo_&NUMBER)) is TRUE
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(%sysfunc(countw(&class)))=0) is FALSE
SYMBOLGEN:  Macro variable NUMBER resolves to 1
MPRINT(CHECK_COX_ASSUMPTIONS):   data ClassLevelInfo_1;
MPRINT(CHECK_COX_ASSUMPTIONS):   length class $30 value$30;
SYMBOLGEN:  Macro variable NUMBER resolves to 1
MPRINT(CHECK_COX_ASSUMPTIONS):   set ClassLevelInfo_1;
MPRINT(CHECK_COX_ASSUMPTIONS):   class=UPCASE(CLASS);
MPRINT(CHECK_COX_ASSUMPTIONS):   if ^missing(class) then call symput ('new',class);
MPRINT(CHECK_COX_ASSUMPTIONS):   else class=symget('new');
MPRINT(CHECK_COX_ASSUMPTIONS):   if sum(of X:)=0 then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;
18                                                                              The SAS System


NOTE: There were 5 observations read from the data set WORK.CLASSLEVELINFO_1.
NOTE: The data set WORK.CLASSLEVELINFO_1 has 3 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.13 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 1
MPRINT(CHECK_COX_ASSUMPTIONS):   select distinct class into :class_variables separated by ' ' from ClassLevelInfo_1;
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 1
SYMBOLGEN:  Macro variable NUMBER resolves to 1
MPRINT(CHECK_COX_ASSUMPTIONS):   create table schoenfeld as select predictor, order, value, compress(catx('',predictor,'_',left(value))," -$%^()&#@","c") as schoenfeld from 
Predictors_1 left join ClassLevelInfo_1 on left(class)=left(predictor) order by order, schoenfeld;
NOTE: Table WORK.SCHOENFELD created, with 4 rows and 4 columns.

MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.38 seconds
      cpu time            0.03 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
MPRINT(CHECK_COX_ASSUMPTIONS):   select schoenfeld into :schoenfeld separated by ' ' from schoenfeld;
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT predictors=&predictors_used
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE TREATMENT ACTIVITY
predictors=AGE TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT class_variables=&class_variables
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY TREATMENT
class_variables=ACTIVITY TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT schoenfeld = &schoenfeld
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ TREATMENT_1 ACTIVITY_high ACTIVITY_low
schoenfeld = AGE_ TREATMENT_1 ACTIVITY_high ACTIVITY_low
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (&CHECK in &class_variables)=0 is TRUE
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Verify the linearity assumption of continuous predictor variables';
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the Linearity Assumption of AGE by Plotting Martingale Residuals";
19                                                                              The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= TREATMENT ACTIVITY /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   id AGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   output out=mart resmart=mart;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 189 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.MART has 2975 observations and 20 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           1.32 seconds
      cpu time            0.15 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sgplot data=mart;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   scatter y=mart x=AGE/ name='Martingale';
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   loess y=mart x=AGE/SMOOTH=.8 DEGREE=1 INTERPOLATION= CUBIC ;
MPRINT(CHECK_COX_ASSUMPTIONS):   keylegend 'Martingale'/ title=' ' Position=bottom;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: PROCEDURE SGPLOT used (Total process time):
      real time           1:16.54
      cpu time            0.65 seconds
      
NOTE: Marker and line antialiasing has been disabled because the threshold has been reached. You can set ANTIALIASMAX=3000 in the ODS GRAPHICS statement to restore 
      antialiasing.
NOTE: There were 2975 observations read from the data set WORK.MART.

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT='To use the Martingale residuals to assess the linearity assumption, first fit a	model that excludes the predictor variable of 
interest. Then plot the	Martingale residuals by the values of the excluded predictor variable of	interest. Finally, fit a smoothed line (that is, a loess smooth) in the plot. 
The	shape of the smoothed line provides an estimate of the functional form of the	predictor variable in the model (Therneau, Grambsch, and Fleming 1990).';
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the Linearity Assumption of AGE by Plotting Dummy Estimates";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc rank data=rq.simcox groups=5 out=rankAGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   var AGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
20                                                                              The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   ranks groupAGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The data set WORK.RANKAGE has 3000 observations and 20 variables.
NOTE: PROCEDURE RANK used (Total process time):
      real time           0.12 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data rankAGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set rankAGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   d0=(groupAGE=0);
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   d1=(groupAGE=1);
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   d2=(groupAGE=2);
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   d3=(groupAGE=3);
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   d4=(groupAGE=4);
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 3000 observations read from the data set WORK.RANKAGE.
NOTE: The data set WORK.RANKAGE has 3000 observations and 25 variables.
NOTE: DATA statement used (Total process time):
      real time           0.06 seconds
      cpu time            0.03 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output parameterestimates=parmsAGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rankAGE;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) loop beginning.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable VAR resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
21                                                                              The SAS System

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable VAR resolves to SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable VAR resolves to DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable VAR resolves to LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable VAR resolves to BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
22                                                                              The SAS System

SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable VAR resolves to DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable VAR resolves to SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable VAR resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable VAR resolves to TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
23                                                                              The SAS System

MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable VAR resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 10
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL() condition is TRUE; loop will not iterate again.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY d4 d3 d2 d1 d0 /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;


NOTE: 318 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.PARMSAGE has 15 observations and 11 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.57 seconds
      cpu time            0.14 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data parmsAGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set parmsAGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   where parameter in ('d0', 'd1', 'd2', 'd3', 'd4');
MPRINT(CHECK_COX_ASSUMPTIONS):   num_parm=input(substr(parameter, 2, 1),1.);
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 5 observations read from the data set WORK.PARMSAGE.
      WHERE parameter in ('d0', 'd1', 'd2', 'd3', 'd4');
NOTE: The data set WORK.PARMSAGE has 5 observations and 12 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
24                                                                              The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   proc means data=rankAGE min max maxdec=2;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   class groupAGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   var AGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 3000 observations read from the data set WORK.RANKAGE.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.18 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sgplot data=parmsAGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   scatter y=estimate x=num_parm;
MPRINT(CHECK_COX_ASSUMPTIONS):   loess y=estimate x=num_parm/SMOOTH=.8 DEGREE=1 INTERPOLATION= CUBIC ;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: PROCEDURE SGPLOT used (Total process time):
      real time           8.08 seconds
      cpu time            0.48 seconds
      
NOTE: There were 5 observations read from the data set WORK.PARMSAGE.

WARNING: The quoted string currently being processed has become more than 512 characters long.  You may have unbalanced quotation marks.
MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT ="One method to check for linearity is to replace the predictor variable of	interest with several dummy variables. Then fit the 
model with the new dummy variables and plot the parameter estimates of the dummy variables, with a point at zero representing the reference group.	If the correct scale is 
linear in the log hazard, then a smoothed line is fairly linear. If the smoothed line departs substantially from a linear trend, then its	form is used to decide how to model 
the predictor variable (Hosmer and Lemeshow 1999).";
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Verify the proportional hazards assumption of predictor variables';
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the PH Assumption of AGE by Plotting LLS";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (&CHECK in &class_variables)=0 is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods graphics on;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select LogNegLogSurvivalPlot;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc lifetest data=rankAGE outsurv=AGE_lifetest NOTABLE method=km plots=lls;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
MPRINT(CHECK_COX_ASSUMPTIONS):   time CV_time*CV_event(0);
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   strata groupAGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The LOGLOG transform is used to compute the confidence limits for the survivor function. To suppress using this transform, specify CONFTYPE=LINEAR in the PROC SURVIVAL 
      statement.
NOTE: 64 observations with invalid time, censoring, or strata values were deleted.
NOTE: The data set WORK.AGE_LIFETEST has 2916 observations and 7 variables.
25                                                                              The SAS System

NOTE: PROCEDURE LIFETEST used (Total process time):
      real time           9.17 seconds
      cpu time            0.71 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT ="One method to assess the proportional hazards assumption is to plot thelog-negative-log of the Kaplan-Meier estimates of the 
survival function versus the log of time. If the hazard ratios are constant, the plot has parallel lines.";
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the PH Assumption of AGE by Plotting Schoenfeld Residuals";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods graphics off;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &CHECK in &class_variables is FALSE
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox noprint;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE TREATMENT ACTIVITY /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ TREATMENT_1 ACTIVITY_high ACTIVITY_low
MPRINT(CHECK_COX_ASSUMPTIONS):   output out=ressch_AGE ressch=AGE_ TREATMENT_1 ACTIVITY_high ACTIVITY_low;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 219 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.RESSCH_AGE has 2975 observations and 23 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           4.54 seconds
      cpu time            0.88 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNTSCH)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ TREATMENT_1 ACTIVITY_high ACTIVITY_low
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop beginning; index variable I; start value is 1; stop value is 4; by value is 1.  
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 1
SYMBOLGEN:  Macro variable CATEGORY resolves to AGE_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is TRUE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sgplot data=ressch_AGE;
SYMBOLGEN:  Macro variable CATEGORY resolves to AGE_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable FU resolves to CV_time
26                                                                              The SAS System

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   scatter y=AGE_ x=CV_time/ name="Schoenfeld_AGE";
SYMBOLGEN:  Macro variable CATEGORY resolves to AGE_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   loess y=AGE_ x=CV_time/SMOOTH=.8 DEGREE=1 INTERPOLATION= CUBIC ;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   keylegend "Schoenfeld_AGE"/ title=' ' Position=bottom;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: PROCEDURE SGPLOT used (Total process time):
      real time           7.75 seconds
      cpu time            0.56 seconds
      
NOTE: Marker and line antialiasing has been disabled because the threshold has been reached. You can set ANTIALIASMAX=3000 in the ODS GRAPHICS statement to restore 
      antialiasing.
NOTE: There were 2975 observations read from the data set WORK.RESSCH_AGE.

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Because Schoenfeld residuals are based on the effects of the predictor variables that are assumed to be independent of time, a plot 
of the residuals by time could be used to visually assess whether the effect of the predictor variable changes over the period of follow-up. A smoothed line fit to the plot 
ofthe residuals should have an intercept and a slope of approximately 0 (Hosmer and Lemeshow 1999).";
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 2; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 2
SYMBOLGEN:  Macro variable CATEGORY resolves to TREATMENT_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 3; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 3
SYMBOLGEN:  Macro variable CATEGORY resolves to ACTIVITY_high
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 4; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 4
SYMBOLGEN:  Macro variable CATEGORY resolves to ACTIVITY_low
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 5; loop will not iterate again.
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
SYMBOLGEN:  Macro variable _INTERACTIONS resolves to _ALL
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %qscan(&_INTERACTIONS, 1) = _ALL is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Assess the model for interactions';
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Check for interactions AGE";
27                                                                              The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data AGE_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The data set WORK.AGE_INTERACTIONS has 1 observations and 0 variables.
NOTE: DATA statement used (Total process time):
      real time           0.13 seconds
      cpu time            0.03 seconds
      

SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop beginning; index variable INT_COUNT; start value is 1; stop value is 2; by value is 1.  
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 1
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 1
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_AGE;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to AGE*TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE TREATMENT ACTIVITY AGE*TREATMENT /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 219 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_AGE has 5 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           1.60 seconds
      cpu time            0.23 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data AGE_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set AGE_interactions interaction_AGE (where=( parameter contains '*'));
28                                                                              The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 1 observations read from the data set WORK.AGE_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_AGE.
      WHERE parameter contains '*';
NOTE: The data set WORK.AGE_INTERACTIONS has 2 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.17 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 2; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 2
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 2
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_AGE;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to AGE*ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE TREATMENT ACTIVITY AGE*ACTIVITY /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 219 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_AGE has 6 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           1.10 seconds
      cpu time            0.20 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data AGE_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set AGE_interactions interaction_AGE (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

29                                                                              The SAS System

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 2 observations read from the data set WORK.AGE_INTERACTIONS.
NOTE: There were 2 observations read from the data set WORK.INTERACTION_AGE.
      WHERE parameter contains '*';
NOTE: The data set WORK.AGE_INTERACTIONS has 4 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.26 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 3; loop will not iterate again.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data AGE_interactions;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set AGE_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   if missing(parameter) then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   if ProbChiSq < 0.05 then flag='*';
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 4 observations read from the data set WORK.AGE_INTERACTIONS.
NOTE: The data set WORK.AGE_INTERACTIONS has 3 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.10 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc print data=AGE_interactions noobs label;
MPRINT(CHECK_COX_ASSUMPTIONS):   var parameter label estimate stderr chisq ProbChiSq flag;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 3 observations read from the data set WORK.AGE_INTERACTIONS.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.32 seconds
      cpu time            0.04 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Results of a partial likelihood ratio test that compares the model with only the main effects to the model with the main effects 
and all two-way interactions. P-values less than 0.05 are marked";
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Assess the model for confounders';
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Check for Confounders adjusting for AGE";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates=AGE_adjusted;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
30                                                                              The SAS System

SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE TREATMENT ACTIVITY /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 219 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.AGE_ADJUSTED has 4 observations and 11 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           1.67 seconds
      cpu time            0.23 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates=AGE_crude;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= TREATMENT ACTIVITY /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   id AGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 189 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.AGE_CRUDE has 3 observations and 11 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           1.24 seconds
      cpu time            0.18 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sort data=AGE_adjusted;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 4 observations read from the data set WORK.AGE_ADJUSTED.
NOTE: The data set WORK.AGE_ADJUSTED has 4 observations and 11 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.27 seconds
      cpu time            0.00 seconds
      

31                                                                              The SAS System

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sort data=AGE_crude;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 3 observations read from the data set WORK.AGE_CRUDE.
NOTE: The data set WORK.AGE_CRUDE has 3 observations and 11 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.17 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data table_AGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   merge AGE_adjusted(rename=(estimate=estimate1 stderr=stderr1 hazardratio=hazardratio1 HRLOWERCL=HRLOWERCL1 HRupperCL=HRupperCL1)) AGE_crude;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   drop HRLowerCL HRUpperCL ProbChiSq DF chisq;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   if parameter="AGE" then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   change=(estimate-estimate1)/estimate;
MPRINT(CHECK_COX_ASSUMPTIONS):   if abs(change)>0.2 and (abs(estimate)>0.01 or abs(estimate1)>0.01) then flag='*';
MPRINT(CHECK_COX_ASSUMPTIONS):   HR= put(hazardratio,5.2)||' ('||put(HRLOWERCL,5.2)||'-'||put(HRupperCL,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   HR1= put(hazardratio1,5.2)||' ('||put(HRLOWERCL1,5.2)||'-'||put(HRupperCL1,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   EST=put(estimate,5.2)||' ('||put(stderr,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   EST1=put(estimate1,5.2)||' ('||put(stderr1,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   label est1= 'Adjusted Estimate (Error)' est= 'Crude Estimate (Error)' HR= 'Crude Hazard Ratio (95% CI)' HR1= 'Adjusted Hazard Ratio (95% CI)';
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   if upcase(parameter) =upcase("AGE") then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 571:111   1 at 571:139   
NOTE: There were 4 observations read from the data set WORK.AGE_ADJUSTED.
NOTE: There were 3 observations read from the data set WORK.AGE_CRUDE.
NOTE: The data set WORK.TABLE_AGE has 3 observations and 17 variables.
NOTE: DATA statement used (Total process time):
      real time           0.45 seconds
      cpu time            0.04 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc print data=table_AGE noobs label;
MPRINT(CHECK_COX_ASSUMPTIONS):   format change percent.;
MPRINT(CHECK_COX_ASSUMPTIONS):   var parameter label est hr est1 hr1 change flag;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 3 observations read from the data set WORK.TABLE_AGE.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.39 seconds
32                                                                              The SAS System

      cpu time            0.04 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Estimating change between Parameter Estimates for Other variables varies significantly for model without (crude) or with (adjusted) 
variable of interest. Variables for which parameter estimates varies by more than 20% are flaged.Variables are flaged only if at least one of the estimates is larger then 
0.01.";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc datasets lib=work memtype=data;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable NUMBER resolves to 1
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   delete table_AGE AGE_ADJUSTED AGE_CRUDE AGE_INTERACTIONS INTERACTION_AGE ClassLevelInfo_1 AGE_LIFETEST MART PARMSAGE RANKAGE RESSCH_AGE 
SCHOENFELD;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: Deleting WORK.TABLE_AGE (memtype=DATA).
NOTE: Deleting WORK.AGE_ADJUSTED (memtype=DATA).
NOTE: Deleting WORK.AGE_CRUDE (memtype=DATA).
NOTE: Deleting WORK.AGE_INTERACTIONS (memtype=DATA).
NOTE: Deleting WORK.INTERACTION_AGE (memtype=DATA).
NOTE: Deleting WORK.CLASSLEVELINFO_1 (memtype=DATA).
NOTE: Deleting WORK.AGE_LIFETEST (memtype=DATA).
NOTE: Deleting WORK.MART (memtype=DATA).
NOTE: Deleting WORK.PARMSAGE (memtype=DATA).
NOTE: Deleting WORK.RANKAGE (memtype=DATA).
NOTE: Deleting WORK.RESSCH_AGE (memtype=DATA).
NOTE: Deleting WORK.SCHOENFELD (memtype=DATA).
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           2.37 seconds
      cpu time            0.12 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MLOGIC(CHECK_COX_ASSUMPTIONS):  Ending execution.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO loop index variable ALL_COUNT is now 2; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CHECK_VAR)
SYMBOLGEN:  Macro variable _CHECK resolves to AGE ACTIVITY
SYMBOLGEN:  Macro variable ALL_COUNT resolves to 2
MLOGIC(CHECK_COX_ASSUMPTIONS):  Beginning execution.
SYMBOLGEN:  Macro variable _NUMBER resolves to 1
SYMBOLGEN:  Macro variable _DATA resolves to rq.simcox
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable _CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
SYMBOLGEN:  Macro variable _OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable _FU resolves to CV_time
SYMBOLGEN:  Macro variable _STOP resolves to activity
SYMBOLGEN:  Macro variable _EXCLUDE resolves to systolic_bp diastolic_bp ldl bmi diabetes smoking sex
33                                                                              The SAS System

SYMBOLGEN:  Macro variable CHECK_VAR resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter NUMBER has value 1
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter DATA has value rq.simcox
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter PREDICTORS has value AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter CLASS has value diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter OUTCOME has value CV_event
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter FU has value CV_time
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter STOP has value ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter EXCLUDE has value SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter CHECK has value ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 1
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   select distinct predictor into :predictors_WITHOUT_check separated by ' ' from predictors_1 where left(predictor)^="ACTIVITY" order by order;
WARNING: The query as specified involves ordering by an item that doesn't appear in its SELECT clause. Since you are ordering the output of a SELECT DISTINCT it may appear 
         that some duplicates have not been eliminated.
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.18 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT predictors_WITHOUT_check=&predictors_WITHOUT_check
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE TREATMENT
predictors_WITHOUT_check=AGE TREATMENT
SYMBOLGEN:  Macro variable NUMBER resolves to 1
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ClassLevelInfo=ClassLevelInfo_1;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE TREATMENT ACTIVITY /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 219 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.CLASSLEVELINFO_1 has 5 observations and 5 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           1.31 seconds
      cpu time            0.21 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable NUMBER resolves to 1
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %sysfunc(exist(ClassLevelInfo_&NUMBER)) is TRUE
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(%sysfunc(countw(&class)))=0) is FALSE
SYMBOLGEN:  Macro variable NUMBER resolves to 1
34                                                                              The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   data ClassLevelInfo_1;
MPRINT(CHECK_COX_ASSUMPTIONS):   length class $30 value$30;
SYMBOLGEN:  Macro variable NUMBER resolves to 1
MPRINT(CHECK_COX_ASSUMPTIONS):   set ClassLevelInfo_1;
MPRINT(CHECK_COX_ASSUMPTIONS):   class=UPCASE(CLASS);
MPRINT(CHECK_COX_ASSUMPTIONS):   if ^missing(class) then call symput ('new',class);
MPRINT(CHECK_COX_ASSUMPTIONS):   else class=symget('new');
MPRINT(CHECK_COX_ASSUMPTIONS):   if sum(of X:)=0 then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 5 observations read from the data set WORK.CLASSLEVELINFO_1.
NOTE: The data set WORK.CLASSLEVELINFO_1 has 3 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.09 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 1
MPRINT(CHECK_COX_ASSUMPTIONS):   select distinct class into :class_variables separated by ' ' from ClassLevelInfo_1;
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 1
SYMBOLGEN:  Macro variable NUMBER resolves to 1
MPRINT(CHECK_COX_ASSUMPTIONS):   create table schoenfeld as select predictor, order, value, compress(catx('',predictor,'_',left(value))," -$%^()&#@","c") as schoenfeld from 
Predictors_1 left join ClassLevelInfo_1 on left(class)=left(predictor) order by order, schoenfeld;
NOTE: Table WORK.SCHOENFELD created, with 4 rows and 4 columns.

MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.84 seconds
      cpu time            0.12 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
MPRINT(CHECK_COX_ASSUMPTIONS):   select schoenfeld into :schoenfeld separated by ' ' from schoenfeld;
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.05 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT predictors=&predictors_used
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE TREATMENT ACTIVITY
predictors=AGE TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT class_variables=&class_variables
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY TREATMENT
class_variables=ACTIVITY TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT schoenfeld = &schoenfeld
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ TREATMENT_1 ACTIVITY_high ACTIVITY_low
schoenfeld = AGE_ TREATMENT_1 ACTIVITY_high ACTIVITY_low
35                                                                              The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (&CHECK in &class_variables)=0 is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (&CHECK in &class_variables)=0 is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &CHECK in &class_variables is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Verify the proportional hazards assumption of predictor variables';
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the PH Assumption of ACTIVITY by Plotting LLS";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods graphics on;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select LogNegLogSurvivalPlot;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   proc lifetest data=rq.simcox outsurv=ACTIVITY_lifetest NOTABLE method=km plots=lls;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
MPRINT(CHECK_COX_ASSUMPTIONS):   time CV_time*CV_event(0);
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   strata ACTIVITY;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The LOGLOG transform is used to compute the confidence limits for the survivor function. To suppress using this transform, specify CONFTYPE=LINEAR in the PROC SURVIVAL 
      statement.
NOTE: 69 observations with invalid time, censoring, or strata values were deleted.
NOTE: The data set WORK.ACTIVITY_LIFETEST has 2909 observations and 7 variables.
NOTE: PROCEDURE LIFETEST used (Total process time):
      real time           5.83 seconds
      cpu time            0.51 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT ="One method to assess the proportional hazards assumption is to plot thelog-negative-log of the Kaplan-Meier estimates of the 
survival function versusthe log of time. If the hazard ratios are constant, the plot has parallel lines.";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods graphics off;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the PH Assumption of ACTIVITY by Plotting Schoenfeld Residuals";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox noprint;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE TREATMENT ACTIVITY /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
36                                                                              The SAS System

SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ TREATMENT_1 ACTIVITY_high ACTIVITY_low
MPRINT(CHECK_COX_ASSUMPTIONS):   output out=ressch_ACTIVITY ressch=AGE_ TREATMENT_1 ACTIVITY_high ACTIVITY_low;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 219 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.RESSCH_ACTIVITY has 2975 observations and 23 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           1.10 seconds
      cpu time            0.51 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNTSCH)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ TREATMENT_1 ACTIVITY_high ACTIVITY_low
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop beginning; index variable I; start value is 1; stop value is 4; by value is 1.  
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 1
SYMBOLGEN:  Macro variable CATEGORY resolves to AGE_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
WARNING: Argument 3 to macro function %SUBSTR is out of range.
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 2; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 2
SYMBOLGEN:  Macro variable CATEGORY resolves to TREATMENT_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 3; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 3
SYMBOLGEN:  Macro variable CATEGORY resolves to ACTIVITY_high
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is TRUE
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sgplot data=ressch_ACTIVITY;
SYMBOLGEN:  Macro variable CATEGORY resolves to ACTIVITY_high
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   scatter y=ACTIVITY_high x=CV_time/ name="Schoenfeld_ACTIVITY";
SYMBOLGEN:  Macro variable CATEGORY resolves to ACTIVITY_high
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   loess y=ACTIVITY_high x=CV_time/SMOOTH=.8 DEGREE=1 INTERPOLATION= CUBIC ;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
37                                                                              The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   keylegend "Schoenfeld_ACTIVITY"/ title=' ' Position=bottom;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: PROCEDURE SGPLOT used (Total process time):
      real time           1.70 seconds
      cpu time            0.28 seconds
      
NOTE: Marker and line antialiasing has been disabled because the threshold has been reached. You can set ANTIALIASMAX=3000 in the ODS GRAPHICS statement to restore 
      antialiasing.
NOTE: There were 2975 observations read from the data set WORK.RESSCH_ACTIVITY.

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Because Schoenfeld residuals are based on the effects of the predictor variables that are assumed to be independent of time, a plot 
of the residuals by time could be used to visually assess whether the effect of the predictor variable changes over the period of follow-up. A smoothed line fit to the plot 
ofthe residuals should have an intercept and a slope of approximately 0 (Hosmer and Lemeshow 1999).";
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 4; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 4
SYMBOLGEN:  Macro variable CATEGORY resolves to ACTIVITY_low
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is TRUE
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sgplot data=ressch_ACTIVITY;
SYMBOLGEN:  Macro variable CATEGORY resolves to ACTIVITY_low
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   scatter y=ACTIVITY_low x=CV_time/ name="Schoenfeld_ACTIVITY";
SYMBOLGEN:  Macro variable CATEGORY resolves to ACTIVITY_low
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   loess y=ACTIVITY_low x=CV_time/SMOOTH=.8 DEGREE=1 INTERPOLATION= CUBIC ;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   keylegend "Schoenfeld_ACTIVITY"/ title=' ' Position=bottom;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: PROCEDURE SGPLOT used (Total process time):
      real time           1.89 seconds
      cpu time            0.26 seconds
      
NOTE: Marker and line antialiasing has been disabled because the threshold has been reached. You can set ANTIALIASMAX=3000 in the ODS GRAPHICS statement to restore 
      antialiasing.
NOTE: There were 2975 observations read from the data set WORK.RESSCH_ACTIVITY.

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Because Schoenfeld residuals are based on the effects of the predictor variables that are assumed to be independent of time, a plot 
of the residuals by time could be used to visually assess whether the effect of the predictor variable changes over the period of follow-up. A smoothed line fit to the plot 
ofthe residuals should have an intercept and a slope of approximately 0 (Hosmer and Lemeshow 1999).";
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 5; loop will not iterate again.
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
SYMBOLGEN:  Macro variable _INTERACTIONS resolves to _ALL
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %qscan(&_INTERACTIONS, 1) = _ALL is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Assess the model for interactions';
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
38                                                                              The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Check for interactions ACTIVITY";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   data ACTIVITY_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The data set WORK.ACTIVITY_INTERACTIONS has 1 observations and 0 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop beginning; index variable INT_COUNT; start value is 1; stop value is 2; by value is 1.  
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE TREATMENT
SYMBOLGEN:  Macro variable INT_COUNT resolves to 1
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 1
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_ACTIVITY;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to ACTIVITY*AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE TREATMENT ACTIVITY ACTIVITY*AGE /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 219 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_ACTIVITY has 6 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.60 seconds
      cpu time            0.09 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   data ACTIVITY_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
39                                                                              The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   set ACTIVITY_interactions interaction_ACTIVITY (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 1 observations read from the data set WORK.ACTIVITY_INTERACTIONS.
NOTE: There were 2 observations read from the data set WORK.INTERACTION_ACTIVITY.
      WHERE parameter contains '*';
NOTE: The data set WORK.ACTIVITY_INTERACTIONS has 3 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 2; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE TREATMENT
SYMBOLGEN:  Macro variable INT_COUNT resolves to 2
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 2
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_ACTIVITY;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to ACTIVITY*TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE TREATMENT ACTIVITY ACTIVITY*TREATMENT /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 219 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_ACTIVITY has 6 observations and 10 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.35 seconds
      cpu time            0.04 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   data ACTIVITY_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   set ACTIVITY_interactions interaction_ACTIVITY (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;
40                                                                              The SAS System


NOTE: There were 3 observations read from the data set WORK.ACTIVITY_INTERACTIONS.
NOTE: There were 2 observations read from the data set WORK.INTERACTION_ACTIVITY.
      WHERE parameter contains '*';
NOTE: The data set WORK.ACTIVITY_INTERACTIONS has 5 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 3; loop will not iterate again.
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   data ACTIVITY_interactions;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   set ACTIVITY_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   if missing(parameter) then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   if ProbChiSq < 0.05 then flag='*';
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 5 observations read from the data set WORK.ACTIVITY_INTERACTIONS.
NOTE: The data set WORK.ACTIVITY_INTERACTIONS has 4 observations and 11 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   proc print data=ACTIVITY_interactions noobs label;
MPRINT(CHECK_COX_ASSUMPTIONS):   var parameter label estimate stderr chisq ProbChiSq flag;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 4 observations read from the data set WORK.ACTIVITY_INTERACTIONS.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Results of a partial likelihood ratio test that compares the model with only the main effects to the model with the main effects 
and all two-way interactions. P-values less than 0.05 are marked";
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Assess the model for confounders';
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Check for Confounders adjusting for ACTIVITY";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates=ACTIVITY_adjusted;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
41                                                                              The SAS System

SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE TREATMENT ACTIVITY /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 219 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.ACTIVITY_ADJUSTED has 4 observations and 11 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.28 seconds
      cpu time            0.14 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates=ACTIVITY_crude;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE TREATMENT /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   id ACTIVITY;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 219 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.ACTIVITY_CRUDE has 2 observations and 11 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.22 seconds
      cpu time            0.07 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sort data=ACTIVITY_adjusted;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 4 observations read from the data set WORK.ACTIVITY_ADJUSTED.
NOTE: The data set WORK.ACTIVITY_ADJUSTED has 4 observations and 11 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

42                                                                              The SAS System

SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sort data=ACTIVITY_crude;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 2 observations read from the data set WORK.ACTIVITY_CRUDE.
NOTE: The data set WORK.ACTIVITY_CRUDE has 2 observations and 11 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   data table_ACTIVITY;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   merge ACTIVITY_adjusted(rename=(estimate=estimate1 stderr=stderr1 hazardratio=hazardratio1 HRLOWERCL=HRLOWERCL1 HRupperCL=HRupperCL1)) 
ACTIVITY_crude;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   drop HRLowerCL HRUpperCL ProbChiSq DF chisq;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   if parameter="ACTIVITY" then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   change=(estimate-estimate1)/estimate;
MPRINT(CHECK_COX_ASSUMPTIONS):   if abs(change)>0.2 and (abs(estimate)>0.01 or abs(estimate1)>0.01) then flag='*';
MPRINT(CHECK_COX_ASSUMPTIONS):   HR= put(hazardratio,5.2)||' ('||put(HRLOWERCL,5.2)||'-'||put(HRupperCL,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   HR1= put(hazardratio1,5.2)||' ('||put(HRLOWERCL1,5.2)||'-'||put(HRupperCL1,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   EST=put(estimate,5.2)||' ('||put(stderr,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   EST1=put(estimate1,5.2)||' ('||put(stderr1,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   label est1= 'Adjusted Estimate (Error)' est= 'Crude Estimate (Error)' HR= 'Crude Hazard Ratio (95% CI)' HR1= 'Adjusted Hazard Ratio (95% CI)';
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   if upcase(parameter) =upcase("ACTIVITY") then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      2 at 571:111   2 at 571:139   
NOTE: There were 4 observations read from the data set WORK.ACTIVITY_ADJUSTED.
NOTE: There were 2 observations read from the data set WORK.ACTIVITY_CRUDE.
NOTE: The data set WORK.TABLE_ACTIVITY has 2 observations and 17 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   proc print data=table_ACTIVITY noobs label;
MPRINT(CHECK_COX_ASSUMPTIONS):   format change percent.;
MPRINT(CHECK_COX_ASSUMPTIONS):   var parameter label est hr est1 hr1 change flag;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 2 observations read from the data set WORK.TABLE_ACTIVITY.
NOTE: PROCEDURE PRINT used (Total process time):
43                                                                              The SAS System

      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Estimating change between Parameter Estimates for Other variables varies significantly for model without (crude) or with (adjusted) 
variable of interest. Variables for which parameter estimates varies by more than 20% are flaged.Variables are flaged only if at least one of the estimates is larger then 
0.01.";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc datasets lib=work memtype=data;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable NUMBER resolves to 1
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   delete table_ACTIVITY ACTIVITY_ADJUSTED ACTIVITY_CRUDE ACTIVITY_INTERACTIONS INTERACTION_ACTIVITY ClassLevelInfo_1 ACTIVITY_LIFETEST MART 
PARMSACTIVITY RANKACTIVITY RESSCH_ACTIVITY SCHOENFELD;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The file WORK.MART (memtype=DATA) was not found, but appears on a DELETE statement.
NOTE: The file WORK.PARMSACTIVITY (memtype=DATA) was not found, but appears on a DELETE statement.
NOTE: The file WORK.RANKACTIVITY (memtype=DATA) was not found, but appears on a DELETE statement.
NOTE: Deleting WORK.TABLE_ACTIVITY (memtype=DATA).
NOTE: Deleting WORK.ACTIVITY_ADJUSTED (memtype=DATA).
NOTE: Deleting WORK.ACTIVITY_CRUDE (memtype=DATA).
NOTE: Deleting WORK.ACTIVITY_INTERACTIONS (memtype=DATA).
NOTE: Deleting WORK.INTERACTION_ACTIVITY (memtype=DATA).
NOTE: Deleting WORK.CLASSLEVELINFO_1 (memtype=DATA).
NOTE: Deleting WORK.ACTIVITY_LIFETEST (memtype=DATA).
NOTE: Deleting WORK.RESSCH_ACTIVITY (memtype=DATA).
NOTE: Deleting WORK.SCHOENFELD (memtype=DATA).
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.50 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MLOGIC(CHECK_COX_ASSUMPTIONS):  Ending execution.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO loop index variable ALL_COUNT is now 3; loop will not iterate again.
SYMBOLGEN:  Macro variable _INTERACTIONS resolves to _ALL
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition %qscan(&_INTERACTIONS, 1) NE _ALL is FALSE
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods rtf close;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   footnote;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   title;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Ending execution.
572        %check_cox_assumptions_all (_Number=2, _Data=rq.simcox, _predictors=&predictors, _OUTCOME=CV_event, _FU=CV_time, _class=&class, _STOP=activity)
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Beginning execution.
SYMBOLGEN:  Macro variable PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _NUMBER has value 2
44                                                                              The SAS System

MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _DATA has value rq.simcox
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _PREDICTORS has value age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _OUTCOME has value CV_event
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _FU has value CV_time
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _CLASS has value diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _STOP has value activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _EXCLUDE has value _NOTHING
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _CHECK has value _ALL
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _RQ has value cox_assumptions
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _INTERACTIONS has value _ALL
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _FOOTNOTE has value &sysdate &systime  produced by macro check_cox_assumptions
WARNING: The quoted string currently being processed has become more than 262 characters long.  You may have unbalanced quotation marks.
WARNING: The quoted string currently being processed has become more than 262 characters long.  You may have unbalanced quotation marks.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   options nodate mprint pageno=1 mergenoby=warn ;
SYMBOLGEN:  Macro variable _RQ resolves to cox_assumptions
SYMBOLGEN:  Macro variable _NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods rtf file="cox_assumptions_model_2.rtf" style=statistical;
NOTE: Writing RTF Body file: cox_assumptions_model_2.rtf
SYMBOLGEN:  Macro variable _NUMBER resolves to 2
SYMBOLGEN:  Macro variable _FU resolves to CV_time
SYMBOLGEN:  Macro variable _OUTCOME resolves to CV_event
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   title1 height=13pt "Model 2: modeling CV_time*CV_event(0) ";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods rtf startpage=NO;
SYMBOLGEN:  Macro variable _FOOTNOTE resolves to &sysdate, &systime -- produced by macro check_cox_assumptions
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable SYSDATE resolves to 08MAY13
WARNING: The FOOTNOTE statement is ambiguous due to invalid options or unquoted text.
SYMBOLGEN:  Macro variable SYSTIME resolves to 11:17
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   footnote1 J=right height=7pt 08MAY13, 11:17 -- produced by macro check_cox_assumptions;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods listing close;
SYMBOLGEN:  Macro variable _STOP resolves to activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition &_Stop=_NOT_SPECIFIED is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is EXCLUDE)
SYMBOLGEN:  Macro variable _EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Macro variable _NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   data predictors_2;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   format predictor $30.;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) loop beginning.
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable VAR resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 0
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=0;
SYMBOLGEN:  Macro variable VAR resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="AGE";
45                                                                              The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable _STOP resolves to activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable VAR resolves to SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 1
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=1;
SYMBOLGEN:  Macro variable VAR resolves to SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="SYSTOLIC_BP";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable _STOP resolves to activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable VAR resolves to DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=2;
SYMBOLGEN:  Macro variable VAR resolves to DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="DIASTOLIC_BP";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable _STOP resolves to activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
46                                                                              The SAS System

MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable VAR resolves to LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 3
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=3;
SYMBOLGEN:  Macro variable VAR resolves to LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="LDL";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable _STOP resolves to activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable VAR resolves to BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 4
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=4;
SYMBOLGEN:  Macro variable VAR resolves to BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="BMI";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable _STOP resolves to activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable VAR resolves to DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 5
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=5;
47                                                                              The SAS System

SYMBOLGEN:  Macro variable VAR resolves to DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="DIABETES";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable _STOP resolves to activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable VAR resolves to SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 6
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=6;
SYMBOLGEN:  Macro variable VAR resolves to SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="SMOKING";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable _STOP resolves to activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable VAR resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 7
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=7;
SYMBOLGEN:  Macro variable VAR resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="SEX";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable _STOP resolves to activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
48                                                                              The SAS System

SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable VAR resolves to TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 8
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=8;
SYMBOLGEN:  Macro variable VAR resolves to TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="TREATMENT";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable _STOP resolves to activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable VAR resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 9
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=9;
SYMBOLGEN:  Macro variable VAR resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="ACTIVITY";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 10
SYMBOLGEN:  Macro variable _STOP resolves to activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL() condition is TRUE; loop will not iterate again.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   run;

NOTE: The data set WORK.PREDICTORS_2 has 10 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   proc sql;
SYMBOLGEN:  Macro variable _NUMBER resolves to 2
49                                                                              The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   select distinct predictor into :predictors_used separated by ' ' from predictors_2 order by order;
WARNING: The query as specified involves ordering by an item that doesn't appear in its SELECT clause. Since you are ordering the output of a SELECT DISTINCT it may appear 
         that some duplicates have not been eliminated.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %PUT predictors_used=&predictors_used
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
predictors_used=AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods listing;
SYMBOLGEN:  Macro variable _DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable _FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   where CV_time>0;
SYMBOLGEN:  Macro variable _CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average") ;
SYMBOLGEN:  Macro variable _FU resolves to CV_time
SYMBOLGEN:  Macro variable _OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The PROCEDURE PHREG printed pages 1-2.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.31 seconds
      cpu time            0.12 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods listing close;
SYMBOLGEN:  Macro variable _CHECK resolves to _ALL
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition &_check =_ALL is TRUE
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO loop beginning; index variable ALL_COUNT; start value is 1; stop value is 10; by value is 1.  
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CHECK_VAR)
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable ALL_COUNT resolves to 1
MLOGIC(CHECK_COX_ASSUMPTIONS):  Beginning execution.
SYMBOLGEN:  Macro variable _NUMBER resolves to 2
SYMBOLGEN:  Macro variable _DATA resolves to rq.simcox
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable _CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
SYMBOLGEN:  Macro variable _OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable _FU resolves to CV_time
SYMBOLGEN:  Macro variable _STOP resolves to activity
SYMBOLGEN:  Macro variable _EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Macro variable CHECK_VAR resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter NUMBER has value 2
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter DATA has value rq.simcox
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter PREDICTORS has value AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
50                                                                              The SAS System

MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter CLASS has value diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter OUTCOME has value CV_event
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter FU has value CV_time
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter STOP has value ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter EXCLUDE has value _NOTHING
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter CHECK has value AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   select distinct predictor into :predictors_WITHOUT_check separated by ' ' from predictors_2 where left(predictor)^="AGE" order by order;
WARNING: The query as specified involves ordering by an item that doesn't appear in its SELECT clause. Since you are ordering the output of a SELECT DISTINCT it may appear 
         that some duplicates have not been eliminated.
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT predictors_WITHOUT_check=&predictors_WITHOUT_check
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
predictors_WITHOUT_check=SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ClassLevelInfo=ClassLevelInfo_2;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.CLASSLEVELINFO_2 has 11 observations and 5 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.31 seconds
      cpu time            0.14 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %sysfunc(exist(ClassLevelInfo_&NUMBER)) is TRUE
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(%sysfunc(countw(&class)))=0) is FALSE
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   data ClassLevelInfo_2;
MPRINT(CHECK_COX_ASSUMPTIONS):   length class $30 value$30;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   set ClassLevelInfo_2;
MPRINT(CHECK_COX_ASSUMPTIONS):   class=UPCASE(CLASS);
51                                                                              The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   if ^missing(class) then call symput ('new',class);
MPRINT(CHECK_COX_ASSUMPTIONS):   else class=symget('new');
MPRINT(CHECK_COX_ASSUMPTIONS):   if sum(of X:)=0 then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 11 observations read from the data set WORK.CLASSLEVELINFO_2.
NOTE: The data set WORK.CLASSLEVELINFO_2 has 6 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   select distinct class into :class_variables separated by ' ' from ClassLevelInfo_2;
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   create table schoenfeld as select predictor, order, value, compress(catx('',predictor,'_',left(value))," -$%^()&#@","c") as schoenfeld from 
Predictors_2 left join ClassLevelInfo_2 on left(class)=left(predictor) order by order, schoenfeld;
NOTE: Table WORK.SCHOENFELD created, with 11 rows and 4 columns.

MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.11 seconds
      cpu time            0.03 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
MPRINT(CHECK_COX_ASSUMPTIONS):   select schoenfeld into :schoenfeld separated by ' ' from schoenfeld;
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.02 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT predictors=&predictors_used
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
predictors=AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT class_variables=&class_variables
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
class_variables=ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT schoenfeld = &schoenfeld
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
schoenfeld = AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (&CHECK in &class_variables)=0 is TRUE
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
52                                                                              The SAS System

MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Verify the linearity assumption of continuous predictor variables';
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the Linearity Assumption of AGE by Plotting Martingale Residuals";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   id AGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   output out=mart resmart=mart;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 318 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.MART has 2975 observations and 20 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.63 seconds
      cpu time            0.35 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sgplot data=mart;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   scatter y=mart x=AGE/ name='Martingale';
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   loess y=mart x=AGE/SMOOTH=.8 DEGREE=1 INTERPOLATION= CUBIC ;
MPRINT(CHECK_COX_ASSUMPTIONS):   keylegend 'Martingale'/ title=' ' Position=bottom;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: PROCEDURE SGPLOT used (Total process time):
      real time           3.97 seconds
      cpu time            0.31 seconds
      
NOTE: Marker and line antialiasing has been disabled because the threshold has been reached. You can set ANTIALIASMAX=3000 in the ODS GRAPHICS statement to restore 
      antialiasing.
NOTE: There were 2975 observations read from the data set WORK.MART.

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT='To use the Martingale residuals to assess the linearity assumption, first fit a	model that excludes the predictor variable of 
interest. Then plot the	Martingale residuals by the values of the excluded predictor variable of	interest. Finally, fit a smoothed line (that is, a loess smooth) in the plot. 
The	shape of the smoothed line provides an estimate of the functional form of the	predictor variable in the model (Therneau, Grambsch, and Fleming 1990).';
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the Linearity Assumption of AGE by Plotting Dummy Estimates";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
SYMBOLGEN:  Macro variable CHECK resolves to AGE
53                                                                              The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   proc rank data=rq.simcox groups=5 out=rankAGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   var AGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ranks groupAGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The data set WORK.RANKAGE has 3000 observations and 20 variables.
NOTE: PROCEDURE RANK used (Total process time):
      real time           0.14 seconds
      cpu time            0.03 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data rankAGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set rankAGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   d0=(groupAGE=0);
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   d1=(groupAGE=1);
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   d2=(groupAGE=2);
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   d3=(groupAGE=3);
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   d4=(groupAGE=4);
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 3000 observations read from the data set WORK.RANKAGE.
NOTE: The data set WORK.RANKAGE has 3000 observations and 25 variables.
NOTE: DATA statement used (Total process time):
      real time           0.06 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output parameterestimates=parmsAGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rankAGE;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) loop beginning.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable VAR resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
54                                                                              The SAS System

SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable VAR resolves to SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable VAR resolves to DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable VAR resolves to LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable VAR resolves to BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
55                                                                              The SAS System

MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable VAR resolves to DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable VAR resolves to SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable VAR resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
56                                                                              The SAS System

SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable VAR resolves to TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable VAR resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 10
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL() condition is TRUE; loop will not iterate again.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY d4 d3 d2 d1 d0 /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;


NOTE: 318 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.PARMSAGE has 15 observations and 11 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.30 seconds
      cpu time            0.14 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data parmsAGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set parmsAGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   where parameter in ('d0', 'd1', 'd2', 'd3', 'd4');
MPRINT(CHECK_COX_ASSUMPTIONS):   num_parm=input(substr(parameter, 2, 1),1.);
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 5 observations read from the data set WORK.PARMSAGE.
      WHERE parameter in ('d0', 'd1', 'd2', 'd3', 'd4');
NOTE: The data set WORK.PARMSAGE has 5 observations and 12 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
57                                                                              The SAS System

      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc means data=rankAGE min max maxdec=2;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   class groupAGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   var AGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 3000 observations read from the data set WORK.RANKAGE.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.18 seconds
      cpu time            0.03 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sgplot data=parmsAGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   scatter y=estimate x=num_parm;
MPRINT(CHECK_COX_ASSUMPTIONS):   loess y=estimate x=num_parm/SMOOTH=.8 DEGREE=1 INTERPOLATION= CUBIC ;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: PROCEDURE SGPLOT used (Total process time):
      real time           1.87 seconds
      cpu time            0.21 seconds
      
NOTE: There were 5 observations read from the data set WORK.PARMSAGE.

WARNING: The quoted string currently being processed has become more than 512 characters long.  You may have unbalanced quotation marks.
MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT ="One method to check for linearity is to replace the predictor variable of	interest with several dummy variables. Then fit the 
model with the new dummy variables and plot the parameter estimates of the dummy variables, with a point at zero representing the reference group.	If the correct scale is 
linear in the log hazard, then a smoothed line is fairly linear. If the smoothed line departs substantially from a linear trend, then its	form is used to decide how to model 
the predictor variable (Hosmer and Lemeshow 1999).";
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Verify the proportional hazards assumption of predictor variables';
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the PH Assumption of AGE by Plotting LLS";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (&CHECK in &class_variables)=0 is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods graphics on;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select LogNegLogSurvivalPlot;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc lifetest data=rankAGE outsurv=AGE_lifetest NOTABLE method=km plots=lls;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
MPRINT(CHECK_COX_ASSUMPTIONS):   time CV_time*CV_event(0);
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   strata groupAGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

58                                                                              The SAS System

NOTE: The LOGLOG transform is used to compute the confidence limits for the survivor function. To suppress using this transform, specify CONFTYPE=LINEAR in the PROC SURVIVAL 
      statement.
NOTE: 64 observations with invalid time, censoring, or strata values were deleted.
NOTE: The data set WORK.AGE_LIFETEST has 2916 observations and 7 variables.
NOTE: PROCEDURE LIFETEST used (Total process time):
      real time           1.51 seconds
      cpu time            0.42 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT ="One method to assess the proportional hazards assumption is to plot thelog-negative-log of the Kaplan-Meier estimates of the 
survival function versus the log of time. If the hazard ratios are constant, the plot has parallel lines.";
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the PH Assumption of AGE by Plotting Schoenfeld Residuals";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods graphics off;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &CHECK in &class_variables is FALSE
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox noprint;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
MPRINT(CHECK_COX_ASSUMPTIONS):   output out=ressch_AGE ressch=AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.RESSCH_AGE has 2975 observations and 30 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.74 seconds
      cpu time            0.49 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNTSCH)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop beginning; index variable I; start value is 1; stop value is 11; by value is 1.  
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 1
SYMBOLGEN:  Macro variable CATEGORY resolves to AGE_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is TRUE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
59                                                                              The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sgplot data=ressch_AGE;
SYMBOLGEN:  Macro variable CATEGORY resolves to AGE_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   scatter y=AGE_ x=CV_time/ name="Schoenfeld_AGE";
SYMBOLGEN:  Macro variable CATEGORY resolves to AGE_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   loess y=AGE_ x=CV_time/SMOOTH=.8 DEGREE=1 INTERPOLATION= CUBIC ;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   keylegend "Schoenfeld_AGE"/ title=' ' Position=bottom;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: PROCEDURE SGPLOT used (Total process time):
      real time           1.86 seconds
      cpu time            0.29 seconds
      
NOTE: Marker and line antialiasing has been disabled because the threshold has been reached. You can set ANTIALIASMAX=3000 in the ODS GRAPHICS statement to restore 
      antialiasing.
NOTE: There were 2975 observations read from the data set WORK.RESSCH_AGE.

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Because Schoenfeld residuals are based on the effects of the predictor variables that are assumed to be independent of time, a plot 
of the residuals by time could be used to visually assess whether the effect of the predictor variable changes over the period of follow-up. A smoothed line fit to the plot 
ofthe residuals should have an intercept and a slope of approximately 0 (Hosmer and Lemeshow 1999).";
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 2; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 2
SYMBOLGEN:  Macro variable CATEGORY resolves to SYSTOLIC_BP_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 3; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 3
SYMBOLGEN:  Macro variable CATEGORY resolves to DIASTOLIC_BP_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 4; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 4
SYMBOLGEN:  Macro variable CATEGORY resolves to LDL_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 5; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 5
60                                                                              The SAS System

SYMBOLGEN:  Macro variable CATEGORY resolves to BMI_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 6; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 6
SYMBOLGEN:  Macro variable CATEGORY resolves to DIABETES_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 7; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 7
SYMBOLGEN:  Macro variable CATEGORY resolves to SMOKING_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 8; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 8
SYMBOLGEN:  Macro variable CATEGORY resolves to SEX_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 9; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 9
SYMBOLGEN:  Macro variable CATEGORY resolves to TREATMENT_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 10; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 10
SYMBOLGEN:  Macro variable CATEGORY resolves to ACTIVITY_high
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 11; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 11
SYMBOLGEN:  Macro variable CATEGORY resolves to ACTIVITY_low
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
61                                                                              The SAS System

SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 12; loop will not iterate again.
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
SYMBOLGEN:  Macro variable _INTERACTIONS resolves to _ALL
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %qscan(&_INTERACTIONS, 1) = _ALL is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Assess the model for interactions';
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Check for interactions AGE";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data AGE_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The data set WORK.AGE_INTERACTIONS has 1 observations and 0 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop beginning; index variable INT_COUNT; start value is 1; stop value is 9; by value is 1.  
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 1
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 1
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_AGE;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to AGE*SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY AGE*SYSTOLIC_BP /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_AGE has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
62                                                                              The SAS System

      real time           0.36 seconds
      cpu time            0.10 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data AGE_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set AGE_interactions interaction_AGE (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 1 observations read from the data set WORK.AGE_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_AGE.
      WHERE parameter contains '*';
NOTE: The data set WORK.AGE_INTERACTIONS has 2 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 2; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 2
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 2
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_AGE;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to AGE*DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY AGE*DIASTOLIC_BP /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_AGE has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.33 seconds
      cpu time            0.12 seconds
63                                                                              The SAS System

      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data AGE_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set AGE_interactions interaction_AGE (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 2 observations read from the data set WORK.AGE_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_AGE.
      WHERE parameter contains '*';
NOTE: The data set WORK.AGE_INTERACTIONS has 3 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 3; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 3
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 3
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_AGE;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to AGE*LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY AGE*LDL /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_AGE has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.26 seconds
      cpu time            0.14 seconds
      
64                                                                              The SAS System


MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data AGE_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set AGE_interactions interaction_AGE (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 3 observations read from the data set WORK.AGE_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_AGE.
      WHERE parameter contains '*';
NOTE: The data set WORK.AGE_INTERACTIONS has 4 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 4; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 4
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 4
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_AGE;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to AGE*BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY AGE*BMI /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_AGE has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.15 seconds
      

65                                                                              The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data AGE_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set AGE_interactions interaction_AGE (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 4 observations read from the data set WORK.AGE_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_AGE.
      WHERE parameter contains '*';
NOTE: The data set WORK.AGE_INTERACTIONS has 5 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 5; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 5
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 5
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_AGE;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to AGE*DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY AGE*DIABETES /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_AGE has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.09 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
66                                                                              The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   data AGE_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set AGE_interactions interaction_AGE (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 5 observations read from the data set WORK.AGE_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_AGE.
      WHERE parameter contains '*';
NOTE: The data set WORK.AGE_INTERACTIONS has 6 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 6; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 6
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 6
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_AGE;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to AGE*SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY AGE*SMOKING /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_AGE has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.30 seconds
      cpu time            0.09 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data AGE_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
67                                                                              The SAS System

SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set AGE_interactions interaction_AGE (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 6 observations read from the data set WORK.AGE_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_AGE.
      WHERE parameter contains '*';
NOTE: The data set WORK.AGE_INTERACTIONS has 7 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 7; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 7
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 7
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_AGE;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to AGE*SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY AGE*SEX /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_AGE has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.09 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data AGE_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
68                                                                              The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   set AGE_interactions interaction_AGE (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 7 observations read from the data set WORK.AGE_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_AGE.
      WHERE parameter contains '*';
NOTE: The data set WORK.AGE_INTERACTIONS has 8 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 8; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 8
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 8
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_AGE;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to AGE*TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY AGE*TREATMENT /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_AGE has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.22 seconds
      cpu time            0.11 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data AGE_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set AGE_interactions interaction_AGE (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;
69                                                                              The SAS System


NOTE: There were 8 observations read from the data set WORK.AGE_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_AGE.
      WHERE parameter contains '*';
NOTE: The data set WORK.AGE_INTERACTIONS has 9 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 9; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 9
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 9
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_AGE;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to AGE*ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY AGE*ACTIVITY /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_AGE has 13 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.25 seconds
      cpu time            0.07 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data AGE_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set AGE_interactions interaction_AGE (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 9 observations read from the data set WORK.AGE_INTERACTIONS.
70                                                                              The SAS System

NOTE: There were 2 observations read from the data set WORK.INTERACTION_AGE.
      WHERE parameter contains '*';
NOTE: The data set WORK.AGE_INTERACTIONS has 11 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 10; loop will not iterate again.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data AGE_interactions;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set AGE_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   if missing(parameter) then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   if ProbChiSq < 0.05 then flag='*';
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 11 observations read from the data set WORK.AGE_INTERACTIONS.
NOTE: The data set WORK.AGE_INTERACTIONS has 10 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc print data=AGE_interactions noobs label;
MPRINT(CHECK_COX_ASSUMPTIONS):   var parameter label estimate stderr chisq ProbChiSq flag;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 10 observations read from the data set WORK.AGE_INTERACTIONS.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Results of a partial likelihood ratio test that compares the model with only the main effects to the model with the main effects 
and all two-way interactions. P-values less than 0.05 are marked";
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Assess the model for confounders';
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Check for Confounders adjusting for AGE";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates=AGE_adjusted;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
71                                                                              The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.AGE_ADJUSTED has 11 observations and 11 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.30 seconds
      cpu time            0.12 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates=AGE_crude;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   id AGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 318 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.AGE_CRUDE has 10 observations and 11 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.09 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sort data=AGE_adjusted;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 11 observations read from the data set WORK.AGE_ADJUSTED.
NOTE: The data set WORK.AGE_ADJUSTED has 11 observations and 11 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.03 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sort data=AGE_crude;
72                                                                              The SAS System

SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 10 observations read from the data set WORK.AGE_CRUDE.
NOTE: The data set WORK.AGE_CRUDE has 10 observations and 11 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data table_AGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   merge AGE_adjusted(rename=(estimate=estimate1 stderr=stderr1 hazardratio=hazardratio1 HRLOWERCL=HRLOWERCL1 HRupperCL=HRupperCL1)) AGE_crude;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   drop HRLowerCL HRUpperCL ProbChiSq DF chisq;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   if parameter="AGE" then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   change=(estimate-estimate1)/estimate;
MPRINT(CHECK_COX_ASSUMPTIONS):   if abs(change)>0.2 and (abs(estimate)>0.01 or abs(estimate1)>0.01) then flag='*';
MPRINT(CHECK_COX_ASSUMPTIONS):   HR= put(hazardratio,5.2)||' ('||put(HRLOWERCL,5.2)||'-'||put(HRupperCL,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   HR1= put(hazardratio1,5.2)||' ('||put(HRLOWERCL1,5.2)||'-'||put(HRupperCL1,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   EST=put(estimate,5.2)||' ('||put(stderr,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   EST1=put(estimate1,5.2)||' ('||put(stderr1,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   label est1= 'Adjusted Estimate (Error)' est= 'Crude Estimate (Error)' HR= 'Crude Hazard Ratio (95% CI)' HR1= 'Adjusted Hazard Ratio (95% CI)';
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   if upcase(parameter) =upcase("AGE") then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 572:111   1 at 572:139   
NOTE: There were 11 observations read from the data set WORK.AGE_ADJUSTED.
NOTE: There were 10 observations read from the data set WORK.AGE_CRUDE.
NOTE: The data set WORK.TABLE_AGE has 10 observations and 17 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc print data=table_AGE noobs label;
MPRINT(CHECK_COX_ASSUMPTIONS):   format change percent.;
MPRINT(CHECK_COX_ASSUMPTIONS):   var parameter label est hr est1 hr1 change flag;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 10 observations read from the data set WORK.TABLE_AGE.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      
73                                                                              The SAS System


MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Estimating change between Parameter Estimates for Other variables varies significantly for model without (crude) or with (adjusted) 
variable of interest. Variables for which parameter estimates varies by more than 20% are flaged.Variables are flaged only if at least one of the estimates is larger then 
0.01.";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc datasets lib=work memtype=data;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable NUMBER resolves to 2
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   delete table_AGE AGE_ADJUSTED AGE_CRUDE AGE_INTERACTIONS INTERACTION_AGE ClassLevelInfo_2 AGE_LIFETEST MART PARMSAGE RANKAGE RESSCH_AGE 
SCHOENFELD;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: Deleting WORK.TABLE_AGE (memtype=DATA).
NOTE: Deleting WORK.AGE_ADJUSTED (memtype=DATA).
NOTE: Deleting WORK.AGE_CRUDE (memtype=DATA).
NOTE: Deleting WORK.AGE_INTERACTIONS (memtype=DATA).
NOTE: Deleting WORK.INTERACTION_AGE (memtype=DATA).
NOTE: Deleting WORK.CLASSLEVELINFO_2 (memtype=DATA).
NOTE: Deleting WORK.AGE_LIFETEST (memtype=DATA).
NOTE: Deleting WORK.MART (memtype=DATA).
NOTE: Deleting WORK.PARMSAGE (memtype=DATA).
NOTE: Deleting WORK.RANKAGE (memtype=DATA).
NOTE: Deleting WORK.RESSCH_AGE (memtype=DATA).
NOTE: Deleting WORK.SCHOENFELD (memtype=DATA).
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.57 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MLOGIC(CHECK_COX_ASSUMPTIONS):  Ending execution.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO loop index variable ALL_COUNT is now 2; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CHECK_VAR)
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable ALL_COUNT resolves to 2
MLOGIC(CHECK_COX_ASSUMPTIONS):  Beginning execution.
SYMBOLGEN:  Macro variable _NUMBER resolves to 2
SYMBOLGEN:  Macro variable _DATA resolves to rq.simcox
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable _CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
SYMBOLGEN:  Macro variable _OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable _FU resolves to CV_time
SYMBOLGEN:  Macro variable _STOP resolves to activity
SYMBOLGEN:  Macro variable _EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Macro variable CHECK_VAR resolves to SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
74                                                                              The SAS System

MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter NUMBER has value 2
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter DATA has value rq.simcox
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter PREDICTORS has value AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter CLASS has value diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter OUTCOME has value CV_event
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter FU has value CV_time
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter STOP has value ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter EXCLUDE has value _NOTHING
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter CHECK has value SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   select distinct predictor into :predictors_WITHOUT_check separated by ' ' from predictors_2 where left(predictor)^="SYSTOLIC_BP" order by 
order;
WARNING: The query as specified involves ordering by an item that doesn't appear in its SELECT clause. Since you are ordering the output of a SELECT DISTINCT it may appear 
         that some duplicates have not been eliminated.
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.02 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT predictors_WITHOUT_check=&predictors_WITHOUT_check
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
predictors_WITHOUT_check=AGE DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ClassLevelInfo=ClassLevelInfo_2;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.CLASSLEVELINFO_2 has 11 observations and 5 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.29 seconds
      cpu time            0.10 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %sysfunc(exist(ClassLevelInfo_&NUMBER)) is TRUE
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(%sysfunc(countw(&class)))=0) is FALSE
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   data ClassLevelInfo_2;
75                                                                              The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   length class $30 value$30;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   set ClassLevelInfo_2;
MPRINT(CHECK_COX_ASSUMPTIONS):   class=UPCASE(CLASS);
MPRINT(CHECK_COX_ASSUMPTIONS):   if ^missing(class) then call symput ('new',class);
MPRINT(CHECK_COX_ASSUMPTIONS):   else class=symget('new');
MPRINT(CHECK_COX_ASSUMPTIONS):   if sum(of X:)=0 then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 11 observations read from the data set WORK.CLASSLEVELINFO_2.
NOTE: The data set WORK.CLASSLEVELINFO_2 has 6 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   select distinct class into :class_variables separated by ' ' from ClassLevelInfo_2;
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   create table schoenfeld as select predictor, order, value, compress(catx('',predictor,'_',left(value))," -$%^()&#@","c") as schoenfeld from 
Predictors_2 left join ClassLevelInfo_2 on left(class)=left(predictor) order by order, schoenfeld;
NOTE: Table WORK.SCHOENFELD created, with 11 rows and 4 columns.

MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.10 seconds
      cpu time            0.03 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
MPRINT(CHECK_COX_ASSUMPTIONS):   select schoenfeld into :schoenfeld separated by ' ' from schoenfeld;
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT predictors=&predictors_used
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
predictors=AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT class_variables=&class_variables
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
class_variables=ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT schoenfeld = &schoenfeld
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
schoenfeld = AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
76                                                                              The SAS System

SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (&CHECK in &class_variables)=0 is TRUE
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Verify the linearity assumption of continuous predictor variables';
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the Linearity Assumption of SYSTOLIC_BP by Plotting Martingale Residuals";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   id SYSTOLIC_BP;
MPRINT(CHECK_COX_ASSUMPTIONS):   output out=mart resmart=mart;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 321 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.MART has 2975 observations and 20 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.63 seconds
      cpu time            0.32 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sgplot data=mart;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   scatter y=mart x=SYSTOLIC_BP/ name='Martingale';
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   loess y=mart x=SYSTOLIC_BP/SMOOTH=.8 DEGREE=1 INTERPOLATION= CUBIC ;
MPRINT(CHECK_COX_ASSUMPTIONS):   keylegend 'Martingale'/ title=' ' Position=bottom;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: PROCEDURE SGPLOT used (Total process time):
      real time           2.03 seconds
      cpu time            0.40 seconds
      
NOTE: Marker and line antialiasing has been disabled because the threshold has been reached. You can set ANTIALIASMAX=3000 in the ODS GRAPHICS statement to restore 
      antialiasing.
NOTE: There were 2975 observations read from the data set WORK.MART.

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT='To use the Martingale residuals to assess the linearity assumption, first fit a	model that excludes the predictor variable of 
interest. Then plot the	Martingale residuals by the values of the excluded predictor variable of	interest. Finally, fit a smoothed line (that is, a loess smooth) in the plot. 
The	shape of the smoothed line provides an estimate of the functional form of the	predictor variable in the model (Therneau, Grambsch, and Fleming 1990).';
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the Linearity Assumption of SYSTOLIC_BP by Plotting Dummy Estimates";
77                                                                              The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   proc rank data=rq.simcox groups=5 out=rankSYSTOLIC_BP;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   var SYSTOLIC_BP;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   ranks groupSYSTOLIC_BP;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The data set WORK.RANKSYSTOLIC_BP has 3000 observations and 20 variables.
NOTE: PROCEDURE RANK used (Total process time):
      real time           0.12 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   data rankSYSTOLIC_BP;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   set rankSYSTOLIC_BP;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   d0=(groupSYSTOLIC_BP=0);
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   d1=(groupSYSTOLIC_BP=1);
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   d2=(groupSYSTOLIC_BP=2);
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   d3=(groupSYSTOLIC_BP=3);
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   d4=(groupSYSTOLIC_BP=4);
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 3000 observations read from the data set WORK.RANKSYSTOLIC_BP.
NOTE: The data set WORK.RANKSYSTOLIC_BP has 3000 observations and 25 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output parameterestimates=parmsSYSTOLIC_BP;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rankSYSTOLIC_BP;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) loop beginning.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable VAR resolves to AGE
78                                                                              The SAS System

SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable VAR resolves to SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable VAR resolves to DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable VAR resolves to LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
79                                                                              The SAS System

SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable VAR resolves to BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable VAR resolves to DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable VAR resolves to SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable VAR resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 8
80                                                                              The SAS System

SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable VAR resolves to TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable VAR resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 10
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL() condition is TRUE; loop will not iterate again.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY d4 d3 d2 d1 d0 /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;


NOTE: 321 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.PARMSSYSTOLIC_BP has 15 observations and 11 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.26 seconds
      cpu time            0.14 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   data parmsSYSTOLIC_BP;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   set parmsSYSTOLIC_BP;
MPRINT(CHECK_COX_ASSUMPTIONS):   where parameter in ('d0', 'd1', 'd2', 'd3', 'd4');
MPRINT(CHECK_COX_ASSUMPTIONS):   num_parm=input(substr(parameter, 2, 1),1.);
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 5 observations read from the data set WORK.PARMSSYSTOLIC_BP.
      WHERE parameter in ('d0', 'd1', 'd2', 'd3', 'd4');
81                                                                              The SAS System

NOTE: The data set WORK.PARMSSYSTOLIC_BP has 5 observations and 12 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   proc means data=rankSYSTOLIC_BP min max maxdec=2;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   class groupSYSTOLIC_BP;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   var SYSTOLIC_BP;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 3000 observations read from the data set WORK.RANKSYSTOLIC_BP.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.11 seconds
      cpu time            0.03 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sgplot data=parmsSYSTOLIC_BP;
MPRINT(CHECK_COX_ASSUMPTIONS):   scatter y=estimate x=num_parm;
MPRINT(CHECK_COX_ASSUMPTIONS):   loess y=estimate x=num_parm/SMOOTH=.8 DEGREE=1 INTERPOLATION= CUBIC ;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: PROCEDURE SGPLOT used (Total process time):
      real time           0.98 seconds
      cpu time            0.25 seconds
      
NOTE: There were 5 observations read from the data set WORK.PARMSSYSTOLIC_BP.

WARNING: The quoted string currently being processed has become more than 512 characters long.  You may have unbalanced quotation marks.
MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT ="One method to check for linearity is to replace the predictor variable of	interest with several dummy variables. Then fit the 
model with the new dummy variables and plot the parameter estimates of the dummy variables, with a point at zero representing the reference group.	If the correct scale is 
linear in the log hazard, then a smoothed line is fairly linear. If the smoothed line departs substantially from a linear trend, then its	form is used to decide how to model 
the predictor variable (Hosmer and Lemeshow 1999).";
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Verify the proportional hazards assumption of predictor variables';
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the PH Assumption of SYSTOLIC_BP by Plotting LLS";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (&CHECK in &class_variables)=0 is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods graphics on;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select LogNegLogSurvivalPlot;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   proc lifetest data=rankSYSTOLIC_BP outsurv=SYSTOLIC_BP_lifetest NOTABLE method=km plots=lls;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
MPRINT(CHECK_COX_ASSUMPTIONS):   time CV_time*CV_event(0);
82                                                                              The SAS System

SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   strata groupSYSTOLIC_BP;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The LOGLOG transform is used to compute the confidence limits for the survivor function. To suppress using this transform, specify CONFTYPE=LINEAR in the PROC SURVIVAL 
      statement.
NOTE: 59 observations with invalid time, censoring, or strata values were deleted.
NOTE: The data set WORK.SYSTOLIC_BP_LIFETEST has 2921 observations and 7 variables.
NOTE: PROCEDURE LIFETEST used (Total process time):
      real time           1.75 seconds
      cpu time            0.40 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT ="One method to assess the proportional hazards assumption is to plot thelog-negative-log of the Kaplan-Meier estimates of the 
survival function versus the log of time. If the hazard ratios are constant, the plot has parallel lines.";
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the PH Assumption of SYSTOLIC_BP by Plotting Schoenfeld Residuals";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods graphics off;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &CHECK in &class_variables is FALSE
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox noprint;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
MPRINT(CHECK_COX_ASSUMPTIONS):   output out=ressch_SYSTOLIC_BP ressch=AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high 
ACTIVITY_low;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.RESSCH_SYSTOLIC_BP has 2975 observations and 30 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.85 seconds
      cpu time            0.48 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNTSCH)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop beginning; index variable I; start value is 1; stop value is 11; by value is 1.  
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 1
SYMBOLGEN:  Macro variable CATEGORY resolves to AGE_
83                                                                              The SAS System

SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
WARNING: Argument 3 to macro function %SUBSTR is out of range.
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 2; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 2
SYMBOLGEN:  Macro variable CATEGORY resolves to SYSTOLIC_BP_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is TRUE
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sgplot data=ressch_SYSTOLIC_BP;
SYMBOLGEN:  Macro variable CATEGORY resolves to SYSTOLIC_BP_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   scatter y=SYSTOLIC_BP_ x=CV_time/ name="Schoenfeld_SYSTOLIC_BP";
SYMBOLGEN:  Macro variable CATEGORY resolves to SYSTOLIC_BP_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   loess y=SYSTOLIC_BP_ x=CV_time/SMOOTH=.8 DEGREE=1 INTERPOLATION= CUBIC ;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   keylegend "Schoenfeld_SYSTOLIC_BP"/ title=' ' Position=bottom;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: PROCEDURE SGPLOT used (Total process time):
      real time           1.22 seconds
      cpu time            0.29 seconds
      
NOTE: Marker and line antialiasing has been disabled because the threshold has been reached. You can set ANTIALIASMAX=3000 in the ODS GRAPHICS statement to restore 
      antialiasing.
NOTE: There were 2975 observations read from the data set WORK.RESSCH_SYSTOLIC_BP.

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Because Schoenfeld residuals are based on the effects of the predictor variables that are assumed to be independent of time, a plot 
of the residuals by time could be used to visually assess whether the effect of the predictor variable changes over the period of follow-up. A smoothed line fit to the plot 
ofthe residuals should have an intercept and a slope of approximately 0 (Hosmer and Lemeshow 1999).";
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 3; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 3
SYMBOLGEN:  Macro variable CATEGORY resolves to DIASTOLIC_BP_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 4; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 4
SYMBOLGEN:  Macro variable CATEGORY resolves to LDL_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
84                                                                              The SAS System

WARNING: Argument 3 to macro function %SUBSTR is out of range.
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 5; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 5
SYMBOLGEN:  Macro variable CATEGORY resolves to BMI_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
WARNING: Argument 3 to macro function %SUBSTR is out of range.
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 6; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 6
SYMBOLGEN:  Macro variable CATEGORY resolves to DIABETES_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
WARNING: Argument 3 to macro function %SUBSTR is out of range.
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 7; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 7
SYMBOLGEN:  Macro variable CATEGORY resolves to SMOKING_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
WARNING: Argument 3 to macro function %SUBSTR is out of range.
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 8; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 8
SYMBOLGEN:  Macro variable CATEGORY resolves to SEX_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
WARNING: Argument 3 to macro function %SUBSTR is out of range.
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 9; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 9
SYMBOLGEN:  Macro variable CATEGORY resolves to TREATMENT_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 10; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 10
85                                                                              The SAS System

SYMBOLGEN:  Macro variable CATEGORY resolves to ACTIVITY_high
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 11; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 11
SYMBOLGEN:  Macro variable CATEGORY resolves to ACTIVITY_low
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 12; loop will not iterate again.
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
SYMBOLGEN:  Macro variable _INTERACTIONS resolves to _ALL
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %qscan(&_INTERACTIONS, 1) = _ALL is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Assess the model for interactions';
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Check for interactions SYSTOLIC_BP";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   data SYSTOLIC_BP_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The data set WORK.SYSTOLIC_BP_INTERACTIONS has 1 observations and 0 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop beginning; index variable INT_COUNT; start value is 1; stop value is 9; by value is 1.  
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 1
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 1
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_SYSTOLIC_BP;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
86                                                                              The SAS System

SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to SYSTOLIC_BP*AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY SYSTOLIC_BP*AGE /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_SYSTOLIC_BP has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.30 seconds
      cpu time            0.12 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   data SYSTOLIC_BP_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   set SYSTOLIC_BP_interactions interaction_SYSTOLIC_BP (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 1 observations read from the data set WORK.SYSTOLIC_BP_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_SYSTOLIC_BP.
      WHERE parameter contains '*';
NOTE: The data set WORK.SYSTOLIC_BP_INTERACTIONS has 2 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 2; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 2
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 2
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_SYSTOLIC_BP;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to SYSTOLIC_BP*DIASTOLIC_BP
87                                                                              The SAS System

SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY SYSTOLIC_BP*DIASTOLIC_BP /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_SYSTOLIC_BP has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.12 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   data SYSTOLIC_BP_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   set SYSTOLIC_BP_interactions interaction_SYSTOLIC_BP (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 2 observations read from the data set WORK.SYSTOLIC_BP_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_SYSTOLIC_BP.
      WHERE parameter contains '*';
NOTE: The data set WORK.SYSTOLIC_BP_INTERACTIONS has 3 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 3; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 3
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 3
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_SYSTOLIC_BP;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to SYSTOLIC_BP*LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
88                                                                              The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY SYSTOLIC_BP*LDL /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_SYSTOLIC_BP has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.14 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   data SYSTOLIC_BP_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   set SYSTOLIC_BP_interactions interaction_SYSTOLIC_BP (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 3 observations read from the data set WORK.SYSTOLIC_BP_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_SYSTOLIC_BP.
      WHERE parameter contains '*';
NOTE: The data set WORK.SYSTOLIC_BP_INTERACTIONS has 4 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 4; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 4
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 4
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_SYSTOLIC_BP;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to SYSTOLIC_BP*BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY SYSTOLIC_BP*BMI /ties=exact;
89                                                                              The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_SYSTOLIC_BP has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.28 seconds
      cpu time            0.12 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   data SYSTOLIC_BP_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   set SYSTOLIC_BP_interactions interaction_SYSTOLIC_BP (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 4 observations read from the data set WORK.SYSTOLIC_BP_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_SYSTOLIC_BP.
      WHERE parameter contains '*';
NOTE: The data set WORK.SYSTOLIC_BP_INTERACTIONS has 5 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 5; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 5
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 5
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_SYSTOLIC_BP;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to SYSTOLIC_BP*DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY SYSTOLIC_BP*DIABETES /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;
90                                                                              The SAS System


NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_SYSTOLIC_BP has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.14 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   data SYSTOLIC_BP_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   set SYSTOLIC_BP_interactions interaction_SYSTOLIC_BP (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 5 observations read from the data set WORK.SYSTOLIC_BP_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_SYSTOLIC_BP.
      WHERE parameter contains '*';
NOTE: The data set WORK.SYSTOLIC_BP_INTERACTIONS has 6 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 6; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 6
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 6
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_SYSTOLIC_BP;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to SYSTOLIC_BP*SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY SYSTOLIC_BP*SMOKING /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

91                                                                              The SAS System

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_SYSTOLIC_BP has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.30 seconds
      cpu time            0.15 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   data SYSTOLIC_BP_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   set SYSTOLIC_BP_interactions interaction_SYSTOLIC_BP (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 6 observations read from the data set WORK.SYSTOLIC_BP_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_SYSTOLIC_BP.
      WHERE parameter contains '*';
NOTE: The data set WORK.SYSTOLIC_BP_INTERACTIONS has 7 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 7; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 7
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 7
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_SYSTOLIC_BP;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to SYSTOLIC_BP*SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY SYSTOLIC_BP*SEX /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
92                                                                              The SAS System

      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_SYSTOLIC_BP has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.28 seconds
      cpu time            0.07 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   data SYSTOLIC_BP_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   set SYSTOLIC_BP_interactions interaction_SYSTOLIC_BP (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 7 observations read from the data set WORK.SYSTOLIC_BP_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_SYSTOLIC_BP.
      WHERE parameter contains '*';
NOTE: The data set WORK.SYSTOLIC_BP_INTERACTIONS has 8 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 8; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 8
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 8
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_SYSTOLIC_BP;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to SYSTOLIC_BP*TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY SYSTOLIC_BP*TREATMENT /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
93                                                                              The SAS System

NOTE: The data set WORK.INTERACTION_SYSTOLIC_BP has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.12 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   data SYSTOLIC_BP_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   set SYSTOLIC_BP_interactions interaction_SYSTOLIC_BP (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 8 observations read from the data set WORK.SYSTOLIC_BP_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_SYSTOLIC_BP.
      WHERE parameter contains '*';
NOTE: The data set WORK.SYSTOLIC_BP_INTERACTIONS has 9 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 9; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 9
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 9
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_SYSTOLIC_BP;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to SYSTOLIC_BP*ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY SYSTOLIC_BP*ACTIVITY /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_SYSTOLIC_BP has 13 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
94                                                                              The SAS System

      real time           0.23 seconds
      cpu time            0.14 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   data SYSTOLIC_BP_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   set SYSTOLIC_BP_interactions interaction_SYSTOLIC_BP (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 9 observations read from the data set WORK.SYSTOLIC_BP_INTERACTIONS.
NOTE: There were 2 observations read from the data set WORK.INTERACTION_SYSTOLIC_BP.
      WHERE parameter contains '*';
NOTE: The data set WORK.SYSTOLIC_BP_INTERACTIONS has 11 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 10; loop will not iterate again.
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   data SYSTOLIC_BP_interactions;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   set SYSTOLIC_BP_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   if missing(parameter) then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   if ProbChiSq < 0.05 then flag='*';
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 11 observations read from the data set WORK.SYSTOLIC_BP_INTERACTIONS.
NOTE: The data set WORK.SYSTOLIC_BP_INTERACTIONS has 10 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   proc print data=SYSTOLIC_BP_interactions noobs label;
MPRINT(CHECK_COX_ASSUMPTIONS):   var parameter label estimate stderr chisq ProbChiSq flag;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 10 observations read from the data set WORK.SYSTOLIC_BP_INTERACTIONS.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Results of a partial likelihood ratio test that compares the model with only the main effects to the model with the main effects 
and all two-way interactions. P-values less than 0.05 are marked";
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Assess the model for confounders';
95                                                                              The SAS System

SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Check for Confounders adjusting for SYSTOLIC_BP";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates=SYSTOLIC_BP_adjusted;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.SYSTOLIC_BP_ADJUSTED has 11 observations and 11 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.14 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates=SYSTOLIC_BP_crude;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   id SYSTOLIC_BP;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 321 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.SYSTOLIC_BP_CRUDE has 10 observations and 11 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.14 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
96                                                                              The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sort data=SYSTOLIC_BP_adjusted;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 11 observations read from the data set WORK.SYSTOLIC_BP_ADJUSTED.
NOTE: The data set WORK.SYSTOLIC_BP_ADJUSTED has 11 observations and 11 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sort data=SYSTOLIC_BP_crude;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 10 observations read from the data set WORK.SYSTOLIC_BP_CRUDE.
NOTE: The data set WORK.SYSTOLIC_BP_CRUDE has 10 observations and 11 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   data table_SYSTOLIC_BP;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   merge SYSTOLIC_BP_adjusted(rename=(estimate=estimate1 stderr=stderr1 hazardratio=hazardratio1 HRLOWERCL=HRLOWERCL1 HRupperCL=HRupperCL1)) 
SYSTOLIC_BP_crude;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   drop HRLowerCL HRUpperCL ProbChiSq DF chisq;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   if parameter="SYSTOLIC_BP" then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   change=(estimate-estimate1)/estimate;
MPRINT(CHECK_COX_ASSUMPTIONS):   if abs(change)>0.2 and (abs(estimate)>0.01 or abs(estimate1)>0.01) then flag='*';
MPRINT(CHECK_COX_ASSUMPTIONS):   HR= put(hazardratio,5.2)||' ('||put(HRLOWERCL,5.2)||'-'||put(HRupperCL,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   HR1= put(hazardratio1,5.2)||' ('||put(HRLOWERCL1,5.2)||'-'||put(HRupperCL1,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   EST=put(estimate,5.2)||' ('||put(stderr,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   EST1=put(estimate1,5.2)||' ('||put(stderr1,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   label est1= 'Adjusted Estimate (Error)' est= 'Crude Estimate (Error)' HR= 'Crude Hazard Ratio (95% CI)' HR1= 'Adjusted Hazard Ratio (95% CI)';
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   if upcase(parameter) =upcase("SYSTOLIC_BP") then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 572:111   1 at 572:139   
NOTE: There were 11 observations read from the data set WORK.SYSTOLIC_BP_ADJUSTED.
NOTE: There were 10 observations read from the data set WORK.SYSTOLIC_BP_CRUDE.
NOTE: The data set WORK.TABLE_SYSTOLIC_BP has 10 observations and 17 variables.
97                                                                              The SAS System

NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   proc print data=table_SYSTOLIC_BP noobs label;
MPRINT(CHECK_COX_ASSUMPTIONS):   format change percent.;
MPRINT(CHECK_COX_ASSUMPTIONS):   var parameter label est hr est1 hr1 change flag;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 10 observations read from the data set WORK.TABLE_SYSTOLIC_BP.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Estimating change between Parameter Estimates for Other variables varies significantly for model without (crude) or with (adjusted) 
variable of interest. Variables for which parameter estimates varies by more than 20% are flaged.Variables are flaged only if at least one of the estimates is larger then 
0.01.";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc datasets lib=work memtype=data;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable NUMBER resolves to 2
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   delete table_SYSTOLIC_BP SYSTOLIC_BP_ADJUSTED SYSTOLIC_BP_CRUDE SYSTOLIC_BP_INTERACTIONS INTERACTION_SYSTOLIC_BP ClassLevelInfo_2 
SYSTOLIC_BP_LIFETEST MART PARMSSYSTOLIC_BP RANKSYSTOLIC_BP RESSCH_SYSTOLIC_BP SCHOENFELD;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: Deleting WORK.TABLE_SYSTOLIC_BP (memtype=DATA).
NOTE: Deleting WORK.SYSTOLIC_BP_ADJUSTED (memtype=DATA).
NOTE: Deleting WORK.SYSTOLIC_BP_CRUDE (memtype=DATA).
NOTE: Deleting WORK.SYSTOLIC_BP_INTERACTIONS (memtype=DATA).
NOTE: Deleting WORK.INTERACTION_SYSTOLIC_BP (memtype=DATA).
NOTE: Deleting WORK.CLASSLEVELINFO_2 (memtype=DATA).
NOTE: Deleting WORK.SYSTOLIC_BP_LIFETEST (memtype=DATA).
NOTE: Deleting WORK.MART (memtype=DATA).
NOTE: Deleting WORK.PARMSSYSTOLIC_BP (memtype=DATA).
NOTE: Deleting WORK.RANKSYSTOLIC_BP (memtype=DATA).
NOTE: Deleting WORK.RESSCH_SYSTOLIC_BP (memtype=DATA).
NOTE: Deleting WORK.SCHOENFELD (memtype=DATA).
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.58 seconds
      cpu time            0.07 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
98                                                                              The SAS System

MLOGIC(CHECK_COX_ASSUMPTIONS):  Ending execution.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO loop index variable ALL_COUNT is now 3; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CHECK_VAR)
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable ALL_COUNT resolves to 3
MLOGIC(CHECK_COX_ASSUMPTIONS):  Beginning execution.
SYMBOLGEN:  Macro variable _NUMBER resolves to 2
SYMBOLGEN:  Macro variable _DATA resolves to rq.simcox
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable _CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
SYMBOLGEN:  Macro variable _OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable _FU resolves to CV_time
SYMBOLGEN:  Macro variable _STOP resolves to activity
SYMBOLGEN:  Macro variable _EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Macro variable CHECK_VAR resolves to DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter NUMBER has value 2
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter DATA has value rq.simcox
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter PREDICTORS has value AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter CLASS has value diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter OUTCOME has value CV_event
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter FU has value CV_time
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter STOP has value ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter EXCLUDE has value _NOTHING
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter CHECK has value DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   select distinct predictor into :predictors_WITHOUT_check separated by ' ' from predictors_2 where left(predictor)^="DIASTOLIC_BP" order by 
order;
WARNING: The query as specified involves ordering by an item that doesn't appear in its SELECT clause. Since you are ordering the output of a SELECT DISTINCT it may appear 
         that some duplicates have not been eliminated.
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.05 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT predictors_WITHOUT_check=&predictors_WITHOUT_check
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
predictors_WITHOUT_check=AGE SYSTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ClassLevelInfo=ClassLevelInfo_2;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

99                                                                              The SAS System

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.CLASSLEVELINFO_2 has 11 observations and 5 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.27 seconds
      cpu time            0.15 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %sysfunc(exist(ClassLevelInfo_&NUMBER)) is TRUE
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(%sysfunc(countw(&class)))=0) is FALSE
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   data ClassLevelInfo_2;
MPRINT(CHECK_COX_ASSUMPTIONS):   length class $30 value$30;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   set ClassLevelInfo_2;
MPRINT(CHECK_COX_ASSUMPTIONS):   class=UPCASE(CLASS);
MPRINT(CHECK_COX_ASSUMPTIONS):   if ^missing(class) then call symput ('new',class);
MPRINT(CHECK_COX_ASSUMPTIONS):   else class=symget('new');
MPRINT(CHECK_COX_ASSUMPTIONS):   if sum(of X:)=0 then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 11 observations read from the data set WORK.CLASSLEVELINFO_2.
NOTE: The data set WORK.CLASSLEVELINFO_2 has 6 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   select distinct class into :class_variables separated by ' ' from ClassLevelInfo_2;
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   create table schoenfeld as select predictor, order, value, compress(catx('',predictor,'_',left(value))," -$%^()&#@","c") as schoenfeld from 
Predictors_2 left join ClassLevelInfo_2 on left(class)=left(predictor) order by order, schoenfeld;
NOTE: Table WORK.SCHOENFELD created, with 11 rows and 4 columns.

MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.07 seconds
      cpu time            0.04 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
MPRINT(CHECK_COX_ASSUMPTIONS):   select schoenfeld into :schoenfeld separated by ' ' from schoenfeld;
100                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT predictors=&predictors_used
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
predictors=AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT class_variables=&class_variables
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
class_variables=ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT schoenfeld = &schoenfeld
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
schoenfeld = AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (&CHECK in &class_variables)=0 is TRUE
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Verify the linearity assumption of continuous predictor variables';
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the Linearity Assumption of DIASTOLIC_BP by Plotting Martingale Residuals";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   id DIASTOLIC_BP;
MPRINT(CHECK_COX_ASSUMPTIONS):   output out=mart resmart=mart;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 306 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.MART has 2975 observations and 20 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.52 seconds
      cpu time            0.31 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sgplot data=mart;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   scatter y=mart x=DIASTOLIC_BP/ name='Martingale';
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   loess y=mart x=DIASTOLIC_BP/SMOOTH=.8 DEGREE=1 INTERPOLATION= CUBIC ;
101                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   keylegend 'Martingale'/ title=' ' Position=bottom;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: PROCEDURE SGPLOT used (Total process time):
      real time           1.87 seconds
      cpu time            0.34 seconds
      
NOTE: Marker and line antialiasing has been disabled because the threshold has been reached. You can set ANTIALIASMAX=3000 in the ODS GRAPHICS statement to restore 
      antialiasing.
NOTE: There were 2975 observations read from the data set WORK.MART.

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT='To use the Martingale residuals to assess the linearity assumption, first fit a	model that excludes the predictor variable of 
interest. Then plot the	Martingale residuals by the values of the excluded predictor variable of	interest. Finally, fit a smoothed line (that is, a loess smooth) in the plot. 
The	shape of the smoothed line provides an estimate of the functional form of the	predictor variable in the model (Therneau, Grambsch, and Fleming 1990).';
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the Linearity Assumption of DIASTOLIC_BP by Plotting Dummy Estimates";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   proc rank data=rq.simcox groups=5 out=rankDIASTOLIC_BP;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   var DIASTOLIC_BP;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   ranks groupDIASTOLIC_BP;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The data set WORK.RANKDIASTOLIC_BP has 3000 observations and 20 variables.
NOTE: PROCEDURE RANK used (Total process time):
      real time           0.12 seconds
      cpu time            0.04 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   data rankDIASTOLIC_BP;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   set rankDIASTOLIC_BP;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   d0=(groupDIASTOLIC_BP=0);
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   d1=(groupDIASTOLIC_BP=1);
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   d2=(groupDIASTOLIC_BP=2);
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   d3=(groupDIASTOLIC_BP=3);
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   d4=(groupDIASTOLIC_BP=4);
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 3000 observations read from the data set WORK.RANKDIASTOLIC_BP.
NOTE: The data set WORK.RANKDIASTOLIC_BP has 3000 observations and 25 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      

102                                                                             The SAS System

SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output parameterestimates=parmsDIASTOLIC_BP;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rankDIASTOLIC_BP;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) loop beginning.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable VAR resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable VAR resolves to SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable VAR resolves to DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
103                                                                             The SAS System

SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable VAR resolves to LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable VAR resolves to BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable VAR resolves to DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable VAR resolves to SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
104                                                                             The SAS System

SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable VAR resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable VAR resolves to TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable VAR resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 10
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL() condition is TRUE; loop will not iterate again.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY d4 d3 d2 d1 d0 /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;


NOTE: 306 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.PARMSDIASTOLIC_BP has 15 observations and 11 variables.
105                                                                             The SAS System

NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.25 seconds
      cpu time            0.10 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   data parmsDIASTOLIC_BP;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   set parmsDIASTOLIC_BP;
MPRINT(CHECK_COX_ASSUMPTIONS):   where parameter in ('d0', 'd1', 'd2', 'd3', 'd4');
MPRINT(CHECK_COX_ASSUMPTIONS):   num_parm=input(substr(parameter, 2, 1),1.);
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 5 observations read from the data set WORK.PARMSDIASTOLIC_BP.
      WHERE parameter in ('d0', 'd1', 'd2', 'd3', 'd4');
NOTE: The data set WORK.PARMSDIASTOLIC_BP has 5 observations and 12 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   proc means data=rankDIASTOLIC_BP min max maxdec=2;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   class groupDIASTOLIC_BP;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   var DIASTOLIC_BP;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 3000 observations read from the data set WORK.RANKDIASTOLIC_BP.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.12 seconds
      cpu time            0.04 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sgplot data=parmsDIASTOLIC_BP;
MPRINT(CHECK_COX_ASSUMPTIONS):   scatter y=estimate x=num_parm;
MPRINT(CHECK_COX_ASSUMPTIONS):   loess y=estimate x=num_parm/SMOOTH=.8 DEGREE=1 INTERPOLATION= CUBIC ;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: PROCEDURE SGPLOT used (Total process time):
      real time           0.99 seconds
      cpu time            0.26 seconds
      
NOTE: There were 5 observations read from the data set WORK.PARMSDIASTOLIC_BP.

WARNING: The quoted string currently being processed has become more than 512 characters long.  You may have unbalanced quotation marks.
MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT ="One method to check for linearity is to replace the predictor variable of	interest with several dummy variables. Then fit the 
model with the new dummy variables and plot the parameter estimates of the dummy variables, with a point at zero representing the reference group.	If the correct scale is 
linear in the log hazard, then a smoothed line is fairly linear. If the smoothed line departs substantially from a linear trend, then its	form is used to decide how to model 
the predictor variable (Hosmer and Lemeshow 1999).";
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Verify the proportional hazards assumption of predictor variables';
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
106                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the PH Assumption of DIASTOLIC_BP by Plotting LLS";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (&CHECK in &class_variables)=0 is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods graphics on;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select LogNegLogSurvivalPlot;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   proc lifetest data=rankDIASTOLIC_BP outsurv=DIASTOLIC_BP_lifetest NOTABLE method=km plots=lls;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
MPRINT(CHECK_COX_ASSUMPTIONS):   time CV_time*CV_event(0);
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   strata groupDIASTOLIC_BP;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The LOGLOG transform is used to compute the confidence limits for the survivor function. To suppress using this transform, specify CONFTYPE=LINEAR in the PROC SURVIVAL 
      statement.
NOTE: 76 observations with invalid time, censoring, or strata values were deleted.
NOTE: The data set WORK.DIASTOLIC_BP_LIFETEST has 2904 observations and 7 variables.
NOTE: PROCEDURE LIFETEST used (Total process time):
      real time           1.49 seconds
      cpu time            0.43 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT ="One method to assess the proportional hazards assumption is to plot thelog-negative-log of the Kaplan-Meier estimates of the 
survival function versus the log of time. If the hazard ratios are constant, the plot has parallel lines.";
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the PH Assumption of DIASTOLIC_BP by Plotting Schoenfeld Residuals";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods graphics off;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &CHECK in &class_variables is FALSE
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox noprint;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
MPRINT(CHECK_COX_ASSUMPTIONS):   output out=ressch_DIASTOLIC_BP ressch=AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high 
ACTIVITY_low;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
107                                                                             The SAS System

      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.RESSCH_DIASTOLIC_BP has 2975 observations and 30 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.93 seconds
      cpu time            0.53 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNTSCH)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop beginning; index variable I; start value is 1; stop value is 11; by value is 1.  
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 1
SYMBOLGEN:  Macro variable CATEGORY resolves to AGE_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
WARNING: Argument 3 to macro function %SUBSTR is out of range.
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 2; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 2
SYMBOLGEN:  Macro variable CATEGORY resolves to SYSTOLIC_BP_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 3; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 3
SYMBOLGEN:  Macro variable CATEGORY resolves to DIASTOLIC_BP_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is TRUE
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sgplot data=ressch_DIASTOLIC_BP;
SYMBOLGEN:  Macro variable CATEGORY resolves to DIASTOLIC_BP_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   scatter y=DIASTOLIC_BP_ x=CV_time/ name="Schoenfeld_DIASTOLIC_BP";
SYMBOLGEN:  Macro variable CATEGORY resolves to DIASTOLIC_BP_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   loess y=DIASTOLIC_BP_ x=CV_time/SMOOTH=.8 DEGREE=1 INTERPOLATION= CUBIC ;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   keylegend "Schoenfeld_DIASTOLIC_BP"/ title=' ' Position=bottom;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: PROCEDURE SGPLOT used (Total process time):
      real time           1.29 seconds
108                                                                             The SAS System

      cpu time            0.29 seconds
      
NOTE: Marker and line antialiasing has been disabled because the threshold has been reached. You can set ANTIALIASMAX=3000 in the ODS GRAPHICS statement to restore 
      antialiasing.
NOTE: There were 2975 observations read from the data set WORK.RESSCH_DIASTOLIC_BP.

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Because Schoenfeld residuals are based on the effects of the predictor variables that are assumed to be independent of time, a plot 
of the residuals by time could be used to visually assess whether the effect of the predictor variable changes over the period of follow-up. A smoothed line fit to the plot 
ofthe residuals should have an intercept and a slope of approximately 0 (Hosmer and Lemeshow 1999).";
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 4; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 4
SYMBOLGEN:  Macro variable CATEGORY resolves to LDL_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
WARNING: Argument 3 to macro function %SUBSTR is out of range.
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 5; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 5
SYMBOLGEN:  Macro variable CATEGORY resolves to BMI_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
WARNING: Argument 3 to macro function %SUBSTR is out of range.
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 6; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 6
SYMBOLGEN:  Macro variable CATEGORY resolves to DIABETES_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
WARNING: Argument 3 to macro function %SUBSTR is out of range.
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 7; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 7
SYMBOLGEN:  Macro variable CATEGORY resolves to SMOKING_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
WARNING: Argument 3 to macro function %SUBSTR is out of range.
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 8; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 8
SYMBOLGEN:  Macro variable CATEGORY resolves to SEX_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
109                                                                             The SAS System

WARNING: Argument 3 to macro function %SUBSTR is out of range.
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 9; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 9
SYMBOLGEN:  Macro variable CATEGORY resolves to TREATMENT_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
WARNING: Argument 3 to macro function %SUBSTR is out of range.
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 10; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 10
SYMBOLGEN:  Macro variable CATEGORY resolves to ACTIVITY_high
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 11; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 11
SYMBOLGEN:  Macro variable CATEGORY resolves to ACTIVITY_low
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 12; loop will not iterate again.
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
SYMBOLGEN:  Macro variable _INTERACTIONS resolves to _ALL
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %qscan(&_INTERACTIONS, 1) = _ALL is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Assess the model for interactions';
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Check for interactions DIASTOLIC_BP";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   data DIASTOLIC_BP_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The data set WORK.DIASTOLIC_BP_INTERACTIONS has 1 observations and 0 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop beginning; index variable INT_COUNT; start value is 1; stop value is 9; by value is 1.  
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 1
110                                                                             The SAS System

MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 1
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_DIASTOLIC_BP;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to DIASTOLIC_BP*AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY DIASTOLIC_BP*AGE /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_DIASTOLIC_BP has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.30 seconds
      cpu time            0.15 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   data DIASTOLIC_BP_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   set DIASTOLIC_BP_interactions interaction_DIASTOLIC_BP (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 1 observations read from the data set WORK.DIASTOLIC_BP_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_DIASTOLIC_BP.
      WHERE parameter contains '*';
NOTE: The data set WORK.DIASTOLIC_BP_INTERACTIONS has 2 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 2; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 2
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
111                                                                             The SAS System

SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 2
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_DIASTOLIC_BP;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to DIASTOLIC_BP*SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY DIASTOLIC_BP*SYSTOLIC_BP /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_DIASTOLIC_BP has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.15 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   data DIASTOLIC_BP_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   set DIASTOLIC_BP_interactions interaction_DIASTOLIC_BP (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 2 observations read from the data set WORK.DIASTOLIC_BP_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_DIASTOLIC_BP.
      WHERE parameter contains '*';
NOTE: The data set WORK.DIASTOLIC_BP_INTERACTIONS has 3 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 3; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 3
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to LDL
112                                                                             The SAS System

SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 3
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_DIASTOLIC_BP;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to DIASTOLIC_BP*LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY DIASTOLIC_BP*LDL /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_DIASTOLIC_BP has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.22 seconds
      cpu time            0.09 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   data DIASTOLIC_BP_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   set DIASTOLIC_BP_interactions interaction_DIASTOLIC_BP (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 3 observations read from the data set WORK.DIASTOLIC_BP_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_DIASTOLIC_BP.
      WHERE parameter contains '*';
NOTE: The data set WORK.DIASTOLIC_BP_INTERACTIONS has 4 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 4; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 4
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
113                                                                             The SAS System

SYMBOLGEN:  Macro variable INT_COUNT resolves to 4
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_DIASTOLIC_BP;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to DIASTOLIC_BP*BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY DIASTOLIC_BP*BMI /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_DIASTOLIC_BP has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.34 seconds
      cpu time            0.15 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   data DIASTOLIC_BP_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   set DIASTOLIC_BP_interactions interaction_DIASTOLIC_BP (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 4 observations read from the data set WORK.DIASTOLIC_BP_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_DIASTOLIC_BP.
      WHERE parameter contains '*';
NOTE: The data set WORK.DIASTOLIC_BP_INTERACTIONS has 5 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 5; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 5
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 5
114                                                                             The SAS System

SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_DIASTOLIC_BP;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to DIASTOLIC_BP*DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY DIASTOLIC_BP*DIABETES /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_DIASTOLIC_BP has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.10 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   data DIASTOLIC_BP_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   set DIASTOLIC_BP_interactions interaction_DIASTOLIC_BP (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 5 observations read from the data set WORK.DIASTOLIC_BP_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_DIASTOLIC_BP.
      WHERE parameter contains '*';
NOTE: The data set WORK.DIASTOLIC_BP_INTERACTIONS has 6 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 6; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 6
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 6
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
115                                                                             The SAS System

MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_DIASTOLIC_BP;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to DIASTOLIC_BP*SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY DIASTOLIC_BP*SMOKING /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_DIASTOLIC_BP has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.14 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   data DIASTOLIC_BP_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   set DIASTOLIC_BP_interactions interaction_DIASTOLIC_BP (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 6 observations read from the data set WORK.DIASTOLIC_BP_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_DIASTOLIC_BP.
      WHERE parameter contains '*';
NOTE: The data set WORK.DIASTOLIC_BP_INTERACTIONS has 7 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 7; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 7
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 7
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
116                                                                             The SAS System

SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_DIASTOLIC_BP;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to DIASTOLIC_BP*SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY DIASTOLIC_BP*SEX /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_DIASTOLIC_BP has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.07 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   data DIASTOLIC_BP_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   set DIASTOLIC_BP_interactions interaction_DIASTOLIC_BP (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 7 observations read from the data set WORK.DIASTOLIC_BP_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_DIASTOLIC_BP.
      WHERE parameter contains '*';
NOTE: The data set WORK.DIASTOLIC_BP_INTERACTIONS has 8 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 8; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 8
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 8
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_DIASTOLIC_BP;
117                                                                             The SAS System

SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to DIASTOLIC_BP*TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY DIASTOLIC_BP*TREATMENT /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_DIASTOLIC_BP has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.22 seconds
      cpu time            0.10 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   data DIASTOLIC_BP_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   set DIASTOLIC_BP_interactions interaction_DIASTOLIC_BP (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 8 observations read from the data set WORK.DIASTOLIC_BP_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_DIASTOLIC_BP.
      WHERE parameter contains '*';
NOTE: The data set WORK.DIASTOLIC_BP_INTERACTIONS has 9 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 9; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 9
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 9
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_DIASTOLIC_BP;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
118                                                                             The SAS System

SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to DIASTOLIC_BP*ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY DIASTOLIC_BP*ACTIVITY /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_DIASTOLIC_BP has 13 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.07 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   data DIASTOLIC_BP_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   set DIASTOLIC_BP_interactions interaction_DIASTOLIC_BP (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 9 observations read from the data set WORK.DIASTOLIC_BP_INTERACTIONS.
NOTE: There were 2 observations read from the data set WORK.INTERACTION_DIASTOLIC_BP.
      WHERE parameter contains '*';
NOTE: The data set WORK.DIASTOLIC_BP_INTERACTIONS has 11 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 10; loop will not iterate again.
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   data DIASTOLIC_BP_interactions;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   set DIASTOLIC_BP_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   if missing(parameter) then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   if ProbChiSq < 0.05 then flag='*';
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 11 observations read from the data set WORK.DIASTOLIC_BP_INTERACTIONS.
NOTE: The data set WORK.DIASTOLIC_BP_INTERACTIONS has 10 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

119                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   proc print data=DIASTOLIC_BP_interactions noobs label;
MPRINT(CHECK_COX_ASSUMPTIONS):   var parameter label estimate stderr chisq ProbChiSq flag;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 10 observations read from the data set WORK.DIASTOLIC_BP_INTERACTIONS.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Results of a partial likelihood ratio test that compares the model with only the main effects to the model with the main effects 
and all two-way interactions. P-values less than 0.05 are marked";
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Assess the model for confounders';
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Check for Confounders adjusting for DIASTOLIC_BP";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates=DIASTOLIC_BP_adjusted;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.DIASTOLIC_BP_ADJUSTED has 11 observations and 11 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.22 seconds
      cpu time            0.14 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates=DIASTOLIC_BP_crude;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
120                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   id DIASTOLIC_BP;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 306 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.DIASTOLIC_BP_CRUDE has 10 observations and 11 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.22 seconds
      cpu time            0.09 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sort data=DIASTOLIC_BP_adjusted;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 11 observations read from the data set WORK.DIASTOLIC_BP_ADJUSTED.
NOTE: The data set WORK.DIASTOLIC_BP_ADJUSTED has 11 observations and 11 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sort data=DIASTOLIC_BP_crude;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 10 observations read from the data set WORK.DIASTOLIC_BP_CRUDE.
NOTE: The data set WORK.DIASTOLIC_BP_CRUDE has 10 observations and 11 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   data table_DIASTOLIC_BP;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   merge DIASTOLIC_BP_adjusted(rename=(estimate=estimate1 stderr=stderr1 hazardratio=hazardratio1 HRLOWERCL=HRLOWERCL1 HRupperCL=HRupperCL1)) 
DIASTOLIC_BP_crude;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   drop HRLowerCL HRUpperCL ProbChiSq DF chisq;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   if parameter="DIASTOLIC_BP" then delete;
121                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   change=(estimate-estimate1)/estimate;
MPRINT(CHECK_COX_ASSUMPTIONS):   if abs(change)>0.2 and (abs(estimate)>0.01 or abs(estimate1)>0.01) then flag='*';
MPRINT(CHECK_COX_ASSUMPTIONS):   HR= put(hazardratio,5.2)||' ('||put(HRLOWERCL,5.2)||'-'||put(HRupperCL,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   HR1= put(hazardratio1,5.2)||' ('||put(HRLOWERCL1,5.2)||'-'||put(HRupperCL1,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   EST=put(estimate,5.2)||' ('||put(stderr,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   EST1=put(estimate1,5.2)||' ('||put(stderr1,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   label est1= 'Adjusted Estimate (Error)' est= 'Crude Estimate (Error)' HR= 'Crude Hazard Ratio (95% CI)' HR1= 'Adjusted Hazard Ratio (95% CI)';
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   if upcase(parameter) =upcase("DIASTOLIC_BP") then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 572:111   1 at 572:139   
NOTE: There were 11 observations read from the data set WORK.DIASTOLIC_BP_ADJUSTED.
NOTE: There were 10 observations read from the data set WORK.DIASTOLIC_BP_CRUDE.
NOTE: The data set WORK.TABLE_DIASTOLIC_BP has 10 observations and 17 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   proc print data=table_DIASTOLIC_BP noobs label;
MPRINT(CHECK_COX_ASSUMPTIONS):   format change percent.;
MPRINT(CHECK_COX_ASSUMPTIONS):   var parameter label est hr est1 hr1 change flag;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 10 observations read from the data set WORK.TABLE_DIASTOLIC_BP.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Estimating change between Parameter Estimates for Other variables varies significantly for model without (crude) or with (adjusted) 
variable of interest. Variables for which parameter estimates varies by more than 20% are flaged.Variables are flaged only if at least one of the estimates is larger then 
0.01.";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc datasets lib=work memtype=data;
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
SYMBOLGEN:  Macro variable NUMBER resolves to 2
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to DIASTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   delete table_DIASTOLIC_BP DIASTOLIC_BP_ADJUSTED DIASTOLIC_BP_CRUDE DIASTOLIC_BP_INTERACTIONS INTERACTION_DIASTOLIC_BP ClassLevelInfo_2 
DIASTOLIC_BP_LIFETEST MART PARMSDIASTOLIC_BP RANKDIASTOLIC_BP RESSCH_DIASTOLIC_BP SCHOENFELD;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: Deleting WORK.TABLE_DIASTOLIC_BP (memtype=DATA).
NOTE: Deleting WORK.DIASTOLIC_BP_ADJUSTED (memtype=DATA).
122                                                                             The SAS System

NOTE: Deleting WORK.DIASTOLIC_BP_CRUDE (memtype=DATA).
NOTE: Deleting WORK.DIASTOLIC_BP_INTERACTIONS (memtype=DATA).
NOTE: Deleting WORK.INTERACTION_DIASTOLIC_BP (memtype=DATA).
NOTE: Deleting WORK.CLASSLEVELINFO_2 (memtype=DATA).
NOTE: Deleting WORK.DIASTOLIC_BP_LIFETEST (memtype=DATA).
NOTE: Deleting WORK.MART (memtype=DATA).
NOTE: Deleting WORK.PARMSDIASTOLIC_BP (memtype=DATA).
NOTE: Deleting WORK.RANKDIASTOLIC_BP (memtype=DATA).
NOTE: Deleting WORK.RESSCH_DIASTOLIC_BP (memtype=DATA).
NOTE: Deleting WORK.SCHOENFELD (memtype=DATA).
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.56 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MLOGIC(CHECK_COX_ASSUMPTIONS):  Ending execution.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO loop index variable ALL_COUNT is now 4; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CHECK_VAR)
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable ALL_COUNT resolves to 4
MLOGIC(CHECK_COX_ASSUMPTIONS):  Beginning execution.
SYMBOLGEN:  Macro variable _NUMBER resolves to 2
SYMBOLGEN:  Macro variable _DATA resolves to rq.simcox
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable _CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
SYMBOLGEN:  Macro variable _OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable _FU resolves to CV_time
SYMBOLGEN:  Macro variable _STOP resolves to activity
SYMBOLGEN:  Macro variable _EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Macro variable CHECK_VAR resolves to LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter NUMBER has value 2
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter DATA has value rq.simcox
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter PREDICTORS has value AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter CLASS has value diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter OUTCOME has value CV_event
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter FU has value CV_time
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter STOP has value ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter EXCLUDE has value _NOTHING
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter CHECK has value LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   select distinct predictor into :predictors_WITHOUT_check separated by ' ' from predictors_2 where left(predictor)^="LDL" order by order;
WARNING: The query as specified involves ordering by an item that doesn't appear in its SELECT clause. Since you are ordering the output of a SELECT DISTINCT it may appear 
         that some duplicates have not been eliminated.
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.04 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT predictors_WITHOUT_check=&predictors_WITHOUT_check
123                                                                             The SAS System

SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
predictors_WITHOUT_check=AGE SYSTOLIC_BP DIASTOLIC_BP BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ClassLevelInfo=ClassLevelInfo_2;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.CLASSLEVELINFO_2 has 11 observations and 5 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.27 seconds
      cpu time            0.12 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %sysfunc(exist(ClassLevelInfo_&NUMBER)) is TRUE
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(%sysfunc(countw(&class)))=0) is FALSE
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   data ClassLevelInfo_2;
MPRINT(CHECK_COX_ASSUMPTIONS):   length class $30 value$30;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   set ClassLevelInfo_2;
MPRINT(CHECK_COX_ASSUMPTIONS):   class=UPCASE(CLASS);
MPRINT(CHECK_COX_ASSUMPTIONS):   if ^missing(class) then call symput ('new',class);
MPRINT(CHECK_COX_ASSUMPTIONS):   else class=symget('new');
MPRINT(CHECK_COX_ASSUMPTIONS):   if sum(of X:)=0 then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 11 observations read from the data set WORK.CLASSLEVELINFO_2.
NOTE: The data set WORK.CLASSLEVELINFO_2 has 6 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   select distinct class into :class_variables separated by ' ' from ClassLevelInfo_2;
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      
124                                                                             The SAS System


MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   create table schoenfeld as select predictor, order, value, compress(catx('',predictor,'_',left(value))," -$%^()&#@","c") as schoenfeld from 
Predictors_2 left join ClassLevelInfo_2 on left(class)=left(predictor) order by order, schoenfeld;
NOTE: Table WORK.SCHOENFELD created, with 11 rows and 4 columns.

MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.07 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
MPRINT(CHECK_COX_ASSUMPTIONS):   select schoenfeld into :schoenfeld separated by ' ' from schoenfeld;
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT predictors=&predictors_used
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
predictors=AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT class_variables=&class_variables
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
class_variables=ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT schoenfeld = &schoenfeld
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
schoenfeld = AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (&CHECK in &class_variables)=0 is TRUE
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Verify the linearity assumption of continuous predictor variables';
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the Linearity Assumption of LDL by Plotting Martingale Residuals";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   id LDL;
MPRINT(CHECK_COX_ASSUMPTIONS):   output out=mart resmart=mart;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;
125                                                                             The SAS System


NOTE: 318 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.MART has 2975 observations and 20 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.46 seconds
      cpu time            0.32 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sgplot data=mart;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   scatter y=mart x=LDL/ name='Martingale';
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   loess y=mart x=LDL/SMOOTH=.8 DEGREE=1 INTERPOLATION= CUBIC ;
MPRINT(CHECK_COX_ASSUMPTIONS):   keylegend 'Martingale'/ title=' ' Position=bottom;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: PROCEDURE SGPLOT used (Total process time):
      real time           1.75 seconds
      cpu time            0.32 seconds
      
NOTE: Marker and line antialiasing has been disabled because the threshold has been reached. You can set ANTIALIASMAX=3000 in the ODS GRAPHICS statement to restore 
      antialiasing.
NOTE: There were 2975 observations read from the data set WORK.MART.

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT='To use the Martingale residuals to assess the linearity assumption, first fit a	model that excludes the predictor variable of 
interest. Then plot the	Martingale residuals by the values of the excluded predictor variable of	interest. Finally, fit a smoothed line (that is, a loess smooth) in the plot. 
The	shape of the smoothed line provides an estimate of the functional form of the	predictor variable in the model (Therneau, Grambsch, and Fleming 1990).';
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the Linearity Assumption of LDL by Plotting Dummy Estimates";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   proc rank data=rq.simcox groups=5 out=rankLDL;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   var LDL;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   ranks groupLDL;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The data set WORK.RANKLDL has 3000 observations and 20 variables.
NOTE: PROCEDURE RANK used (Total process time):
      real time           0.11 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   data rankLDL;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   set rankLDL;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   d0=(groupLDL=0);
SYMBOLGEN:  Macro variable CHECK resolves to LDL
126                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   d1=(groupLDL=1);
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   d2=(groupLDL=2);
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   d3=(groupLDL=3);
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   d4=(groupLDL=4);
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 3000 observations read from the data set WORK.RANKLDL.
NOTE: The data set WORK.RANKLDL has 3000 observations and 25 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.00 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output parameterestimates=parmsLDL;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rankLDL;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) loop beginning.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable VAR resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable VAR resolves to SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 2
127                                                                             The SAS System

SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable VAR resolves to DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable VAR resolves to LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable VAR resolves to BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable VAR resolves to DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 5
128                                                                             The SAS System

SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable VAR resolves to SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable VAR resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable VAR resolves to TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable VAR resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
129                                                                             The SAS System

SYMBOLGEN:  Macro variable VAR resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 10
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL() condition is TRUE; loop will not iterate again.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP BMI DIABETES SMOKING SEX TREATMENT ACTIVITY d4 d3 d2 d1 d0 /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;


NOTE: 318 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.PARMSLDL has 15 observations and 11 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.26 seconds
      cpu time            0.09 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   data parmsLDL;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   set parmsLDL;
MPRINT(CHECK_COX_ASSUMPTIONS):   where parameter in ('d0', 'd1', 'd2', 'd3', 'd4');
MPRINT(CHECK_COX_ASSUMPTIONS):   num_parm=input(substr(parameter, 2, 1),1.);
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 5 observations read from the data set WORK.PARMSLDL.
      WHERE parameter in ('d0', 'd1', 'd2', 'd3', 'd4');
NOTE: The data set WORK.PARMSLDL has 5 observations and 12 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   proc means data=rankLDL min max maxdec=2;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   class groupLDL;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   var LDL;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 3000 observations read from the data set WORK.RANKLDL.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.12 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sgplot data=parmsLDL;
MPRINT(CHECK_COX_ASSUMPTIONS):   scatter y=estimate x=num_parm;
130                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   loess y=estimate x=num_parm/SMOOTH=.8 DEGREE=1 INTERPOLATION= CUBIC ;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: PROCEDURE SGPLOT used (Total process time):
      real time           1.02 seconds
      cpu time            0.28 seconds
      
NOTE: There were 5 observations read from the data set WORK.PARMSLDL.

WARNING: The quoted string currently being processed has become more than 512 characters long.  You may have unbalanced quotation marks.
MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT ="One method to check for linearity is to replace the predictor variable of	interest with several dummy variables. Then fit the 
model with the new dummy variables and plot the parameter estimates of the dummy variables, with a point at zero representing the reference group.	If the correct scale is 
linear in the log hazard, then a smoothed line is fairly linear. If the smoothed line departs substantially from a linear trend, then its	form is used to decide how to model 
the predictor variable (Hosmer and Lemeshow 1999).";
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Verify the proportional hazards assumption of predictor variables';
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the PH Assumption of LDL by Plotting LLS";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (&CHECK in &class_variables)=0 is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods graphics on;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select LogNegLogSurvivalPlot;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   proc lifetest data=rankLDL outsurv=LDL_lifetest NOTABLE method=km plots=lls;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
MPRINT(CHECK_COX_ASSUMPTIONS):   time CV_time*CV_event(0);
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   strata groupLDL;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The LOGLOG transform is used to compute the confidence limits for the survivor function. To suppress using this transform, specify CONFTYPE=LINEAR in the PROC SURVIVAL 
      statement.
NOTE: 63 observations with invalid time, censoring, or strata values were deleted.
NOTE: The data set WORK.LDL_LIFETEST has 2917 observations and 7 variables.
NOTE: PROCEDURE LIFETEST used (Total process time):
      real time           1.34 seconds
      cpu time            0.35 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT ="One method to assess the proportional hazards assumption is to plot thelog-negative-log of the Kaplan-Meier estimates of the 
survival function versus the log of time. If the hazard ratios are constant, the plot has parallel lines.";
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the PH Assumption of LDL by Plotting Schoenfeld Residuals";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods graphics off;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &CHECK in &class_variables is FALSE
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
131                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox noprint;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
MPRINT(CHECK_COX_ASSUMPTIONS):   output out=ressch_LDL ressch=AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.RESSCH_LDL has 2975 observations and 30 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.94 seconds
      cpu time            0.51 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNTSCH)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop beginning; index variable I; start value is 1; stop value is 11; by value is 1.  
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 1
SYMBOLGEN:  Macro variable CATEGORY resolves to AGE_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to LDL
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 2; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 2
SYMBOLGEN:  Macro variable CATEGORY resolves to SYSTOLIC_BP_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to LDL
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 3; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 3
SYMBOLGEN:  Macro variable CATEGORY resolves to DIASTOLIC_BP_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to LDL
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 4; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
132                                                                             The SAS System

SYMBOLGEN:  Macro variable I resolves to 4
SYMBOLGEN:  Macro variable CATEGORY resolves to LDL_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to LDL
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is TRUE
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sgplot data=ressch_LDL;
SYMBOLGEN:  Macro variable CATEGORY resolves to LDL_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   scatter y=LDL_ x=CV_time/ name="Schoenfeld_LDL";
SYMBOLGEN:  Macro variable CATEGORY resolves to LDL_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   loess y=LDL_ x=CV_time/SMOOTH=.8 DEGREE=1 INTERPOLATION= CUBIC ;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   keylegend "Schoenfeld_LDL"/ title=' ' Position=bottom;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: PROCEDURE SGPLOT used (Total process time):
      real time           1.30 seconds
      cpu time            0.29 seconds
      
NOTE: Marker and line antialiasing has been disabled because the threshold has been reached. You can set ANTIALIASMAX=3000 in the ODS GRAPHICS statement to restore 
      antialiasing.
NOTE: There were 2975 observations read from the data set WORK.RESSCH_LDL.

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Because Schoenfeld residuals are based on the effects of the predictor variables that are assumed to be independent of time, a plot 
of the residuals by time could be used to visually assess whether the effect of the predictor variable changes over the period of follow-up. A smoothed line fit to the plot 
ofthe residuals should have an intercept and a slope of approximately 0 (Hosmer and Lemeshow 1999).";
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 5; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 5
SYMBOLGEN:  Macro variable CATEGORY resolves to BMI_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to LDL
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 6; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 6
SYMBOLGEN:  Macro variable CATEGORY resolves to DIABETES_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to LDL
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 7; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 7
SYMBOLGEN:  Macro variable CATEGORY resolves to SMOKING_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
133                                                                             The SAS System

SYMBOLGEN:  Macro variable CHECK resolves to LDL
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 8; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 8
SYMBOLGEN:  Macro variable CATEGORY resolves to SEX_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to LDL
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 9; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 9
SYMBOLGEN:  Macro variable CATEGORY resolves to TREATMENT_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to LDL
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 10; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 10
SYMBOLGEN:  Macro variable CATEGORY resolves to ACTIVITY_high
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to LDL
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 11; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 11
SYMBOLGEN:  Macro variable CATEGORY resolves to ACTIVITY_low
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to LDL
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 12; loop will not iterate again.
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
SYMBOLGEN:  Macro variable _INTERACTIONS resolves to _ALL
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %qscan(&_INTERACTIONS, 1) = _ALL is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Assess the model for interactions';
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Check for interactions LDL";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   data LDL_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The data set WORK.LDL_INTERACTIONS has 1 observations and 0 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
134                                                                             The SAS System

      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop beginning; index variable INT_COUNT; start value is 1; stop value is 9; by value is 1.  
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 1
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to LDL
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 1
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_LDL;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to LDL*AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY LDL*AGE /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_LDL has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.31 seconds
      cpu time            0.09 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   data LDL_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   set LDL_interactions interaction_LDL (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 1 observations read from the data set WORK.LDL_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_LDL.
      WHERE parameter contains '*';
NOTE: The data set WORK.LDL_INTERACTIONS has 2 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
135                                                                             The SAS System

      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 2; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 2
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to LDL
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 2
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_LDL;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to LDL*SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY LDL*SYSTOLIC_BP /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_LDL has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.24 seconds
      cpu time            0.10 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   data LDL_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   set LDL_interactions interaction_LDL (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 2 observations read from the data set WORK.LDL_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_LDL.
      WHERE parameter contains '*';
NOTE: The data set WORK.LDL_INTERACTIONS has 3 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      
136                                                                             The SAS System


MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 3; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 3
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to LDL
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 3
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_LDL;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to LDL*DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY LDL*DIASTOLIC_BP /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_LDL has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.10 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   data LDL_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   set LDL_interactions interaction_LDL (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 3 observations read from the data set WORK.LDL_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_LDL.
      WHERE parameter contains '*';
NOTE: The data set WORK.LDL_INTERACTIONS has 4 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

137                                                                             The SAS System

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 4; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 4
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to LDL
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 4
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_LDL;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to LDL*BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY LDL*BMI /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_LDL has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.14 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   data LDL_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   set LDL_interactions interaction_LDL (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 4 observations read from the data set WORK.LDL_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_LDL.
      WHERE parameter contains '*';
NOTE: The data set WORK.LDL_INTERACTIONS has 5 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 5; loop will iterate again.
138                                                                             The SAS System

MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 5
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to LDL
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 5
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_LDL;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to LDL*DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY LDL*DIABETES /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_LDL has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.25 seconds
      cpu time            0.10 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   data LDL_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   set LDL_interactions interaction_LDL (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 5 observations read from the data set WORK.LDL_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_LDL.
      WHERE parameter contains '*';
NOTE: The data set WORK.LDL_INTERACTIONS has 6 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 6; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
139                                                                             The SAS System

SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 6
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to LDL
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 6
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_LDL;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to LDL*SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY LDL*SMOKING /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_LDL has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.27 seconds
      cpu time            0.14 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   data LDL_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   set LDL_interactions interaction_LDL (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 6 observations read from the data set WORK.LDL_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_LDL.
      WHERE parameter contains '*';
NOTE: The data set WORK.LDL_INTERACTIONS has 7 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 7; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
140                                                                             The SAS System

SYMBOLGEN:  Macro variable INT_COUNT resolves to 7
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to LDL
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 7
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_LDL;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to LDL*SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY LDL*SEX /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_LDL has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.07 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   data LDL_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   set LDL_interactions interaction_LDL (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 7 observations read from the data set WORK.LDL_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_LDL.
      WHERE parameter contains '*';
NOTE: The data set WORK.LDL_INTERACTIONS has 8 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 8; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 8
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
141                                                                             The SAS System

SYMBOLGEN:  Macro variable CHECK resolves to LDL
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 8
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_LDL;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to LDL*TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY LDL*TREATMENT /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_LDL has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.12 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   data LDL_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   set LDL_interactions interaction_LDL (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 8 observations read from the data set WORK.LDL_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_LDL.
      WHERE parameter contains '*';
NOTE: The data set WORK.LDL_INTERACTIONS has 9 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 9; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 9
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to LDL
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to ACTIVITY
142                                                                             The SAS System

SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 9
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_LDL;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to LDL*ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY LDL*ACTIVITY /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_LDL has 13 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.15 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   data LDL_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   set LDL_interactions interaction_LDL (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 9 observations read from the data set WORK.LDL_INTERACTIONS.
NOTE: There were 2 observations read from the data set WORK.INTERACTION_LDL.
      WHERE parameter contains '*';
NOTE: The data set WORK.LDL_INTERACTIONS has 11 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.03 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 10; loop will not iterate again.
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   data LDL_interactions;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   set LDL_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   if missing(parameter) then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   if ProbChiSq < 0.05 then flag='*';
MPRINT(CHECK_COX_ASSUMPTIONS):   run;
143                                                                             The SAS System


NOTE: There were 11 observations read from the data set WORK.LDL_INTERACTIONS.
NOTE: The data set WORK.LDL_INTERACTIONS has 10 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   proc print data=LDL_interactions noobs label;
MPRINT(CHECK_COX_ASSUMPTIONS):   var parameter label estimate stderr chisq ProbChiSq flag;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 10 observations read from the data set WORK.LDL_INTERACTIONS.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Results of a partial likelihood ratio test that compares the model with only the main effects to the model with the main effects 
and all two-way interactions. P-values less than 0.05 are marked";
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Assess the model for confounders';
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Check for Confounders adjusting for LDL";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates=LDL_adjusted;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.LDL_ADJUSTED has 11 observations and 11 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.10 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates=LDL_crude;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
144                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   id LDL;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 318 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.LDL_CRUDE has 10 observations and 11 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.22 seconds
      cpu time            0.15 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sort data=LDL_adjusted;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 11 observations read from the data set WORK.LDL_ADJUSTED.
NOTE: The data set WORK.LDL_ADJUSTED has 11 observations and 11 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sort data=LDL_crude;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 10 observations read from the data set WORK.LDL_CRUDE.
NOTE: The data set WORK.LDL_CRUDE has 10 observations and 11 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   data table_LDL;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
SYMBOLGEN:  Macro variable CHECK resolves to LDL
145                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   merge LDL_adjusted(rename=(estimate=estimate1 stderr=stderr1 hazardratio=hazardratio1 HRLOWERCL=HRLOWERCL1 HRupperCL=HRupperCL1)) LDL_crude;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   drop HRLowerCL HRUpperCL ProbChiSq DF chisq;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   if parameter="LDL" then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   change=(estimate-estimate1)/estimate;
MPRINT(CHECK_COX_ASSUMPTIONS):   if abs(change)>0.2 and (abs(estimate)>0.01 or abs(estimate1)>0.01) then flag='*';
MPRINT(CHECK_COX_ASSUMPTIONS):   HR= put(hazardratio,5.2)||' ('||put(HRLOWERCL,5.2)||'-'||put(HRupperCL,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   HR1= put(hazardratio1,5.2)||' ('||put(HRLOWERCL1,5.2)||'-'||put(HRupperCL1,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   EST=put(estimate,5.2)||' ('||put(stderr,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   EST1=put(estimate1,5.2)||' ('||put(stderr1,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   label est1= 'Adjusted Estimate (Error)' est= 'Crude Estimate (Error)' HR= 'Crude Hazard Ratio (95% CI)' HR1= 'Adjusted Hazard Ratio (95% CI)';
SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   if upcase(parameter) =upcase("LDL") then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 572:111   1 at 572:139   
NOTE: There were 11 observations read from the data set WORK.LDL_ADJUSTED.
NOTE: There were 10 observations read from the data set WORK.LDL_CRUDE.
NOTE: The data set WORK.TABLE_LDL has 10 observations and 17 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   proc print data=table_LDL noobs label;
MPRINT(CHECK_COX_ASSUMPTIONS):   format change percent.;
MPRINT(CHECK_COX_ASSUMPTIONS):   var parameter label est hr est1 hr1 change flag;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 10 observations read from the data set WORK.TABLE_LDL.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Estimating change between Parameter Estimates for Other variables varies significantly for model without (crude) or with (adjusted) 
variable of interest. Variables for which parameter estimates varies by more than 20% are flaged.Variables are flaged only if at least one of the estimates is larger then 
0.01.";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc datasets lib=work memtype=data;
SYMBOLGEN:  Macro variable CHECK resolves to LDL
SYMBOLGEN:  Macro variable CHECK resolves to LDL
SYMBOLGEN:  Macro variable CHECK resolves to LDL
SYMBOLGEN:  Macro variable CHECK resolves to LDL
SYMBOLGEN:  Macro variable CHECK resolves to LDL
SYMBOLGEN:  Macro variable NUMBER resolves to 2
SYMBOLGEN:  Macro variable CHECK resolves to LDL
SYMBOLGEN:  Macro variable CHECK resolves to LDL
SYMBOLGEN:  Macro variable CHECK resolves to LDL
146                                                                             The SAS System

SYMBOLGEN:  Macro variable CHECK resolves to LDL
MPRINT(CHECK_COX_ASSUMPTIONS):   delete table_LDL LDL_ADJUSTED LDL_CRUDE LDL_INTERACTIONS INTERACTION_LDL ClassLevelInfo_2 LDL_LIFETEST MART PARMSLDL RANKLDL RESSCH_LDL 
SCHOENFELD;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: Deleting WORK.TABLE_LDL (memtype=DATA).
NOTE: Deleting WORK.LDL_ADJUSTED (memtype=DATA).
NOTE: Deleting WORK.LDL_CRUDE (memtype=DATA).
NOTE: Deleting WORK.LDL_INTERACTIONS (memtype=DATA).
NOTE: Deleting WORK.INTERACTION_LDL (memtype=DATA).
NOTE: Deleting WORK.CLASSLEVELINFO_2 (memtype=DATA).
NOTE: Deleting WORK.LDL_LIFETEST (memtype=DATA).
NOTE: Deleting WORK.MART (memtype=DATA).
NOTE: Deleting WORK.PARMSLDL (memtype=DATA).
NOTE: Deleting WORK.RANKLDL (memtype=DATA).
NOTE: Deleting WORK.RESSCH_LDL (memtype=DATA).
NOTE: Deleting WORK.SCHOENFELD (memtype=DATA).
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.51 seconds
      cpu time            0.04 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MLOGIC(CHECK_COX_ASSUMPTIONS):  Ending execution.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO loop index variable ALL_COUNT is now 5; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CHECK_VAR)
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable ALL_COUNT resolves to 5
MLOGIC(CHECK_COX_ASSUMPTIONS):  Beginning execution.
SYMBOLGEN:  Macro variable _NUMBER resolves to 2
SYMBOLGEN:  Macro variable _DATA resolves to rq.simcox
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable _CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
SYMBOLGEN:  Macro variable _OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable _FU resolves to CV_time
SYMBOLGEN:  Macro variable _STOP resolves to activity
SYMBOLGEN:  Macro variable _EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Macro variable CHECK_VAR resolves to BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter NUMBER has value 2
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter DATA has value rq.simcox
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter PREDICTORS has value AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter CLASS has value diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter OUTCOME has value CV_event
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter FU has value CV_time
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter STOP has value ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter EXCLUDE has value _NOTHING
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter CHECK has value BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   select distinct predictor into :predictors_WITHOUT_check separated by ' ' from predictors_2 where left(predictor)^="BMI" order by order;
WARNING: The query as specified involves ordering by an item that doesn't appear in its SELECT clause. Since you are ordering the output of a SELECT DISTINCT it may appear 
         that some duplicates have not been eliminated.
147                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT predictors_WITHOUT_check=&predictors_WITHOUT_check
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL DIABETES SMOKING SEX TREATMENT ACTIVITY
predictors_WITHOUT_check=AGE SYSTOLIC_BP DIASTOLIC_BP LDL DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ClassLevelInfo=ClassLevelInfo_2;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.CLASSLEVELINFO_2 has 11 observations and 5 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.25 seconds
      cpu time            0.12 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %sysfunc(exist(ClassLevelInfo_&NUMBER)) is TRUE
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(%sysfunc(countw(&class)))=0) is FALSE
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   data ClassLevelInfo_2;
MPRINT(CHECK_COX_ASSUMPTIONS):   length class $30 value$30;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   set ClassLevelInfo_2;
MPRINT(CHECK_COX_ASSUMPTIONS):   class=UPCASE(CLASS);
MPRINT(CHECK_COX_ASSUMPTIONS):   if ^missing(class) then call symput ('new',class);
MPRINT(CHECK_COX_ASSUMPTIONS):   else class=symget('new');
MPRINT(CHECK_COX_ASSUMPTIONS):   if sum(of X:)=0 then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 11 observations read from the data set WORK.CLASSLEVELINFO_2.
NOTE: The data set WORK.CLASSLEVELINFO_2 has 6 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
148                                                                             The SAS System

SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   select distinct class into :class_variables separated by ' ' from ClassLevelInfo_2;
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   create table schoenfeld as select predictor, order, value, compress(catx('',predictor,'_',left(value))," -$%^()&#@","c") as schoenfeld from 
Predictors_2 left join ClassLevelInfo_2 on left(class)=left(predictor) order by order, schoenfeld;
NOTE: Table WORK.SCHOENFELD created, with 11 rows and 4 columns.

MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.10 seconds
      cpu time            0.03 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
MPRINT(CHECK_COX_ASSUMPTIONS):   select schoenfeld into :schoenfeld separated by ' ' from schoenfeld;
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT predictors=&predictors_used
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
predictors=AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT class_variables=&class_variables
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
class_variables=ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT schoenfeld = &schoenfeld
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
schoenfeld = AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (&CHECK in &class_variables)=0 is TRUE
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Verify the linearity assumption of continuous predictor variables';
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the Linearity Assumption of BMI by Plotting Martingale Residuals";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
149                                                                             The SAS System

SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   id BMI;
MPRINT(CHECK_COX_ASSUMPTIONS):   output out=mart resmart=mart;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 319 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.MART has 2975 observations and 20 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.51 seconds
      cpu time            0.31 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sgplot data=mart;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   scatter y=mart x=BMI/ name='Martingale';
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   loess y=mart x=BMI/SMOOTH=.8 DEGREE=1 INTERPOLATION= CUBIC ;
MPRINT(CHECK_COX_ASSUMPTIONS):   keylegend 'Martingale'/ title=' ' Position=bottom;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: PROCEDURE SGPLOT used (Total process time):
      real time           1.80 seconds
      cpu time            0.32 seconds
      
NOTE: Marker and line antialiasing has been disabled because the threshold has been reached. You can set ANTIALIASMAX=3000 in the ODS GRAPHICS statement to restore 
      antialiasing.
NOTE: There were 2975 observations read from the data set WORK.MART.

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT='To use the Martingale residuals to assess the linearity assumption, first fit a	model that excludes the predictor variable of 
interest. Then plot the	Martingale residuals by the values of the excluded predictor variable of	interest. Finally, fit a smoothed line (that is, a loess smooth) in the plot. 
The	shape of the smoothed line provides an estimate of the functional form of the	predictor variable in the model (Therneau, Grambsch, and Fleming 1990).';
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the Linearity Assumption of BMI by Plotting Dummy Estimates";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   proc rank data=rq.simcox groups=5 out=rankBMI;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   var BMI;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   ranks groupBMI;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The data set WORK.RANKBMI has 3000 observations and 20 variables.
NOTE: PROCEDURE RANK used (Total process time):
      real time           0.12 seconds
      cpu time            0.03 seconds
      

150                                                                             The SAS System

SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   data rankBMI;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   set rankBMI;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   d0=(groupBMI=0);
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   d1=(groupBMI=1);
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   d2=(groupBMI=2);
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   d3=(groupBMI=3);
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   d4=(groupBMI=4);
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 3000 observations read from the data set WORK.RANKBMI.
NOTE: The data set WORK.RANKBMI has 3000 observations and 25 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output parameterestimates=parmsBMI;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rankBMI;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) loop beginning.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable VAR resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable VAR resolves to SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to BMI
151                                                                             The SAS System

MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable VAR resolves to DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable VAR resolves to LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable VAR resolves to BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable VAR resolves to DIABETES
152                                                                             The SAS System

SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable VAR resolves to SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable VAR resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable VAR resolves to TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
153                                                                             The SAS System

MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable VAR resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 10
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL() condition is TRUE; loop will not iterate again.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL DIABETES SMOKING SEX TREATMENT ACTIVITY d4 d3 d2 d1 d0 /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;


NOTE: 319 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.PARMSBMI has 15 observations and 11 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.26 seconds
      cpu time            0.12 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   data parmsBMI;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   set parmsBMI;
MPRINT(CHECK_COX_ASSUMPTIONS):   where parameter in ('d0', 'd1', 'd2', 'd3', 'd4');
MPRINT(CHECK_COX_ASSUMPTIONS):   num_parm=input(substr(parameter, 2, 1),1.);
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 5 observations read from the data set WORK.PARMSBMI.
      WHERE parameter in ('d0', 'd1', 'd2', 'd3', 'd4');
NOTE: The data set WORK.PARMSBMI has 5 observations and 12 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   proc means data=rankBMI min max maxdec=2;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   class groupBMI;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   var BMI;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 3000 observations read from the data set WORK.RANKBMI.
NOTE: PROCEDURE MEANS used (Total process time):
154                                                                             The SAS System

      real time           0.13 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sgplot data=parmsBMI;
MPRINT(CHECK_COX_ASSUMPTIONS):   scatter y=estimate x=num_parm;
MPRINT(CHECK_COX_ASSUMPTIONS):   loess y=estimate x=num_parm/SMOOTH=.8 DEGREE=1 INTERPOLATION= CUBIC ;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: PROCEDURE SGPLOT used (Total process time):
      real time           0.96 seconds
      cpu time            0.28 seconds
      
NOTE: There were 5 observations read from the data set WORK.PARMSBMI.

WARNING: The quoted string currently being processed has become more than 512 characters long.  You may have unbalanced quotation marks.
MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT ="One method to check for linearity is to replace the predictor variable of	interest with several dummy variables. Then fit the 
model with the new dummy variables and plot the parameter estimates of the dummy variables, with a point at zero representing the reference group.	If the correct scale is 
linear in the log hazard, then a smoothed line is fairly linear. If the smoothed line departs substantially from a linear trend, then its	form is used to decide how to model 
the predictor variable (Hosmer and Lemeshow 1999).";
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Verify the proportional hazards assumption of predictor variables';
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the PH Assumption of BMI by Plotting LLS";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (&CHECK in &class_variables)=0 is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods graphics on;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select LogNegLogSurvivalPlot;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   proc lifetest data=rankBMI outsurv=BMI_lifetest NOTABLE method=km plots=lls;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
MPRINT(CHECK_COX_ASSUMPTIONS):   time CV_time*CV_event(0);
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   strata groupBMI;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The LOGLOG transform is used to compute the confidence limits for the survivor function. To suppress using this transform, specify CONFTYPE=LINEAR in the PROC SURVIVAL 
      statement.
NOTE: 64 observations with invalid time, censoring, or strata values were deleted.
NOTE: The data set WORK.BMI_LIFETEST has 2916 observations and 7 variables.
NOTE: PROCEDURE LIFETEST used (Total process time):
      real time           1.27 seconds
      cpu time            0.34 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT ="One method to assess the proportional hazards assumption is to plot thelog-negative-log of the Kaplan-Meier estimates of the 
survival function versus the log of time. If the hazard ratios are constant, the plot has parallel lines.";
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the PH Assumption of BMI by Plotting Schoenfeld Residuals";
155                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods graphics off;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &CHECK in &class_variables is FALSE
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox noprint;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
MPRINT(CHECK_COX_ASSUMPTIONS):   output out=ressch_BMI ressch=AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.RESSCH_BMI has 2975 observations and 30 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.94 seconds
      cpu time            0.50 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNTSCH)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop beginning; index variable I; start value is 1; stop value is 11; by value is 1.  
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 1
SYMBOLGEN:  Macro variable CATEGORY resolves to AGE_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to BMI
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 2; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 2
SYMBOLGEN:  Macro variable CATEGORY resolves to SYSTOLIC_BP_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to BMI
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 3; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 3
SYMBOLGEN:  Macro variable CATEGORY resolves to DIASTOLIC_BP_
156                                                                             The SAS System

SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to BMI
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 4; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 4
SYMBOLGEN:  Macro variable CATEGORY resolves to LDL_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to BMI
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 5; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 5
SYMBOLGEN:  Macro variable CATEGORY resolves to BMI_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to BMI
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is TRUE
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sgplot data=ressch_BMI;
SYMBOLGEN:  Macro variable CATEGORY resolves to BMI_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   scatter y=BMI_ x=CV_time/ name="Schoenfeld_BMI";
SYMBOLGEN:  Macro variable CATEGORY resolves to BMI_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   loess y=BMI_ x=CV_time/SMOOTH=.8 DEGREE=1 INTERPOLATION= CUBIC ;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   keylegend "Schoenfeld_BMI"/ title=' ' Position=bottom;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: PROCEDURE SGPLOT used (Total process time):
      real time           1.25 seconds
      cpu time            0.31 seconds
      
NOTE: Marker and line antialiasing has been disabled because the threshold has been reached. You can set ANTIALIASMAX=3000 in the ODS GRAPHICS statement to restore 
      antialiasing.
NOTE: There were 2975 observations read from the data set WORK.RESSCH_BMI.

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Because Schoenfeld residuals are based on the effects of the predictor variables that are assumed to be independent of time, a plot 
of the residuals by time could be used to visually assess whether the effect of the predictor variable changes over the period of follow-up. A smoothed line fit to the plot 
ofthe residuals should have an intercept and a slope of approximately 0 (Hosmer and Lemeshow 1999).";
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 6; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 6
SYMBOLGEN:  Macro variable CATEGORY resolves to DIABETES_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to BMI
SYMBOLGEN:  Macro variable CHECK resolves to BMI
157                                                                             The SAS System

MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 7; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 7
SYMBOLGEN:  Macro variable CATEGORY resolves to SMOKING_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to BMI
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 8; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 8
SYMBOLGEN:  Macro variable CATEGORY resolves to SEX_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to BMI
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 9; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 9
SYMBOLGEN:  Macro variable CATEGORY resolves to TREATMENT_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to BMI
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 10; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 10
SYMBOLGEN:  Macro variable CATEGORY resolves to ACTIVITY_high
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to BMI
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 11; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 11
SYMBOLGEN:  Macro variable CATEGORY resolves to ACTIVITY_low
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to BMI
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 12; loop will not iterate again.
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
SYMBOLGEN:  Macro variable _INTERACTIONS resolves to _ALL
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %qscan(&_INTERACTIONS, 1) = _ALL is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Assess the model for interactions';
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Check for interactions BMI";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
158                                                                             The SAS System

SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   data BMI_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The data set WORK.BMI_INTERACTIONS has 1 observations and 0 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop beginning; index variable INT_COUNT; start value is 1; stop value is 9; by value is 1.  
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 1
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to BMI
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 1
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_BMI;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to BMI*AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY BMI*AGE /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_BMI has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.32 seconds
      cpu time            0.14 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   data BMI_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   set BMI_interactions interaction_BMI (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

159                                                                             The SAS System

NOTE: There were 1 observations read from the data set WORK.BMI_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_BMI.
      WHERE parameter contains '*';
NOTE: The data set WORK.BMI_INTERACTIONS has 2 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 2; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 2
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to BMI
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 2
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_BMI;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to BMI*SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY BMI*SYSTOLIC_BP /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_BMI has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.12 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   data BMI_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   set BMI_interactions interaction_BMI (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 2 observations read from the data set WORK.BMI_INTERACTIONS.
160                                                                             The SAS System

NOTE: There were 1 observations read from the data set WORK.INTERACTION_BMI.
      WHERE parameter contains '*';
NOTE: The data set WORK.BMI_INTERACTIONS has 3 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.03 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 3; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 3
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to BMI
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 3
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_BMI;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to BMI*DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY BMI*DIASTOLIC_BP /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_BMI has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.22 seconds
      cpu time            0.12 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   data BMI_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   set BMI_interactions interaction_BMI (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 3 observations read from the data set WORK.BMI_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_BMI.
161                                                                             The SAS System

      WHERE parameter contains '*';
NOTE: The data set WORK.BMI_INTERACTIONS has 4 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 4; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 4
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to BMI
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 4
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_BMI;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to BMI*LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY BMI*LDL /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_BMI has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.09 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   data BMI_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   set BMI_interactions interaction_BMI (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 4 observations read from the data set WORK.BMI_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_BMI.
      WHERE parameter contains '*';
162                                                                             The SAS System

NOTE: The data set WORK.BMI_INTERACTIONS has 5 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 5; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 5
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to BMI
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 5
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_BMI;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to BMI*DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY BMI*DIABETES /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_BMI has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.12 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   data BMI_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   set BMI_interactions interaction_BMI (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 5 observations read from the data set WORK.BMI_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_BMI.
      WHERE parameter contains '*';
NOTE: The data set WORK.BMI_INTERACTIONS has 6 observations and 9 variables.
163                                                                             The SAS System

NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 6; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 6
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to BMI
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 6
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_BMI;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to BMI*SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY BMI*SMOKING /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_BMI has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.12 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   data BMI_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   set BMI_interactions interaction_BMI (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 6 observations read from the data set WORK.BMI_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_BMI.
      WHERE parameter contains '*';
NOTE: The data set WORK.BMI_INTERACTIONS has 7 observations and 9 variables.
NOTE: DATA statement used (Total process time):
164                                                                             The SAS System

      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 7; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 7
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to BMI
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 7
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_BMI;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to BMI*SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY BMI*SEX /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_BMI has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.22 seconds
      cpu time            0.10 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   data BMI_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   set BMI_interactions interaction_BMI (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 7 observations read from the data set WORK.BMI_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_BMI.
      WHERE parameter contains '*';
NOTE: The data set WORK.BMI_INTERACTIONS has 8 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
165                                                                             The SAS System

      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 8; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 8
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to BMI
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 8
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_BMI;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to BMI*TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY BMI*TREATMENT /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_BMI has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.34 seconds
      cpu time            0.12 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   data BMI_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   set BMI_interactions interaction_BMI (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 8 observations read from the data set WORK.BMI_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_BMI.
      WHERE parameter contains '*';
NOTE: The data set WORK.BMI_INTERACTIONS has 9 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

166                                                                             The SAS System

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 9; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 9
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to BMI
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 9
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_BMI;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to BMI*ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY BMI*ACTIVITY /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_BMI has 13 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.10 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   data BMI_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   set BMI_interactions interaction_BMI (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 9 observations read from the data set WORK.BMI_INTERACTIONS.
NOTE: There were 2 observations read from the data set WORK.INTERACTION_BMI.
      WHERE parameter contains '*';
NOTE: The data set WORK.BMI_INTERACTIONS has 11 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 10; loop will not iterate again.
167                                                                             The SAS System

SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   data BMI_interactions;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   set BMI_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   if missing(parameter) then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   if ProbChiSq < 0.05 then flag='*';
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 11 observations read from the data set WORK.BMI_INTERACTIONS.
NOTE: The data set WORK.BMI_INTERACTIONS has 10 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   proc print data=BMI_interactions noobs label;
MPRINT(CHECK_COX_ASSUMPTIONS):   var parameter label estimate stderr chisq ProbChiSq flag;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 10 observations read from the data set WORK.BMI_INTERACTIONS.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Results of a partial likelihood ratio test that compares the model with only the main effects to the model with the main effects 
and all two-way interactions. P-values less than 0.05 are marked";
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Assess the model for confounders';
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Check for Confounders adjusting for BMI";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates=BMI_adjusted;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.BMI_ADJUSTED has 11 observations and 11 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.21 seconds
168                                                                             The SAS System

      cpu time            0.10 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates=BMI_crude;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   id BMI;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 319 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.BMI_CRUDE has 10 observations and 11 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.22 seconds
      cpu time            0.11 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sort data=BMI_adjusted;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 11 observations read from the data set WORK.BMI_ADJUSTED.
NOTE: The data set WORK.BMI_ADJUSTED has 11 observations and 11 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sort data=BMI_crude;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 10 observations read from the data set WORK.BMI_CRUDE.
NOTE: The data set WORK.BMI_CRUDE has 10 observations and 11 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
169                                                                             The SAS System

      cpu time            0.00 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   data table_BMI;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   merge BMI_adjusted(rename=(estimate=estimate1 stderr=stderr1 hazardratio=hazardratio1 HRLOWERCL=HRLOWERCL1 HRupperCL=HRupperCL1)) BMI_crude;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   drop HRLowerCL HRUpperCL ProbChiSq DF chisq;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   if parameter="BMI" then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   change=(estimate-estimate1)/estimate;
MPRINT(CHECK_COX_ASSUMPTIONS):   if abs(change)>0.2 and (abs(estimate)>0.01 or abs(estimate1)>0.01) then flag='*';
MPRINT(CHECK_COX_ASSUMPTIONS):   HR= put(hazardratio,5.2)||' ('||put(HRLOWERCL,5.2)||'-'||put(HRupperCL,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   HR1= put(hazardratio1,5.2)||' ('||put(HRLOWERCL1,5.2)||'-'||put(HRupperCL1,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   EST=put(estimate,5.2)||' ('||put(stderr,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   EST1=put(estimate1,5.2)||' ('||put(stderr1,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   label est1= 'Adjusted Estimate (Error)' est= 'Crude Estimate (Error)' HR= 'Crude Hazard Ratio (95% CI)' HR1= 'Adjusted Hazard Ratio (95% CI)';
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   if upcase(parameter) =upcase("BMI") then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 572:111   1 at 572:139   
NOTE: There were 11 observations read from the data set WORK.BMI_ADJUSTED.
NOTE: There were 10 observations read from the data set WORK.BMI_CRUDE.
NOTE: The data set WORK.TABLE_BMI has 10 observations and 17 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   proc print data=table_BMI noobs label;
MPRINT(CHECK_COX_ASSUMPTIONS):   format change percent.;
MPRINT(CHECK_COX_ASSUMPTIONS):   var parameter label est hr est1 hr1 change flag;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 10 observations read from the data set WORK.TABLE_BMI.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Estimating change between Parameter Estimates for Other variables varies significantly for model without (crude) or with (adjusted) 
variable of interest. Variables for which parameter estimates varies by more than 20% are flaged.Variables are flaged only if at least one of the estimates is larger then 
0.01.";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc datasets lib=work memtype=data;
SYMBOLGEN:  Macro variable CHECK resolves to BMI
SYMBOLGEN:  Macro variable CHECK resolves to BMI
170                                                                             The SAS System

SYMBOLGEN:  Macro variable CHECK resolves to BMI
SYMBOLGEN:  Macro variable CHECK resolves to BMI
SYMBOLGEN:  Macro variable CHECK resolves to BMI
SYMBOLGEN:  Macro variable NUMBER resolves to 2
SYMBOLGEN:  Macro variable CHECK resolves to BMI
SYMBOLGEN:  Macro variable CHECK resolves to BMI
SYMBOLGEN:  Macro variable CHECK resolves to BMI
SYMBOLGEN:  Macro variable CHECK resolves to BMI
MPRINT(CHECK_COX_ASSUMPTIONS):   delete table_BMI BMI_ADJUSTED BMI_CRUDE BMI_INTERACTIONS INTERACTION_BMI ClassLevelInfo_2 BMI_LIFETEST MART PARMSBMI RANKBMI RESSCH_BMI 
SCHOENFELD;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: Deleting WORK.TABLE_BMI (memtype=DATA).
NOTE: Deleting WORK.BMI_ADJUSTED (memtype=DATA).
NOTE: Deleting WORK.BMI_CRUDE (memtype=DATA).
NOTE: Deleting WORK.BMI_INTERACTIONS (memtype=DATA).
NOTE: Deleting WORK.INTERACTION_BMI (memtype=DATA).
NOTE: Deleting WORK.CLASSLEVELINFO_2 (memtype=DATA).
NOTE: Deleting WORK.BMI_LIFETEST (memtype=DATA).
NOTE: Deleting WORK.MART (memtype=DATA).
NOTE: Deleting WORK.PARMSBMI (memtype=DATA).
NOTE: Deleting WORK.RANKBMI (memtype=DATA).
NOTE: Deleting WORK.RESSCH_BMI (memtype=DATA).
NOTE: Deleting WORK.SCHOENFELD (memtype=DATA).
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.53 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MLOGIC(CHECK_COX_ASSUMPTIONS):  Ending execution.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO loop index variable ALL_COUNT is now 6; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CHECK_VAR)
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable ALL_COUNT resolves to 6
MLOGIC(CHECK_COX_ASSUMPTIONS):  Beginning execution.
SYMBOLGEN:  Macro variable _NUMBER resolves to 2
SYMBOLGEN:  Macro variable _DATA resolves to rq.simcox
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable _CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
SYMBOLGEN:  Macro variable _OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable _FU resolves to CV_time
SYMBOLGEN:  Macro variable _STOP resolves to activity
SYMBOLGEN:  Macro variable _EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Macro variable CHECK_VAR resolves to DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter NUMBER has value 2
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter DATA has value rq.simcox
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter PREDICTORS has value AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter CLASS has value diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter OUTCOME has value CV_event
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter FU has value CV_time
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter STOP has value ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter EXCLUDE has value _NOTHING
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter CHECK has value DIABETES
171                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   select distinct predictor into :predictors_WITHOUT_check separated by ' ' from predictors_2 where left(predictor)^="DIABETES" order by order;
WARNING: The query as specified involves ordering by an item that doesn't appear in its SELECT clause. Since you are ordering the output of a SELECT DISTINCT it may appear 
         that some duplicates have not been eliminated.
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.05 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT predictors_WITHOUT_check=&predictors_WITHOUT_check
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI SMOKING SEX TREATMENT ACTIVITY
predictors_WITHOUT_check=AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ClassLevelInfo=ClassLevelInfo_2;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.CLASSLEVELINFO_2 has 11 observations and 5 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.27 seconds
      cpu time            0.12 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %sysfunc(exist(ClassLevelInfo_&NUMBER)) is TRUE
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(%sysfunc(countw(&class)))=0) is FALSE
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   data ClassLevelInfo_2;
MPRINT(CHECK_COX_ASSUMPTIONS):   length class $30 value$30;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   set ClassLevelInfo_2;
MPRINT(CHECK_COX_ASSUMPTIONS):   class=UPCASE(CLASS);
MPRINT(CHECK_COX_ASSUMPTIONS):   if ^missing(class) then call symput ('new',class);
MPRINT(CHECK_COX_ASSUMPTIONS):   else class=symget('new');
MPRINT(CHECK_COX_ASSUMPTIONS):   if sum(of X:)=0 then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 11 observations read from the data set WORK.CLASSLEVELINFO_2.
172                                                                             The SAS System

NOTE: The data set WORK.CLASSLEVELINFO_2 has 6 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   select distinct class into :class_variables separated by ' ' from ClassLevelInfo_2;
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   create table schoenfeld as select predictor, order, value, compress(catx('',predictor,'_',left(value))," -$%^()&#@","c") as schoenfeld from 
Predictors_2 left join ClassLevelInfo_2 on left(class)=left(predictor) order by order, schoenfeld;
NOTE: Table WORK.SCHOENFELD created, with 11 rows and 4 columns.

MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.06 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
MPRINT(CHECK_COX_ASSUMPTIONS):   select schoenfeld into :schoenfeld separated by ' ' from schoenfeld;
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT predictors=&predictors_used
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
predictors=AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT class_variables=&class_variables
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
class_variables=ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT schoenfeld = &schoenfeld
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
schoenfeld = AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (&CHECK in &class_variables)=0 is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (&CHECK in &class_variables)=0 is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &CHECK in &class_variables is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Verify the proportional hazards assumption of predictor variables';
173                                                                             The SAS System

SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the PH Assumption of DIABETES by Plotting LLS";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods graphics on;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select LogNegLogSurvivalPlot;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   proc lifetest data=rq.simcox outsurv=DIABETES_lifetest NOTABLE method=km plots=lls;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
MPRINT(CHECK_COX_ASSUMPTIONS):   time CV_time*CV_event(0);
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   strata DIABETES;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The LOGLOG transform is used to compute the confidence limits for the survivor function. To suppress using this transform, specify CONFTYPE=LINEAR in the PROC SURVIVAL 
      statement.
NOTE: 67 observations with invalid time, censoring, or strata values were deleted.
NOTE: The data set WORK.DIABETES_LIFETEST has 2910 observations and 7 variables.
NOTE: PROCEDURE LIFETEST used (Total process time):
      real time           1.42 seconds
      cpu time            0.43 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT ="One method to assess the proportional hazards assumption is to plot thelog-negative-log of the Kaplan-Meier estimates of the 
survival function versusthe log of time. If the hazard ratios are constant, the plot has parallel lines.";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods graphics off;
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the PH Assumption of DIABETES by Plotting Schoenfeld Residuals";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox noprint;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
MPRINT(CHECK_COX_ASSUMPTIONS):   output out=ressch_DIABETES ressch=AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.RESSCH_DIABETES has 2975 observations and 30 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.93 seconds
      cpu time            0.49 seconds
174                                                                             The SAS System

      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNTSCH)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop beginning; index variable I; start value is 1; stop value is 11; by value is 1.  
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 1
SYMBOLGEN:  Macro variable CATEGORY resolves to AGE_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
WARNING: Argument 3 to macro function %SUBSTR is out of range.
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 2; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 2
SYMBOLGEN:  Macro variable CATEGORY resolves to SYSTOLIC_BP_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 3; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 3
SYMBOLGEN:  Macro variable CATEGORY resolves to DIASTOLIC_BP_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 4; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 4
SYMBOLGEN:  Macro variable CATEGORY resolves to LDL_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
WARNING: Argument 3 to macro function %SUBSTR is out of range.
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 5; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 5
SYMBOLGEN:  Macro variable CATEGORY resolves to BMI_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
WARNING: Argument 3 to macro function %SUBSTR is out of range.
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 6; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
175                                                                             The SAS System

SYMBOLGEN:  Macro variable I resolves to 6
SYMBOLGEN:  Macro variable CATEGORY resolves to DIABETES_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is TRUE
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sgplot data=ressch_DIABETES;
SYMBOLGEN:  Macro variable CATEGORY resolves to DIABETES_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   scatter y=DIABETES_1 x=CV_time/ name="Schoenfeld_DIABETES";
SYMBOLGEN:  Macro variable CATEGORY resolves to DIABETES_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   loess y=DIABETES_1 x=CV_time/SMOOTH=.8 DEGREE=1 INTERPOLATION= CUBIC ;
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   keylegend "Schoenfeld_DIABETES"/ title=' ' Position=bottom;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: PROCEDURE SGPLOT used (Total process time):
      real time           1.23 seconds
      cpu time            0.29 seconds
      
NOTE: Marker and line antialiasing has been disabled because the threshold has been reached. You can set ANTIALIASMAX=3000 in the ODS GRAPHICS statement to restore 
      antialiasing.
NOTE: There were 2975 observations read from the data set WORK.RESSCH_DIABETES.

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Because Schoenfeld residuals are based on the effects of the predictor variables that are assumed to be independent of time, a plot 
of the residuals by time could be used to visually assess whether the effect of the predictor variable changes over the period of follow-up. A smoothed line fit to the plot 
ofthe residuals should have an intercept and a slope of approximately 0 (Hosmer and Lemeshow 1999).";
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 7; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 7
SYMBOLGEN:  Macro variable CATEGORY resolves to SMOKING_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 8; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 8
SYMBOLGEN:  Macro variable CATEGORY resolves to SEX_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
WARNING: Argument 3 to macro function %SUBSTR is out of range.
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 9; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 9
SYMBOLGEN:  Macro variable CATEGORY resolves to TREATMENT_1
176                                                                             The SAS System

SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 10; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 10
SYMBOLGEN:  Macro variable CATEGORY resolves to ACTIVITY_high
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 11; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 11
SYMBOLGEN:  Macro variable CATEGORY resolves to ACTIVITY_low
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 12; loop will not iterate again.
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
SYMBOLGEN:  Macro variable _INTERACTIONS resolves to _ALL
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %qscan(&_INTERACTIONS, 1) = _ALL is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Assess the model for interactions';
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Check for interactions DIABETES";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   data DIABETES_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The data set WORK.DIABETES_INTERACTIONS has 1 observations and 0 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop beginning; index variable INT_COUNT; start value is 1; stop value is 9; by value is 1.  
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 1
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 1
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_DIABETES;
177                                                                             The SAS System

SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to DIABETES*AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY DIABETES*AGE /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_DIABETES has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.40 seconds
      cpu time            0.12 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   data DIABETES_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   set DIABETES_interactions interaction_DIABETES (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 1 observations read from the data set WORK.DIABETES_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_DIABETES.
      WHERE parameter contains '*';
NOTE: The data set WORK.DIABETES_INTERACTIONS has 2 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 2; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 2
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 2
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_DIABETES;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
178                                                                             The SAS System

SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to DIABETES*SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY DIABETES*SYSTOLIC_BP /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_DIABETES has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.27 seconds
      cpu time            0.14 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   data DIABETES_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   set DIABETES_interactions interaction_DIABETES (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 2 observations read from the data set WORK.DIABETES_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_DIABETES.
      WHERE parameter contains '*';
NOTE: The data set WORK.DIABETES_INTERACTIONS has 3 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 3; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 3
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 3
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_DIABETES;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
179                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to DIABETES*DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY DIABETES*DIASTOLIC_BP /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_DIABETES has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.10 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   data DIABETES_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   set DIABETES_interactions interaction_DIABETES (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 3 observations read from the data set WORK.DIABETES_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_DIABETES.
      WHERE parameter contains '*';
NOTE: The data set WORK.DIABETES_INTERACTIONS has 4 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 4; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 4
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 4
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_DIABETES;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
180                                                                             The SAS System

SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to DIABETES*LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY DIABETES*LDL /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_DIABETES has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.22 seconds
      cpu time            0.15 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   data DIABETES_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   set DIABETES_interactions interaction_DIABETES (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 4 observations read from the data set WORK.DIABETES_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_DIABETES.
      WHERE parameter contains '*';
NOTE: The data set WORK.DIABETES_INTERACTIONS has 5 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 5; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 5
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 5
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_DIABETES;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
181                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to DIABETES*BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY DIABETES*BMI /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_DIABETES has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.22 seconds
      cpu time            0.14 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   data DIABETES_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   set DIABETES_interactions interaction_DIABETES (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 5 observations read from the data set WORK.DIABETES_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_DIABETES.
      WHERE parameter contains '*';
NOTE: The data set WORK.DIABETES_INTERACTIONS has 6 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 6; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 6
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 6
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_DIABETES;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
182                                                                             The SAS System

SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to DIABETES*SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY DIABETES*SMOKING /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_DIABETES has 12 observations and 10 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.12 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   data DIABETES_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   set DIABETES_interactions interaction_DIABETES (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 6 observations read from the data set WORK.DIABETES_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_DIABETES.
      WHERE parameter contains '*';
NOTE: The data set WORK.DIABETES_INTERACTIONS has 7 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 7; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 7
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 7
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_DIABETES;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
183                                                                             The SAS System

SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to DIABETES*SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY DIABETES*SEX /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_DIABETES has 12 observations and 10 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.15 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   data DIABETES_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   set DIABETES_interactions interaction_DIABETES (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 7 observations read from the data set WORK.DIABETES_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_DIABETES.
      WHERE parameter contains '*';
NOTE: The data set WORK.DIABETES_INTERACTIONS has 8 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 8; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 8
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 8
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_DIABETES;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
184                                                                             The SAS System

SYMBOLGEN:  Macro variable INTERACTION resolves to DIABETES*TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY DIABETES*TREATMENT /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_DIABETES has 12 observations and 10 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.12 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   data DIABETES_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   set DIABETES_interactions interaction_DIABETES (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 8 observations read from the data set WORK.DIABETES_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_DIABETES.
      WHERE parameter contains '*';
NOTE: The data set WORK.DIABETES_INTERACTIONS has 9 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 9; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 9
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 9
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_DIABETES;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to DIABETES*ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
185                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY DIABETES*ACTIVITY /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_DIABETES has 13 observations and 10 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.25 seconds
      cpu time            0.17 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   data DIABETES_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   set DIABETES_interactions interaction_DIABETES (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
WARNING: Multiple lengths were specified for the variable ClassVal1 by input data set(s). This may cause truncation of data.
NOTE: There were 9 observations read from the data set WORK.DIABETES_INTERACTIONS.
NOTE: There were 2 observations read from the data set WORK.INTERACTION_DIABETES.
      WHERE parameter contains '*';
NOTE: The data set WORK.DIABETES_INTERACTIONS has 11 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 10; loop will not iterate again.
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   data DIABETES_interactions;
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   set DIABETES_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   if missing(parameter) then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   if ProbChiSq < 0.05 then flag='*';
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 11 observations read from the data set WORK.DIABETES_INTERACTIONS.
NOTE: The data set WORK.DIABETES_INTERACTIONS has 10 observations and 11 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   proc print data=DIABETES_interactions noobs label;
MPRINT(CHECK_COX_ASSUMPTIONS):   var parameter label estimate stderr chisq ProbChiSq flag;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 10 observations read from the data set WORK.DIABETES_INTERACTIONS.
NOTE: PROCEDURE PRINT used (Total process time):
186                                                                             The SAS System

      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Results of a partial likelihood ratio test that compares the model with only the main effects to the model with the main effects 
and all two-way interactions. P-values less than 0.05 are marked";
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Assess the model for confounders';
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Check for Confounders adjusting for DIABETES";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates=DIABETES_adjusted;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.DIABETES_ADJUSTED has 11 observations and 11 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.21 seconds
      cpu time            0.09 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates=DIABETES_crude;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   id DIABETES;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
187                                                                             The SAS System

NOTE: The data set WORK.DIABETES_CRUDE has 10 observations and 11 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.21 seconds
      cpu time            0.09 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sort data=DIABETES_adjusted;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 11 observations read from the data set WORK.DIABETES_ADJUSTED.
NOTE: The data set WORK.DIABETES_ADJUSTED has 11 observations and 11 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sort data=DIABETES_crude;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 10 observations read from the data set WORK.DIABETES_CRUDE.
NOTE: The data set WORK.DIABETES_CRUDE has 10 observations and 11 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   data table_DIABETES;
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   merge DIABETES_adjusted(rename=(estimate=estimate1 stderr=stderr1 hazardratio=hazardratio1 HRLOWERCL=HRLOWERCL1 HRupperCL=HRupperCL1)) 
DIABETES_crude;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   drop HRLowerCL HRUpperCL ProbChiSq DF chisq;
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   if parameter="DIABETES" then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   change=(estimate-estimate1)/estimate;
MPRINT(CHECK_COX_ASSUMPTIONS):   if abs(change)>0.2 and (abs(estimate)>0.01 or abs(estimate1)>0.01) then flag='*';
MPRINT(CHECK_COX_ASSUMPTIONS):   HR= put(hazardratio,5.2)||' ('||put(HRLOWERCL,5.2)||'-'||put(HRupperCL,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   HR1= put(hazardratio1,5.2)||' ('||put(HRLOWERCL1,5.2)||'-'||put(HRupperCL1,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   EST=put(estimate,5.2)||' ('||put(stderr,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   EST1=put(estimate1,5.2)||' ('||put(stderr1,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   label est1= 'Adjusted Estimate (Error)' est= 'Crude Estimate (Error)' HR= 'Crude Hazard Ratio (95% CI)' HR1= 'Adjusted Hazard Ratio (95% CI)';
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
188                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   if upcase(parameter) =upcase("DIABETES") then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 572:111   1 at 572:139   
NOTE: There were 11 observations read from the data set WORK.DIABETES_ADJUSTED.
NOTE: There were 10 observations read from the data set WORK.DIABETES_CRUDE.
NOTE: The data set WORK.TABLE_DIABETES has 10 observations and 17 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   proc print data=table_DIABETES noobs label;
MPRINT(CHECK_COX_ASSUMPTIONS):   format change percent.;
MPRINT(CHECK_COX_ASSUMPTIONS):   var parameter label est hr est1 hr1 change flag;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 10 observations read from the data set WORK.TABLE_DIABETES.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Estimating change between Parameter Estimates for Other variables varies significantly for model without (crude) or with (adjusted) 
variable of interest. Variables for which parameter estimates varies by more than 20% are flaged.Variables are flaged only if at least one of the estimates is larger then 
0.01.";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc datasets lib=work memtype=data;
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
SYMBOLGEN:  Macro variable NUMBER resolves to 2
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   delete table_DIABETES DIABETES_ADJUSTED DIABETES_CRUDE DIABETES_INTERACTIONS INTERACTION_DIABETES ClassLevelInfo_2 DIABETES_LIFETEST MART 
PARMSDIABETES RANKDIABETES RESSCH_DIABETES SCHOENFELD;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The file WORK.MART (memtype=DATA) was not found, but appears on a DELETE statement.
NOTE: The file WORK.PARMSDIABETES (memtype=DATA) was not found, but appears on a DELETE statement.
NOTE: The file WORK.RANKDIABETES (memtype=DATA) was not found, but appears on a DELETE statement.
NOTE: Deleting WORK.TABLE_DIABETES (memtype=DATA).
NOTE: Deleting WORK.DIABETES_ADJUSTED (memtype=DATA).
NOTE: Deleting WORK.DIABETES_CRUDE (memtype=DATA).
NOTE: Deleting WORK.DIABETES_INTERACTIONS (memtype=DATA).
NOTE: Deleting WORK.INTERACTION_DIABETES (memtype=DATA).
NOTE: Deleting WORK.CLASSLEVELINFO_2 (memtype=DATA).
NOTE: Deleting WORK.DIABETES_LIFETEST (memtype=DATA).
189                                                                             The SAS System

NOTE: Deleting WORK.RESSCH_DIABETES (memtype=DATA).
NOTE: Deleting WORK.SCHOENFELD (memtype=DATA).
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.23 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MLOGIC(CHECK_COX_ASSUMPTIONS):  Ending execution.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO loop index variable ALL_COUNT is now 7; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CHECK_VAR)
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable ALL_COUNT resolves to 7
MLOGIC(CHECK_COX_ASSUMPTIONS):  Beginning execution.
SYMBOLGEN:  Macro variable _NUMBER resolves to 2
SYMBOLGEN:  Macro variable _DATA resolves to rq.simcox
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable _CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
SYMBOLGEN:  Macro variable _OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable _FU resolves to CV_time
SYMBOLGEN:  Macro variable _STOP resolves to activity
SYMBOLGEN:  Macro variable _EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Macro variable CHECK_VAR resolves to SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter NUMBER has value 2
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter DATA has value rq.simcox
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter PREDICTORS has value AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter CLASS has value diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter OUTCOME has value CV_event
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter FU has value CV_time
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter STOP has value ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter EXCLUDE has value _NOTHING
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter CHECK has value SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   select distinct predictor into :predictors_WITHOUT_check separated by ' ' from predictors_2 where left(predictor)^="SMOKING" order by order;
WARNING: The query as specified involves ordering by an item that doesn't appear in its SELECT clause. Since you are ordering the output of a SELECT DISTINCT it may appear 
         that some duplicates have not been eliminated.
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT predictors_WITHOUT_check=&predictors_WITHOUT_check
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SEX TREATMENT ACTIVITY
predictors_WITHOUT_check=AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ClassLevelInfo=ClassLevelInfo_2;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
190                                                                             The SAS System

SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.CLASSLEVELINFO_2 has 11 observations and 5 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.27 seconds
      cpu time            0.14 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %sysfunc(exist(ClassLevelInfo_&NUMBER)) is TRUE
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(%sysfunc(countw(&class)))=0) is FALSE
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   data ClassLevelInfo_2;
MPRINT(CHECK_COX_ASSUMPTIONS):   length class $30 value$30;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   set ClassLevelInfo_2;
MPRINT(CHECK_COX_ASSUMPTIONS):   class=UPCASE(CLASS);
MPRINT(CHECK_COX_ASSUMPTIONS):   if ^missing(class) then call symput ('new',class);
MPRINT(CHECK_COX_ASSUMPTIONS):   else class=symget('new');
MPRINT(CHECK_COX_ASSUMPTIONS):   if sum(of X:)=0 then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 11 observations read from the data set WORK.CLASSLEVELINFO_2.
NOTE: The data set WORK.CLASSLEVELINFO_2 has 6 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   select distinct class into :class_variables separated by ' ' from ClassLevelInfo_2;
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   create table schoenfeld as select predictor, order, value, compress(catx('',predictor,'_',left(value))," -$%^()&#@","c") as schoenfeld from 
Predictors_2 left join ClassLevelInfo_2 on left(class)=left(predictor) order by order, schoenfeld;
NOTE: Table WORK.SCHOENFELD created, with 11 rows and 4 columns.

191                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.06 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
MPRINT(CHECK_COX_ASSUMPTIONS):   select schoenfeld into :schoenfeld separated by ' ' from schoenfeld;
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT predictors=&predictors_used
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
predictors=AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT class_variables=&class_variables
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
class_variables=ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT schoenfeld = &schoenfeld
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
schoenfeld = AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (&CHECK in &class_variables)=0 is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (&CHECK in &class_variables)=0 is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &CHECK in &class_variables is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Verify the proportional hazards assumption of predictor variables';
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the PH Assumption of SMOKING by Plotting LLS";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods graphics on;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select LogNegLogSurvivalPlot;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   proc lifetest data=rq.simcox outsurv=SMOKING_lifetest NOTABLE method=km plots=lls;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
MPRINT(CHECK_COX_ASSUMPTIONS):   time CV_time*CV_event(0);
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   strata SMOKING;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The LOGLOG transform is used to compute the confidence limits for the survivor function. To suppress using this transform, specify CONFTYPE=LINEAR in the PROC SURVIVAL 
      statement.
NOTE: 62 observations with invalid time, censoring, or strata values were deleted.
NOTE: The data set WORK.SMOKING_LIFETEST has 2915 observations and 7 variables.
192                                                                             The SAS System

NOTE: PROCEDURE LIFETEST used (Total process time):
      real time           1.57 seconds
      cpu time            0.34 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT ="One method to assess the proportional hazards assumption is to plot thelog-negative-log of the Kaplan-Meier estimates of the 
survival function versusthe log of time. If the hazard ratios are constant, the plot has parallel lines.";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods graphics off;
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the PH Assumption of SMOKING by Plotting Schoenfeld Residuals";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox noprint;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
MPRINT(CHECK_COX_ASSUMPTIONS):   output out=ressch_SMOKING ressch=AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.RESSCH_SMOKING has 2975 observations and 30 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           1.38 seconds
      cpu time            0.49 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNTSCH)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop beginning; index variable I; start value is 1; stop value is 11; by value is 1.  
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 1
SYMBOLGEN:  Macro variable CATEGORY resolves to AGE_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
WARNING: Argument 3 to macro function %SUBSTR is out of range.
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 2; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 2
SYMBOLGEN:  Macro variable CATEGORY resolves to SYSTOLIC_BP_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
193                                                                             The SAS System

SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 3; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 3
SYMBOLGEN:  Macro variable CATEGORY resolves to DIASTOLIC_BP_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 4; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 4
SYMBOLGEN:  Macro variable CATEGORY resolves to LDL_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
WARNING: Argument 3 to macro function %SUBSTR is out of range.
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 5; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 5
SYMBOLGEN:  Macro variable CATEGORY resolves to BMI_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
WARNING: Argument 3 to macro function %SUBSTR is out of range.
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 6; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 6
SYMBOLGEN:  Macro variable CATEGORY resolves to DIABETES_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 7; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 7
SYMBOLGEN:  Macro variable CATEGORY resolves to SMOKING_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is TRUE
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sgplot data=ressch_SMOKING;
SYMBOLGEN:  Macro variable CATEGORY resolves to SMOKING_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   scatter y=SMOKING_1 x=CV_time/ name="Schoenfeld_SMOKING";
194                                                                             The SAS System

SYMBOLGEN:  Macro variable CATEGORY resolves to SMOKING_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   loess y=SMOKING_1 x=CV_time/SMOOTH=.8 DEGREE=1 INTERPOLATION= CUBIC ;
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   keylegend "Schoenfeld_SMOKING"/ title=' ' Position=bottom;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: PROCEDURE SGPLOT used (Total process time):
      real time           2.03 seconds
      cpu time            0.34 seconds
      
NOTE: Marker and line antialiasing has been disabled because the threshold has been reached. You can set ANTIALIASMAX=3000 in the ODS GRAPHICS statement to restore 
      antialiasing.
NOTE: There were 2975 observations read from the data set WORK.RESSCH_SMOKING.

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Because Schoenfeld residuals are based on the effects of the predictor variables that are assumed to be independent of time, a plot 
of the residuals by time could be used to visually assess whether the effect of the predictor variable changes over the period of follow-up. A smoothed line fit to the plot 
ofthe residuals should have an intercept and a slope of approximately 0 (Hosmer and Lemeshow 1999).";
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 8; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 8
SYMBOLGEN:  Macro variable CATEGORY resolves to SEX_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
WARNING: Argument 3 to macro function %SUBSTR is out of range.
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 9; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 9
SYMBOLGEN:  Macro variable CATEGORY resolves to TREATMENT_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 10; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 10
SYMBOLGEN:  Macro variable CATEGORY resolves to ACTIVITY_high
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 11; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 11
SYMBOLGEN:  Macro variable CATEGORY resolves to ACTIVITY_low
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
195                                                                             The SAS System

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 12; loop will not iterate again.
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
SYMBOLGEN:  Macro variable _INTERACTIONS resolves to _ALL
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %qscan(&_INTERACTIONS, 1) = _ALL is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Assess the model for interactions';
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Check for interactions SMOKING";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   data SMOKING_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The data set WORK.SMOKING_INTERACTIONS has 1 observations and 0 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop beginning; index variable INT_COUNT; start value is 1; stop value is 9; by value is 1.  
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 1
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 1
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_SMOKING;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to SMOKING*AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY SMOKING*AGE /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_SMOKING has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.44 seconds
      cpu time            0.11 seconds
      
196                                                                             The SAS System


MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   data SMOKING_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   set SMOKING_interactions interaction_SMOKING (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 1 observations read from the data set WORK.SMOKING_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_SMOKING.
      WHERE parameter contains '*';
NOTE: The data set WORK.SMOKING_INTERACTIONS has 2 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 2; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 2
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 2
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_SMOKING;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to SMOKING*SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY SMOKING*SYSTOLIC_BP /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_SMOKING has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.43 seconds
      cpu time            0.10 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
197                                                                             The SAS System

SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   data SMOKING_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   set SMOKING_interactions interaction_SMOKING (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 2 observations read from the data set WORK.SMOKING_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_SMOKING.
      WHERE parameter contains '*';
NOTE: The data set WORK.SMOKING_INTERACTIONS has 3 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.23 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 3; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 3
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 3
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_SMOKING;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to SMOKING*DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY SMOKING*DIASTOLIC_BP /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_SMOKING has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.48 seconds
      cpu time            0.15 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
198                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   data SMOKING_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   set SMOKING_interactions interaction_SMOKING (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 3 observations read from the data set WORK.SMOKING_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_SMOKING.
      WHERE parameter contains '*';
NOTE: The data set WORK.SMOKING_INTERACTIONS has 4 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.08 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 4; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 4
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 4
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_SMOKING;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to SMOKING*LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY SMOKING*LDL /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_SMOKING has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.53 seconds
      cpu time            0.14 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   data SMOKING_interactions;
199                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   set SMOKING_interactions interaction_SMOKING (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 4 observations read from the data set WORK.SMOKING_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_SMOKING.
      WHERE parameter contains '*';
NOTE: The data set WORK.SMOKING_INTERACTIONS has 5 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.12 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 5; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 5
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 5
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_SMOKING;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to SMOKING*BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY SMOKING*BMI /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_SMOKING has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.30 seconds
      cpu time            0.12 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   data SMOKING_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
200                                                                             The SAS System

SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   set SMOKING_interactions interaction_SMOKING (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 5 observations read from the data set WORK.SMOKING_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_SMOKING.
      WHERE parameter contains '*';
NOTE: The data set WORK.SMOKING_INTERACTIONS has 6 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 6; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 6
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 6
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_SMOKING;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to SMOKING*DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY SMOKING*DIABETES /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_SMOKING has 12 observations and 10 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.37 seconds
      cpu time            0.12 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   data SMOKING_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
201                                                                             The SAS System

SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   set SMOKING_interactions interaction_SMOKING (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 6 observations read from the data set WORK.SMOKING_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_SMOKING.
      WHERE parameter contains '*';
NOTE: The data set WORK.SMOKING_INTERACTIONS has 7 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 7; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 7
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 7
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_SMOKING;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to SMOKING*SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY SMOKING*SEX /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_SMOKING has 12 observations and 10 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.41 seconds
      cpu time            0.11 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   data SMOKING_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
202                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   set SMOKING_interactions interaction_SMOKING (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 7 observations read from the data set WORK.SMOKING_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_SMOKING.
      WHERE parameter contains '*';
NOTE: The data set WORK.SMOKING_INTERACTIONS has 8 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 8; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 8
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 8
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_SMOKING;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to SMOKING*TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY SMOKING*TREATMENT /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_SMOKING has 12 observations and 10 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.10 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   data SMOKING_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   set SMOKING_interactions interaction_SMOKING (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;
203                                                                             The SAS System


NOTE: There were 8 observations read from the data set WORK.SMOKING_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_SMOKING.
      WHERE parameter contains '*';
NOTE: The data set WORK.SMOKING_INTERACTIONS has 9 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 9; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 9
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 9
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_SMOKING;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to SMOKING*ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY SMOKING*ACTIVITY /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_SMOKING has 13 observations and 10 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.11 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   data SMOKING_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   set SMOKING_interactions interaction_SMOKING (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
204                                                                             The SAS System

WARNING: Multiple lengths were specified for the variable ClassVal1 by input data set(s). This may cause truncation of data.
NOTE: There were 9 observations read from the data set WORK.SMOKING_INTERACTIONS.
NOTE: There were 2 observations read from the data set WORK.INTERACTION_SMOKING.
      WHERE parameter contains '*';
NOTE: The data set WORK.SMOKING_INTERACTIONS has 11 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 10; loop will not iterate again.
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   data SMOKING_interactions;
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   set SMOKING_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   if missing(parameter) then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   if ProbChiSq < 0.05 then flag='*';
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 11 observations read from the data set WORK.SMOKING_INTERACTIONS.
NOTE: The data set WORK.SMOKING_INTERACTIONS has 10 observations and 11 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   proc print data=SMOKING_interactions noobs label;
MPRINT(CHECK_COX_ASSUMPTIONS):   var parameter label estimate stderr chisq ProbChiSq flag;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 10 observations read from the data set WORK.SMOKING_INTERACTIONS.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Results of a partial likelihood ratio test that compares the model with only the main effects to the model with the main effects 
and all two-way interactions. P-values less than 0.05 are marked";
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Assess the model for confounders';
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Check for Confounders adjusting for SMOKING";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates=SMOKING_adjusted;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
205                                                                             The SAS System

SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.SMOKING_ADJUSTED has 11 observations and 11 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.25 seconds
      cpu time            0.12 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates=SMOKING_crude;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SEX TREATMENT ACTIVITY /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   id SMOKING;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.SMOKING_CRUDE has 10 observations and 11 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.11 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sort data=SMOKING_adjusted;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 11 observations read from the data set WORK.SMOKING_ADJUSTED.
NOTE: The data set WORK.SMOKING_ADJUSTED has 11 observations and 11 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

206                                                                             The SAS System

SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sort data=SMOKING_crude;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 10 observations read from the data set WORK.SMOKING_CRUDE.
NOTE: The data set WORK.SMOKING_CRUDE has 10 observations and 11 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   data table_SMOKING;
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   merge SMOKING_adjusted(rename=(estimate=estimate1 stderr=stderr1 hazardratio=hazardratio1 HRLOWERCL=HRLOWERCL1 HRupperCL=HRupperCL1)) 
SMOKING_crude;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   drop HRLowerCL HRUpperCL ProbChiSq DF chisq;
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   if parameter="SMOKING" then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   change=(estimate-estimate1)/estimate;
MPRINT(CHECK_COX_ASSUMPTIONS):   if abs(change)>0.2 and (abs(estimate)>0.01 or abs(estimate1)>0.01) then flag='*';
MPRINT(CHECK_COX_ASSUMPTIONS):   HR= put(hazardratio,5.2)||' ('||put(HRLOWERCL,5.2)||'-'||put(HRupperCL,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   HR1= put(hazardratio1,5.2)||' ('||put(HRLOWERCL1,5.2)||'-'||put(HRupperCL1,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   EST=put(estimate,5.2)||' ('||put(stderr,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   EST1=put(estimate1,5.2)||' ('||put(stderr1,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   label est1= 'Adjusted Estimate (Error)' est= 'Crude Estimate (Error)' HR= 'Crude Hazard Ratio (95% CI)' HR1= 'Adjusted Hazard Ratio (95% CI)';
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   if upcase(parameter) =upcase("SMOKING") then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 572:111   1 at 572:139   
NOTE: There were 11 observations read from the data set WORK.SMOKING_ADJUSTED.
NOTE: There were 10 observations read from the data set WORK.SMOKING_CRUDE.
NOTE: The data set WORK.TABLE_SMOKING has 10 observations and 17 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   proc print data=table_SMOKING noobs label;
MPRINT(CHECK_COX_ASSUMPTIONS):   format change percent.;
MPRINT(CHECK_COX_ASSUMPTIONS):   var parameter label est hr est1 hr1 change flag;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 10 observations read from the data set WORK.TABLE_SMOKING.
NOTE: PROCEDURE PRINT used (Total process time):
207                                                                             The SAS System

      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Estimating change between Parameter Estimates for Other variables varies significantly for model without (crude) or with (adjusted) 
variable of interest. Variables for which parameter estimates varies by more than 20% are flaged.Variables are flaged only if at least one of the estimates is larger then 
0.01.";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc datasets lib=work memtype=data;
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
SYMBOLGEN:  Macro variable NUMBER resolves to 2
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
SYMBOLGEN:  Macro variable CHECK resolves to SMOKING
MPRINT(CHECK_COX_ASSUMPTIONS):   delete table_SMOKING SMOKING_ADJUSTED SMOKING_CRUDE SMOKING_INTERACTIONS INTERACTION_SMOKING ClassLevelInfo_2 SMOKING_LIFETEST MART 
PARMSSMOKING RANKSMOKING RESSCH_SMOKING SCHOENFELD;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The file WORK.MART (memtype=DATA) was not found, but appears on a DELETE statement.
NOTE: The file WORK.PARMSSMOKING (memtype=DATA) was not found, but appears on a DELETE statement.
NOTE: The file WORK.RANKSMOKING (memtype=DATA) was not found, but appears on a DELETE statement.
NOTE: Deleting WORK.TABLE_SMOKING (memtype=DATA).
NOTE: Deleting WORK.SMOKING_ADJUSTED (memtype=DATA).
NOTE: Deleting WORK.SMOKING_CRUDE (memtype=DATA).
NOTE: Deleting WORK.SMOKING_INTERACTIONS (memtype=DATA).
NOTE: Deleting WORK.INTERACTION_SMOKING (memtype=DATA).
NOTE: Deleting WORK.CLASSLEVELINFO_2 (memtype=DATA).
NOTE: Deleting WORK.SMOKING_LIFETEST (memtype=DATA).
NOTE: Deleting WORK.RESSCH_SMOKING (memtype=DATA).
NOTE: Deleting WORK.SCHOENFELD (memtype=DATA).
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.21 seconds
      cpu time            0.04 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MLOGIC(CHECK_COX_ASSUMPTIONS):  Ending execution.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO loop index variable ALL_COUNT is now 8; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CHECK_VAR)
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable ALL_COUNT resolves to 8
MLOGIC(CHECK_COX_ASSUMPTIONS):  Beginning execution.
SYMBOLGEN:  Macro variable _NUMBER resolves to 2
SYMBOLGEN:  Macro variable _DATA resolves to rq.simcox
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable _CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
SYMBOLGEN:  Macro variable _OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable _FU resolves to CV_time
SYMBOLGEN:  Macro variable _STOP resolves to activity
208                                                                             The SAS System

SYMBOLGEN:  Macro variable _EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Macro variable CHECK_VAR resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter NUMBER has value 2
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter DATA has value rq.simcox
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter PREDICTORS has value AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter CLASS has value diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter OUTCOME has value CV_event
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter FU has value CV_time
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter STOP has value ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter EXCLUDE has value _NOTHING
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter CHECK has value SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   select distinct predictor into :predictors_WITHOUT_check separated by ' ' from predictors_2 where left(predictor)^="SEX" order by order;
WARNING: The query as specified involves ordering by an item that doesn't appear in its SELECT clause. Since you are ordering the output of a SELECT DISTINCT it may appear 
         that some duplicates have not been eliminated.
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT predictors_WITHOUT_check=&predictors_WITHOUT_check
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
predictors_WITHOUT_check=AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ClassLevelInfo=ClassLevelInfo_2;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.CLASSLEVELINFO_2 has 11 observations and 5 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.28 seconds
      cpu time            0.12 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %sysfunc(exist(ClassLevelInfo_&NUMBER)) is TRUE
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(%sysfunc(countw(&class)))=0) is FALSE
209                                                                             The SAS System

SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   data ClassLevelInfo_2;
MPRINT(CHECK_COX_ASSUMPTIONS):   length class $30 value$30;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   set ClassLevelInfo_2;
MPRINT(CHECK_COX_ASSUMPTIONS):   class=UPCASE(CLASS);
MPRINT(CHECK_COX_ASSUMPTIONS):   if ^missing(class) then call symput ('new',class);
MPRINT(CHECK_COX_ASSUMPTIONS):   else class=symget('new');
MPRINT(CHECK_COX_ASSUMPTIONS):   if sum(of X:)=0 then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 11 observations read from the data set WORK.CLASSLEVELINFO_2.
NOTE: The data set WORK.CLASSLEVELINFO_2 has 6 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   select distinct class into :class_variables separated by ' ' from ClassLevelInfo_2;
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   create table schoenfeld as select predictor, order, value, compress(catx('',predictor,'_',left(value))," -$%^()&#@","c") as schoenfeld from 
Predictors_2 left join ClassLevelInfo_2 on left(class)=left(predictor) order by order, schoenfeld;
NOTE: Table WORK.SCHOENFELD created, with 11 rows and 4 columns.

MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.08 seconds
      cpu time            0.03 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
MPRINT(CHECK_COX_ASSUMPTIONS):   select schoenfeld into :schoenfeld separated by ' ' from schoenfeld;
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT predictors=&predictors_used
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
predictors=AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT class_variables=&class_variables
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
class_variables=ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT schoenfeld = &schoenfeld
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
210                                                                             The SAS System

schoenfeld = AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to SEX
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (&CHECK in &class_variables)=0 is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to SEX
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (&CHECK in &class_variables)=0 is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to SEX
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &CHECK in &class_variables is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Verify the proportional hazards assumption of predictor variables';
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the PH Assumption of SEX by Plotting LLS";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods graphics on;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select LogNegLogSurvivalPlot;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   proc lifetest data=rq.simcox outsurv=SEX_lifetest NOTABLE method=km plots=lls;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
MPRINT(CHECK_COX_ASSUMPTIONS):   time CV_time*CV_event(0);
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   strata SEX;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The LOGLOG transform is used to compute the confidence limits for the survivor function. To suppress using this transform, specify CONFTYPE=LINEAR in the PROC SURVIVAL 
      statement.
NOTE: 58 observations with invalid time, censoring, or strata values were deleted.
NOTE: The data set WORK.SEX_LIFETEST has 2919 observations and 7 variables.
NOTE: PROCEDURE LIFETEST used (Total process time):
      real time           1.48 seconds
      cpu time            0.42 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT ="One method to assess the proportional hazards assumption is to plot thelog-negative-log of the Kaplan-Meier estimates of the 
survival function versusthe log of time. If the hazard ratios are constant, the plot has parallel lines.";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods graphics off;
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the PH Assumption of SEX by Plotting Schoenfeld Residuals";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox noprint;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
211                                                                             The SAS System

SYMBOLGEN:  Macro variable CHECK resolves to SEX
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
MPRINT(CHECK_COX_ASSUMPTIONS):   output out=ressch_SEX ressch=AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.RESSCH_SEX has 2975 observations and 30 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.87 seconds
      cpu time            0.49 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNTSCH)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop beginning; index variable I; start value is 1; stop value is 11; by value is 1.  
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 1
SYMBOLGEN:  Macro variable CATEGORY resolves to AGE_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SEX
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 2; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 2
SYMBOLGEN:  Macro variable CATEGORY resolves to SYSTOLIC_BP_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SEX
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 3; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 3
SYMBOLGEN:  Macro variable CATEGORY resolves to DIASTOLIC_BP_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SEX
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 4; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 4
SYMBOLGEN:  Macro variable CATEGORY resolves to LDL_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SEX
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 5; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
212                                                                             The SAS System

SYMBOLGEN:  Macro variable I resolves to 5
SYMBOLGEN:  Macro variable CATEGORY resolves to BMI_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SEX
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 6; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 6
SYMBOLGEN:  Macro variable CATEGORY resolves to DIABETES_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SEX
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 7; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 7
SYMBOLGEN:  Macro variable CATEGORY resolves to SMOKING_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SEX
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 8; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 8
SYMBOLGEN:  Macro variable CATEGORY resolves to SEX_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SEX
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is TRUE
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sgplot data=ressch_SEX;
SYMBOLGEN:  Macro variable CATEGORY resolves to SEX_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   scatter y=SEX_1 x=CV_time/ name="Schoenfeld_SEX";
SYMBOLGEN:  Macro variable CATEGORY resolves to SEX_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   loess y=SEX_1 x=CV_time/SMOOTH=.8 DEGREE=1 INTERPOLATION= CUBIC ;
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   keylegend "Schoenfeld_SEX"/ title=' ' Position=bottom;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: PROCEDURE SGPLOT used (Total process time):
      real time           1.18 seconds
      cpu time            0.26 seconds
      
NOTE: Marker and line antialiasing has been disabled because the threshold has been reached. You can set ANTIALIASMAX=3000 in the ODS GRAPHICS statement to restore 
      antialiasing.
NOTE: There were 2975 observations read from the data set WORK.RESSCH_SEX.

213                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Because Schoenfeld residuals are based on the effects of the predictor variables that are assumed to be independent of time, a plot 
of the residuals by time could be used to visually assess whether the effect of the predictor variable changes over the period of follow-up. A smoothed line fit to the plot 
ofthe residuals should have an intercept and a slope of approximately 0 (Hosmer and Lemeshow 1999).";
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 9; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 9
SYMBOLGEN:  Macro variable CATEGORY resolves to TREATMENT_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SEX
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 10; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 10
SYMBOLGEN:  Macro variable CATEGORY resolves to ACTIVITY_high
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SEX
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 11; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 11
SYMBOLGEN:  Macro variable CATEGORY resolves to ACTIVITY_low
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SEX
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 12; loop will not iterate again.
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
SYMBOLGEN:  Macro variable _INTERACTIONS resolves to _ALL
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %qscan(&_INTERACTIONS, 1) = _ALL is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Assess the model for interactions';
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Check for interactions SEX";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   data SEX_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The data set WORK.SEX_INTERACTIONS has 1 observations and 0 variables.
NOTE: DATA statement used (Total process time):
      real time           0.05 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop beginning; index variable INT_COUNT; start value is 1; stop value is 9; by value is 1.  
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 1
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
214                                                                             The SAS System

SYMBOLGEN:  Macro variable CHECK resolves to SEX
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 1
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_SEX;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to SEX*AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY SEX*AGE /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_SEX has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.57 seconds
      cpu time            0.10 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   data SEX_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to SEX
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   set SEX_interactions interaction_SEX (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 1 observations read from the data set WORK.SEX_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_SEX.
      WHERE parameter contains '*';
NOTE: The data set WORK.SEX_INTERACTIONS has 2 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 2; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 2
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to SEX
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to SYSTOLIC_BP
215                                                                             The SAS System

SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 2
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_SEX;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to SEX*SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY SEX*SYSTOLIC_BP /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_SEX has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.42 seconds
      cpu time            0.06 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   data SEX_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to SEX
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   set SEX_interactions interaction_SEX (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 2 observations read from the data set WORK.SEX_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_SEX.
      WHERE parameter contains '*';
NOTE: The data set WORK.SEX_INTERACTIONS has 3 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.03 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 3; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 3
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to SEX
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
216                                                                             The SAS System

SYMBOLGEN:  Macro variable INT_COUNT resolves to 3
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_SEX;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to SEX*DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY SEX*DIASTOLIC_BP /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_SEX has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.33 seconds
      cpu time            0.12 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   data SEX_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to SEX
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   set SEX_interactions interaction_SEX (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 3 observations read from the data set WORK.SEX_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_SEX.
      WHERE parameter contains '*';
NOTE: The data set WORK.SEX_INTERACTIONS has 4 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 4; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 4
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to SEX
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 4
217                                                                             The SAS System

SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_SEX;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to SEX*LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY SEX*LDL /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_SEX has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.26 seconds
      cpu time            0.12 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   data SEX_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to SEX
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   set SEX_interactions interaction_SEX (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 4 observations read from the data set WORK.SEX_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_SEX.
      WHERE parameter contains '*';
NOTE: The data set WORK.SEX_INTERACTIONS has 5 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 5; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 5
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to SEX
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 5
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
218                                                                             The SAS System

MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_SEX;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to SEX*BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY SEX*BMI /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_SEX has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.22 seconds
      cpu time            0.09 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   data SEX_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to SEX
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   set SEX_interactions interaction_SEX (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 5 observations read from the data set WORK.SEX_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_SEX.
      WHERE parameter contains '*';
NOTE: The data set WORK.SEX_INTERACTIONS has 6 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 6; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 6
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to SEX
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 6
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to SEX
219                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_SEX;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to SEX*DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY SEX*DIABETES /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_SEX has 12 observations and 10 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.14 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   data SEX_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to SEX
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   set SEX_interactions interaction_SEX (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 6 observations read from the data set WORK.SEX_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_SEX.
      WHERE parameter contains '*';
NOTE: The data set WORK.SEX_INTERACTIONS has 7 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 7; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 7
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to SEX
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 7
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_SEX;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
220                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to SEX*SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY SEX*SMOKING /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_SEX has 12 observations and 10 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.11 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   data SEX_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to SEX
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   set SEX_interactions interaction_SEX (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 7 observations read from the data set WORK.SEX_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_SEX.
      WHERE parameter contains '*';
NOTE: The data set WORK.SEX_INTERACTIONS has 8 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 8; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 8
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to SEX
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 8
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_SEX;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
221                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to SEX*TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY SEX*TREATMENT /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_SEX has 12 observations and 10 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.24 seconds
      cpu time            0.12 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   data SEX_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to SEX
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   set SEX_interactions interaction_SEX (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 8 observations read from the data set WORK.SEX_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_SEX.
      WHERE parameter contains '*';
NOTE: The data set WORK.SEX_INTERACTIONS has 9 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 9; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 9
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to SEX
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 9
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_SEX;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
222                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to SEX*ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY SEX*ACTIVITY /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_SEX has 13 observations and 10 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.30 seconds
      cpu time            0.07 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   data SEX_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to SEX
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   set SEX_interactions interaction_SEX (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
WARNING: Multiple lengths were specified for the variable ClassVal1 by input data set(s). This may cause truncation of data.
NOTE: There were 9 observations read from the data set WORK.SEX_INTERACTIONS.
NOTE: There were 2 observations read from the data set WORK.INTERACTION_SEX.
      WHERE parameter contains '*';
NOTE: The data set WORK.SEX_INTERACTIONS has 11 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 10; loop will not iterate again.
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   data SEX_interactions;
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   set SEX_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   if missing(parameter) then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   if ProbChiSq < 0.05 then flag='*';
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 11 observations read from the data set WORK.SEX_INTERACTIONS.
NOTE: The data set WORK.SEX_INTERACTIONS has 10 observations and 11 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to SEX
223                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   proc print data=SEX_interactions noobs label;
MPRINT(CHECK_COX_ASSUMPTIONS):   var parameter label estimate stderr chisq ProbChiSq flag;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 10 observations read from the data set WORK.SEX_INTERACTIONS.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.02 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Results of a partial likelihood ratio test that compares the model with only the main effects to the model with the main effects 
and all two-way interactions. P-values less than 0.05 are marked";
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Assess the model for confounders';
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Check for Confounders adjusting for SEX";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates=SEX_adjusted;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.SEX_ADJUSTED has 11 observations and 11 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.28 seconds
      cpu time            0.14 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates=SEX_crude;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to SEX
224                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   id SEX;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.SEX_CRUDE has 10 observations and 11 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.40 seconds
      cpu time            0.12 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sort data=SEX_adjusted;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 11 observations read from the data set WORK.SEX_ADJUSTED.
NOTE: The data set WORK.SEX_ADJUSTED has 11 observations and 11 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sort data=SEX_crude;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 10 observations read from the data set WORK.SEX_CRUDE.
NOTE: The data set WORK.SEX_CRUDE has 10 observations and 11 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   data table_SEX;
SYMBOLGEN:  Macro variable CHECK resolves to SEX
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   merge SEX_adjusted(rename=(estimate=estimate1 stderr=stderr1 hazardratio=hazardratio1 HRLOWERCL=HRLOWERCL1 HRupperCL=HRupperCL1)) SEX_crude;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   drop HRLowerCL HRUpperCL ProbChiSq DF chisq;
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   if parameter="SEX" then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   change=(estimate-estimate1)/estimate;
MPRINT(CHECK_COX_ASSUMPTIONS):   if abs(change)>0.2 and (abs(estimate)>0.01 or abs(estimate1)>0.01) then flag='*';
MPRINT(CHECK_COX_ASSUMPTIONS):   HR= put(hazardratio,5.2)||' ('||put(HRLOWERCL,5.2)||'-'||put(HRupperCL,5.2)||')';
225                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   HR1= put(hazardratio1,5.2)||' ('||put(HRLOWERCL1,5.2)||'-'||put(HRupperCL1,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   EST=put(estimate,5.2)||' ('||put(stderr,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   EST1=put(estimate1,5.2)||' ('||put(stderr1,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   label est1= 'Adjusted Estimate (Error)' est= 'Crude Estimate (Error)' HR= 'Crude Hazard Ratio (95% CI)' HR1= 'Adjusted Hazard Ratio (95% CI)';
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   if upcase(parameter) =upcase("SEX") then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 572:111   1 at 572:139   
NOTE: There were 11 observations read from the data set WORK.SEX_ADJUSTED.
NOTE: There were 10 observations read from the data set WORK.SEX_CRUDE.
NOTE: The data set WORK.TABLE_SEX has 10 observations and 17 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   proc print data=table_SEX noobs label;
MPRINT(CHECK_COX_ASSUMPTIONS):   format change percent.;
MPRINT(CHECK_COX_ASSUMPTIONS):   var parameter label est hr est1 hr1 change flag;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 10 observations read from the data set WORK.TABLE_SEX.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Estimating change between Parameter Estimates for Other variables varies significantly for model without (crude) or with (adjusted) 
variable of interest. Variables for which parameter estimates varies by more than 20% are flaged.Variables are flaged only if at least one of the estimates is larger then 
0.01.";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc datasets lib=work memtype=data;
SYMBOLGEN:  Macro variable CHECK resolves to SEX
SYMBOLGEN:  Macro variable CHECK resolves to SEX
SYMBOLGEN:  Macro variable CHECK resolves to SEX
SYMBOLGEN:  Macro variable CHECK resolves to SEX
SYMBOLGEN:  Macro variable CHECK resolves to SEX
SYMBOLGEN:  Macro variable NUMBER resolves to 2
SYMBOLGEN:  Macro variable CHECK resolves to SEX
SYMBOLGEN:  Macro variable CHECK resolves to SEX
SYMBOLGEN:  Macro variable CHECK resolves to SEX
SYMBOLGEN:  Macro variable CHECK resolves to SEX
MPRINT(CHECK_COX_ASSUMPTIONS):   delete table_SEX SEX_ADJUSTED SEX_CRUDE SEX_INTERACTIONS INTERACTION_SEX ClassLevelInfo_2 SEX_LIFETEST MART PARMSSEX RANKSEX RESSCH_SEX 
SCHOENFELD;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The file WORK.MART (memtype=DATA) was not found, but appears on a DELETE statement.
NOTE: The file WORK.PARMSSEX (memtype=DATA) was not found, but appears on a DELETE statement.
NOTE: The file WORK.RANKSEX (memtype=DATA) was not found, but appears on a DELETE statement.
NOTE: Deleting WORK.TABLE_SEX (memtype=DATA).
NOTE: Deleting WORK.SEX_ADJUSTED (memtype=DATA).
226                                                                             The SAS System

NOTE: Deleting WORK.SEX_CRUDE (memtype=DATA).
NOTE: Deleting WORK.SEX_INTERACTIONS (memtype=DATA).
NOTE: Deleting WORK.INTERACTION_SEX (memtype=DATA).
NOTE: Deleting WORK.CLASSLEVELINFO_2 (memtype=DATA).
NOTE: Deleting WORK.SEX_LIFETEST (memtype=DATA).
NOTE: Deleting WORK.RESSCH_SEX (memtype=DATA).
NOTE: Deleting WORK.SCHOENFELD (memtype=DATA).
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.36 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MLOGIC(CHECK_COX_ASSUMPTIONS):  Ending execution.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO loop index variable ALL_COUNT is now 9; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CHECK_VAR)
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable ALL_COUNT resolves to 9
MLOGIC(CHECK_COX_ASSUMPTIONS):  Beginning execution.
SYMBOLGEN:  Macro variable _NUMBER resolves to 2
SYMBOLGEN:  Macro variable _DATA resolves to rq.simcox
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable _CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
SYMBOLGEN:  Macro variable _OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable _FU resolves to CV_time
SYMBOLGEN:  Macro variable _STOP resolves to activity
SYMBOLGEN:  Macro variable _EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Macro variable CHECK_VAR resolves to TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter NUMBER has value 2
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter DATA has value rq.simcox
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter PREDICTORS has value AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter CLASS has value diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter OUTCOME has value CV_event
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter FU has value CV_time
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter STOP has value ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter EXCLUDE has value _NOTHING
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter CHECK has value TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   select distinct predictor into :predictors_WITHOUT_check separated by ' ' from predictors_2 where left(predictor)^="TREATMENT" order by order;
WARNING: The query as specified involves ordering by an item that doesn't appear in its SELECT clause. Since you are ordering the output of a SELECT DISTINCT it may appear 
         that some duplicates have not been eliminated.
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT predictors_WITHOUT_check=&predictors_WITHOUT_check
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX ACTIVITY
predictors_WITHOUT_check=AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX ACTIVITY
SYMBOLGEN:  Macro variable NUMBER resolves to 2
227                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ClassLevelInfo=ClassLevelInfo_2;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.CLASSLEVELINFO_2 has 11 observations and 5 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.27 seconds
      cpu time            0.12 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %sysfunc(exist(ClassLevelInfo_&NUMBER)) is TRUE
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(%sysfunc(countw(&class)))=0) is FALSE
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   data ClassLevelInfo_2;
MPRINT(CHECK_COX_ASSUMPTIONS):   length class $30 value$30;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   set ClassLevelInfo_2;
MPRINT(CHECK_COX_ASSUMPTIONS):   class=UPCASE(CLASS);
MPRINT(CHECK_COX_ASSUMPTIONS):   if ^missing(class) then call symput ('new',class);
MPRINT(CHECK_COX_ASSUMPTIONS):   else class=symget('new');
MPRINT(CHECK_COX_ASSUMPTIONS):   if sum(of X:)=0 then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 11 observations read from the data set WORK.CLASSLEVELINFO_2.
NOTE: The data set WORK.CLASSLEVELINFO_2 has 6 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   select distinct class into :class_variables separated by ' ' from ClassLevelInfo_2;
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
228                                                                             The SAS System

SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   create table schoenfeld as select predictor, order, value, compress(catx('',predictor,'_',left(value))," -$%^()&#@","c") as schoenfeld from 
Predictors_2 left join ClassLevelInfo_2 on left(class)=left(predictor) order by order, schoenfeld;
NOTE: Table WORK.SCHOENFELD created, with 11 rows and 4 columns.

MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.07 seconds
      cpu time            0.06 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
MPRINT(CHECK_COX_ASSUMPTIONS):   select schoenfeld into :schoenfeld separated by ' ' from schoenfeld;
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT predictors=&predictors_used
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
predictors=AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT class_variables=&class_variables
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
class_variables=ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT schoenfeld = &schoenfeld
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
schoenfeld = AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (&CHECK in &class_variables)=0 is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (&CHECK in &class_variables)=0 is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &CHECK in &class_variables is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Verify the proportional hazards assumption of predictor variables';
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the PH Assumption of TREATMENT by Plotting LLS";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods graphics on;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select LogNegLogSurvivalPlot;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   proc lifetest data=rq.simcox outsurv=TREATMENT_lifetest NOTABLE method=km plots=lls;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
MPRINT(CHECK_COX_ASSUMPTIONS):   time CV_time*CV_event(0);
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   strata TREATMENT;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;
229                                                                             The SAS System


NOTE: The LOGLOG transform is used to compute the confidence limits for the survivor function. To suppress using this transform, specify CONFTYPE=LINEAR in the PROC SURVIVAL 
      statement.
NOTE: 65 observations with invalid time, censoring, or strata values were deleted.
NOTE: The data set WORK.TREATMENT_LIFETEST has 2912 observations and 7 variables.
NOTE: PROCEDURE LIFETEST used (Total process time):
      real time           2.25 seconds
      cpu time            0.32 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT ="One method to assess the proportional hazards assumption is to plot thelog-negative-log of the Kaplan-Meier estimates of the 
survival function versusthe log of time. If the hazard ratios are constant, the plot has parallel lines.";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods graphics off;
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the PH Assumption of TREATMENT by Plotting Schoenfeld Residuals";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox noprint;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
MPRINT(CHECK_COX_ASSUMPTIONS):   output out=ressch_TREATMENT ressch=AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high 
ACTIVITY_low;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.RESSCH_TREATMENT has 2975 observations and 30 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.78 seconds
      cpu time            0.51 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNTSCH)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop beginning; index variable I; start value is 1; stop value is 11; by value is 1.  
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 1
SYMBOLGEN:  Macro variable CATEGORY resolves to AGE_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
WARNING: Argument 3 to macro function %SUBSTR is out of range.
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 2; loop will iterate again.
230                                                                             The SAS System

MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 2
SYMBOLGEN:  Macro variable CATEGORY resolves to SYSTOLIC_BP_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 3; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 3
SYMBOLGEN:  Macro variable CATEGORY resolves to DIASTOLIC_BP_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 4; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 4
SYMBOLGEN:  Macro variable CATEGORY resolves to LDL_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
WARNING: Argument 3 to macro function %SUBSTR is out of range.
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 5; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 5
SYMBOLGEN:  Macro variable CATEGORY resolves to BMI_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
WARNING: Argument 3 to macro function %SUBSTR is out of range.
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 6; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 6
SYMBOLGEN:  Macro variable CATEGORY resolves to DIABETES_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 7; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 7
SYMBOLGEN:  Macro variable CATEGORY resolves to SMOKING_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 8; loop will iterate again.
231                                                                             The SAS System

MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 8
SYMBOLGEN:  Macro variable CATEGORY resolves to SEX_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
WARNING: Argument 3 to macro function %SUBSTR is out of range.
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 9; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 9
SYMBOLGEN:  Macro variable CATEGORY resolves to TREATMENT_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is TRUE
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sgplot data=ressch_TREATMENT;
SYMBOLGEN:  Macro variable CATEGORY resolves to TREATMENT_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   scatter y=TREATMENT_1 x=CV_time/ name="Schoenfeld_TREATMENT";
SYMBOLGEN:  Macro variable CATEGORY resolves to TREATMENT_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   loess y=TREATMENT_1 x=CV_time/SMOOTH=.8 DEGREE=1 INTERPOLATION= CUBIC ;
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   keylegend "Schoenfeld_TREATMENT"/ title=' ' Position=bottom;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: PROCEDURE SGPLOT used (Total process time):
      real time           2.02 seconds
      cpu time            0.28 seconds
      
NOTE: Marker and line antialiasing has been disabled because the threshold has been reached. You can set ANTIALIASMAX=3000 in the ODS GRAPHICS statement to restore 
      antialiasing.
NOTE: There were 2975 observations read from the data set WORK.RESSCH_TREATMENT.

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Because Schoenfeld residuals are based on the effects of the predictor variables that are assumed to be independent of time, a plot 
of the residuals by time could be used to visually assess whether the effect of the predictor variable changes over the period of follow-up. A smoothed line fit to the plot 
ofthe residuals should have an intercept and a slope of approximately 0 (Hosmer and Lemeshow 1999).";
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 10; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 10
SYMBOLGEN:  Macro variable CATEGORY resolves to ACTIVITY_high
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 11; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
232                                                                             The SAS System

SYMBOLGEN:  Macro variable I resolves to 11
SYMBOLGEN:  Macro variable CATEGORY resolves to ACTIVITY_low
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 12; loop will not iterate again.
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
SYMBOLGEN:  Macro variable _INTERACTIONS resolves to _ALL
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %qscan(&_INTERACTIONS, 1) = _ALL is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Assess the model for interactions';
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Check for interactions TREATMENT";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   data TREATMENT_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The data set WORK.TREATMENT_INTERACTIONS has 1 observations and 0 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop beginning; index variable INT_COUNT; start value is 1; stop value is 9; by value is 1.  
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 1
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 1
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_TREATMENT;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to TREATMENT*AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY TREATMENT*AGE /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
233                                                                             The SAS System

NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_TREATMENT has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.53 seconds
      cpu time            0.10 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   data TREATMENT_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   set TREATMENT_interactions interaction_TREATMENT (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 1 observations read from the data set WORK.TREATMENT_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_TREATMENT.
      WHERE parameter contains '*';
NOTE: The data set WORK.TREATMENT_INTERACTIONS has 2 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 2; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 2
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 2
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_TREATMENT;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to TREATMENT*SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY TREATMENT*SYSTOLIC_BP /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_TREATMENT has 12 observations and 9 variables.
234                                                                             The SAS System

NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.31 seconds
      cpu time            0.09 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   data TREATMENT_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   set TREATMENT_interactions interaction_TREATMENT (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 2 observations read from the data set WORK.TREATMENT_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_TREATMENT.
      WHERE parameter contains '*';
NOTE: The data set WORK.TREATMENT_INTERACTIONS has 3 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 3; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 3
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 3
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_TREATMENT;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to TREATMENT*DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY TREATMENT*DIASTOLIC_BP /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_TREATMENT has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
235                                                                             The SAS System

      real time           0.36 seconds
      cpu time            0.10 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   data TREATMENT_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   set TREATMENT_interactions interaction_TREATMENT (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 3 observations read from the data set WORK.TREATMENT_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_TREATMENT.
      WHERE parameter contains '*';
NOTE: The data set WORK.TREATMENT_INTERACTIONS has 4 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.05 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 4; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 4
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 4
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_TREATMENT;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to TREATMENT*LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY TREATMENT*LDL /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_TREATMENT has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.28 seconds
236                                                                             The SAS System

      cpu time            0.14 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   data TREATMENT_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   set TREATMENT_interactions interaction_TREATMENT (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 4 observations read from the data set WORK.TREATMENT_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_TREATMENT.
      WHERE parameter contains '*';
NOTE: The data set WORK.TREATMENT_INTERACTIONS has 5 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 5; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 5
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 5
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_TREATMENT;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to TREATMENT*BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY TREATMENT*BMI /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_TREATMENT has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.14 seconds
237                                                                             The SAS System

      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   data TREATMENT_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   set TREATMENT_interactions interaction_TREATMENT (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 5 observations read from the data set WORK.TREATMENT_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_TREATMENT.
      WHERE parameter contains '*';
NOTE: The data set WORK.TREATMENT_INTERACTIONS has 6 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 6; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 6
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 6
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_TREATMENT;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to TREATMENT*DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY TREATMENT*DIABETES /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_TREATMENT has 12 observations and 10 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.24 seconds
      cpu time            0.14 seconds
      

238                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   data TREATMENT_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   set TREATMENT_interactions interaction_TREATMENT (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 6 observations read from the data set WORK.TREATMENT_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_TREATMENT.
      WHERE parameter contains '*';
NOTE: The data set WORK.TREATMENT_INTERACTIONS has 7 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 7; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 7
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 7
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_TREATMENT;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to TREATMENT*SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY TREATMENT*SMOKING /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_TREATMENT has 12 observations and 10 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.30 seconds
      cpu time            0.11 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
239                                                                             The SAS System

SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   data TREATMENT_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   set TREATMENT_interactions interaction_TREATMENT (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 7 observations read from the data set WORK.TREATMENT_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_TREATMENT.
      WHERE parameter contains '*';
NOTE: The data set WORK.TREATMENT_INTERACTIONS has 8 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 8; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 8
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 8
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_TREATMENT;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to TREATMENT*SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY TREATMENT*SEX /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_TREATMENT has 12 observations and 10 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.09 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   data TREATMENT_interactions;
240                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   set TREATMENT_interactions interaction_TREATMENT (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 8 observations read from the data set WORK.TREATMENT_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_TREATMENT.
      WHERE parameter contains '*';
NOTE: The data set WORK.TREATMENT_INTERACTIONS has 9 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 9; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 9
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 9
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_TREATMENT;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to TREATMENT*ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY TREATMENT*ACTIVITY /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_TREATMENT has 13 observations and 10 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.24 seconds
      cpu time            0.12 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   data TREATMENT_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
241                                                                             The SAS System

SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   set TREATMENT_interactions interaction_TREATMENT (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
WARNING: Multiple lengths were specified for the variable ClassVal1 by input data set(s). This may cause truncation of data.
NOTE: There were 9 observations read from the data set WORK.TREATMENT_INTERACTIONS.
NOTE: There were 2 observations read from the data set WORK.INTERACTION_TREATMENT.
      WHERE parameter contains '*';
NOTE: The data set WORK.TREATMENT_INTERACTIONS has 11 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 10; loop will not iterate again.
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   data TREATMENT_interactions;
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   set TREATMENT_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   if missing(parameter) then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   if ProbChiSq < 0.05 then flag='*';
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 11 observations read from the data set WORK.TREATMENT_INTERACTIONS.
NOTE: The data set WORK.TREATMENT_INTERACTIONS has 10 observations and 11 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   proc print data=TREATMENT_interactions noobs label;
MPRINT(CHECK_COX_ASSUMPTIONS):   var parameter label estimate stderr chisq ProbChiSq flag;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 10 observations read from the data set WORK.TREATMENT_INTERACTIONS.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Results of a partial likelihood ratio test that compares the model with only the main effects to the model with the main effects 
and all two-way interactions. P-values less than 0.05 are marked";
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Assess the model for confounders';
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Check for Confounders adjusting for TREATMENT";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates=TREATMENT_adjusted;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
242                                                                             The SAS System

SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.TREATMENT_ADJUSTED has 11 observations and 11 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.07 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates=TREATMENT_crude;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX ACTIVITY /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   id TREATMENT;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.TREATMENT_CRUDE has 10 observations and 11 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.10 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sort data=TREATMENT_adjusted;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 11 observations read from the data set WORK.TREATMENT_ADJUSTED.
NOTE: The data set WORK.TREATMENT_ADJUSTED has 11 observations and 11 variables.
243                                                                             The SAS System

NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sort data=TREATMENT_crude;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 10 observations read from the data set WORK.TREATMENT_CRUDE.
NOTE: The data set WORK.TREATMENT_CRUDE has 10 observations and 11 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   data table_TREATMENT;
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   merge TREATMENT_adjusted(rename=(estimate=estimate1 stderr=stderr1 hazardratio=hazardratio1 HRLOWERCL=HRLOWERCL1 HRupperCL=HRupperCL1)) 
TREATMENT_crude;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   drop HRLowerCL HRUpperCL ProbChiSq DF chisq;
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   if parameter="TREATMENT" then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   change=(estimate-estimate1)/estimate;
MPRINT(CHECK_COX_ASSUMPTIONS):   if abs(change)>0.2 and (abs(estimate)>0.01 or abs(estimate1)>0.01) then flag='*';
MPRINT(CHECK_COX_ASSUMPTIONS):   HR= put(hazardratio,5.2)||' ('||put(HRLOWERCL,5.2)||'-'||put(HRupperCL,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   HR1= put(hazardratio1,5.2)||' ('||put(HRLOWERCL1,5.2)||'-'||put(HRupperCL1,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   EST=put(estimate,5.2)||' ('||put(stderr,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   EST1=put(estimate1,5.2)||' ('||put(stderr1,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   label est1= 'Adjusted Estimate (Error)' est= 'Crude Estimate (Error)' HR= 'Crude Hazard Ratio (95% CI)' HR1= 'Adjusted Hazard Ratio (95% CI)';
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   if upcase(parameter) =upcase("TREATMENT") then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 572:111   1 at 572:139   
NOTE: There were 11 observations read from the data set WORK.TREATMENT_ADJUSTED.
NOTE: There were 10 observations read from the data set WORK.TREATMENT_CRUDE.
NOTE: The data set WORK.TABLE_TREATMENT has 10 observations and 17 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   proc print data=table_TREATMENT noobs label;
MPRINT(CHECK_COX_ASSUMPTIONS):   format change percent.;
244                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   var parameter label est hr est1 hr1 change flag;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 10 observations read from the data set WORK.TABLE_TREATMENT.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Estimating change between Parameter Estimates for Other variables varies significantly for model without (crude) or with (adjusted) 
variable of interest. Variables for which parameter estimates varies by more than 20% are flaged.Variables are flaged only if at least one of the estimates is larger then 
0.01.";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc datasets lib=work memtype=data;
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
SYMBOLGEN:  Macro variable NUMBER resolves to 2
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
SYMBOLGEN:  Macro variable CHECK resolves to TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   delete table_TREATMENT TREATMENT_ADJUSTED TREATMENT_CRUDE TREATMENT_INTERACTIONS INTERACTION_TREATMENT ClassLevelInfo_2 TREATMENT_LIFETEST 
MART PARMSTREATMENT RANKTREATMENT RESSCH_TREATMENT SCHOENFELD;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The file WORK.MART (memtype=DATA) was not found, but appears on a DELETE statement.
NOTE: The file WORK.PARMSTREATMENT (memtype=DATA) was not found, but appears on a DELETE statement.
NOTE: The file WORK.RANKTREATMENT (memtype=DATA) was not found, but appears on a DELETE statement.
NOTE: Deleting WORK.TABLE_TREATMENT (memtype=DATA).
NOTE: Deleting WORK.TREATMENT_ADJUSTED (memtype=DATA).
NOTE: Deleting WORK.TREATMENT_CRUDE (memtype=DATA).
NOTE: Deleting WORK.TREATMENT_INTERACTIONS (memtype=DATA).
NOTE: Deleting WORK.INTERACTION_TREATMENT (memtype=DATA).
NOTE: Deleting WORK.CLASSLEVELINFO_2 (memtype=DATA).
NOTE: Deleting WORK.TREATMENT_LIFETEST (memtype=DATA).
NOTE: Deleting WORK.RESSCH_TREATMENT (memtype=DATA).
NOTE: Deleting WORK.SCHOENFELD (memtype=DATA).
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.18 seconds
      cpu time            0.03 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MLOGIC(CHECK_COX_ASSUMPTIONS):  Ending execution.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO loop index variable ALL_COUNT is now 10; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CHECK_VAR)
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable ALL_COUNT resolves to 10
MLOGIC(CHECK_COX_ASSUMPTIONS):  Beginning execution.
SYMBOLGEN:  Macro variable _NUMBER resolves to 2
SYMBOLGEN:  Macro variable _DATA resolves to rq.simcox
245                                                                             The SAS System

SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable _CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
SYMBOLGEN:  Macro variable _OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable _FU resolves to CV_time
SYMBOLGEN:  Macro variable _STOP resolves to activity
SYMBOLGEN:  Macro variable _EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Macro variable CHECK_VAR resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter NUMBER has value 2
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter DATA has value rq.simcox
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter PREDICTORS has value AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter CLASS has value diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter OUTCOME has value CV_event
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter FU has value CV_time
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter STOP has value ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter EXCLUDE has value _NOTHING
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter CHECK has value ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   select distinct predictor into :predictors_WITHOUT_check separated by ' ' from predictors_2 where left(predictor)^="ACTIVITY" order by order;
WARNING: The query as specified involves ordering by an item that doesn't appear in its SELECT clause. Since you are ordering the output of a SELECT DISTINCT it may appear 
         that some duplicates have not been eliminated.
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT predictors_WITHOUT_check=&predictors_WITHOUT_check
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT
predictors_WITHOUT_check=AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ClassLevelInfo=ClassLevelInfo_2;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.CLASSLEVELINFO_2 has 11 observations and 5 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.26 seconds
      cpu time            0.12 seconds
      

246                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %sysfunc(exist(ClassLevelInfo_&NUMBER)) is TRUE
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(%sysfunc(countw(&class)))=0) is FALSE
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   data ClassLevelInfo_2;
MPRINT(CHECK_COX_ASSUMPTIONS):   length class $30 value$30;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   set ClassLevelInfo_2;
MPRINT(CHECK_COX_ASSUMPTIONS):   class=UPCASE(CLASS);
MPRINT(CHECK_COX_ASSUMPTIONS):   if ^missing(class) then call symput ('new',class);
MPRINT(CHECK_COX_ASSUMPTIONS):   else class=symget('new');
MPRINT(CHECK_COX_ASSUMPTIONS):   if sum(of X:)=0 then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 11 observations read from the data set WORK.CLASSLEVELINFO_2.
NOTE: The data set WORK.CLASSLEVELINFO_2 has 6 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   select distinct class into :class_variables separated by ' ' from ClassLevelInfo_2;
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 2
SYMBOLGEN:  Macro variable NUMBER resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS):   create table schoenfeld as select predictor, order, value, compress(catx('',predictor,'_',left(value))," -$%^()&#@","c") as schoenfeld from 
Predictors_2 left join ClassLevelInfo_2 on left(class)=left(predictor) order by order, schoenfeld;
NOTE: Table WORK.SCHOENFELD created, with 11 rows and 4 columns.

MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.07 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
MPRINT(CHECK_COX_ASSUMPTIONS):   select schoenfeld into :schoenfeld separated by ' ' from schoenfeld;
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT predictors=&predictors_used
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
predictors=AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
247                                                                             The SAS System

MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT class_variables=&class_variables
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
class_variables=ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT schoenfeld = &schoenfeld
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
schoenfeld = AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (&CHECK in &class_variables)=0 is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (&CHECK in &class_variables)=0 is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &CHECK in &class_variables is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Verify the proportional hazards assumption of predictor variables';
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the PH Assumption of ACTIVITY by Plotting LLS";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods graphics on;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select LogNegLogSurvivalPlot;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   proc lifetest data=rq.simcox outsurv=ACTIVITY_lifetest NOTABLE method=km plots=lls;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
MPRINT(CHECK_COX_ASSUMPTIONS):   time CV_time*CV_event(0);
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   strata ACTIVITY;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The LOGLOG transform is used to compute the confidence limits for the survivor function. To suppress using this transform, specify CONFTYPE=LINEAR in the PROC SURVIVAL 
      statement.
NOTE: 69 observations with invalid time, censoring, or strata values were deleted.
NOTE: The data set WORK.ACTIVITY_LIFETEST has 2909 observations and 7 variables.
NOTE: PROCEDURE LIFETEST used (Total process time):
      real time           1.27 seconds
      cpu time            0.43 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT ="One method to assess the proportional hazards assumption is to plot thelog-negative-log of the Kaplan-Meier estimates of the 
survival function versusthe log of time. If the hazard ratios are constant, the plot has parallel lines.";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods graphics off;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the PH Assumption of ACTIVITY by Plotting Schoenfeld Residuals";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox noprint;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
248                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
MPRINT(CHECK_COX_ASSUMPTIONS):   output out=ressch_ACTIVITY ressch=AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.RESSCH_ACTIVITY has 2975 observations and 30 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.92 seconds
      cpu time            0.46 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNTSCH)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop beginning; index variable I; start value is 1; stop value is 11; by value is 1.  
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 1
SYMBOLGEN:  Macro variable CATEGORY resolves to AGE_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
WARNING: Argument 3 to macro function %SUBSTR is out of range.
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 2; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 2
SYMBOLGEN:  Macro variable CATEGORY resolves to SYSTOLIC_BP_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 3; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 3
SYMBOLGEN:  Macro variable CATEGORY resolves to DIASTOLIC_BP_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 4; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 4
SYMBOLGEN:  Macro variable CATEGORY resolves to LDL_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
249                                                                             The SAS System

SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
WARNING: Argument 3 to macro function %SUBSTR is out of range.
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 5; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 5
SYMBOLGEN:  Macro variable CATEGORY resolves to BMI_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
WARNING: Argument 3 to macro function %SUBSTR is out of range.
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 6; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 6
SYMBOLGEN:  Macro variable CATEGORY resolves to DIABETES_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 7; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 7
SYMBOLGEN:  Macro variable CATEGORY resolves to SMOKING_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 8; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 8
SYMBOLGEN:  Macro variable CATEGORY resolves to SEX_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
WARNING: Argument 3 to macro function %SUBSTR is out of range.
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 9; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 9
SYMBOLGEN:  Macro variable CATEGORY resolves to TREATMENT_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 10; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 10
SYMBOLGEN:  Macro variable CATEGORY resolves to ACTIVITY_high
250                                                                             The SAS System

SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is TRUE
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sgplot data=ressch_ACTIVITY;
SYMBOLGEN:  Macro variable CATEGORY resolves to ACTIVITY_high
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   scatter y=ACTIVITY_high x=CV_time/ name="Schoenfeld_ACTIVITY";
SYMBOLGEN:  Macro variable CATEGORY resolves to ACTIVITY_high
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   loess y=ACTIVITY_high x=CV_time/SMOOTH=.8 DEGREE=1 INTERPOLATION= CUBIC ;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   keylegend "Schoenfeld_ACTIVITY"/ title=' ' Position=bottom;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: PROCEDURE SGPLOT used (Total process time):
      real time           1.96 seconds
      cpu time            0.32 seconds
      
NOTE: Marker and line antialiasing has been disabled because the threshold has been reached. You can set ANTIALIASMAX=3000 in the ODS GRAPHICS statement to restore 
      antialiasing.
NOTE: There were 2975 observations read from the data set WORK.RESSCH_ACTIVITY.

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Because Schoenfeld residuals are based on the effects of the predictor variables that are assumed to be independent of time, a plot 
of the residuals by time could be used to visually assess whether the effect of the predictor variable changes over the period of follow-up. A smoothed line fit to the plot 
ofthe residuals should have an intercept and a slope of approximately 0 (Hosmer and Lemeshow 1999).";
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 11; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 11
SYMBOLGEN:  Macro variable CATEGORY resolves to ACTIVITY_low
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is TRUE
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sgplot data=ressch_ACTIVITY;
SYMBOLGEN:  Macro variable CATEGORY resolves to ACTIVITY_low
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   scatter y=ACTIVITY_low x=CV_time/ name="Schoenfeld_ACTIVITY";
SYMBOLGEN:  Macro variable CATEGORY resolves to ACTIVITY_low
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   loess y=ACTIVITY_low x=CV_time/SMOOTH=.8 DEGREE=1 INTERPOLATION= CUBIC ;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   keylegend "Schoenfeld_ACTIVITY"/ title=' ' Position=bottom;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: PROCEDURE SGPLOT used (Total process time):
      real time           1.37 seconds
251                                                                             The SAS System

      cpu time            0.26 seconds
      
NOTE: Marker and line antialiasing has been disabled because the threshold has been reached. You can set ANTIALIASMAX=3000 in the ODS GRAPHICS statement to restore 
      antialiasing.
NOTE: There were 2975 observations read from the data set WORK.RESSCH_ACTIVITY.

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Because Schoenfeld residuals are based on the effects of the predictor variables that are assumed to be independent of time, a plot 
of the residuals by time could be used to visually assess whether the effect of the predictor variable changes over the period of follow-up. A smoothed line fit to the plot 
ofthe residuals should have an intercept and a slope of approximately 0 (Hosmer and Lemeshow 1999).";
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 12; loop will not iterate again.
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
SYMBOLGEN:  Macro variable _INTERACTIONS resolves to _ALL
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %qscan(&_INTERACTIONS, 1) = _ALL is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Assess the model for interactions';
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Check for interactions ACTIVITY";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   data ACTIVITY_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The data set WORK.ACTIVITY_INTERACTIONS has 1 observations and 0 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop beginning; index variable INT_COUNT; start value is 1; stop value is 9; by value is 1.  
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT
SYMBOLGEN:  Macro variable INT_COUNT resolves to 1
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 1
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_ACTIVITY;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to ACTIVITY*AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY ACTIVITY*AGE /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;
252                                                                             The SAS System


NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_ACTIVITY has 13 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.32 seconds
      cpu time            0.12 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   data ACTIVITY_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   set ACTIVITY_interactions interaction_ACTIVITY (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 1 observations read from the data set WORK.ACTIVITY_INTERACTIONS.
NOTE: There were 2 observations read from the data set WORK.INTERACTION_ACTIVITY.
      WHERE parameter contains '*';
NOTE: The data set WORK.ACTIVITY_INTERACTIONS has 3 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 2; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT
SYMBOLGEN:  Macro variable INT_COUNT resolves to 2
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 2
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_ACTIVITY;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to ACTIVITY*SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY ACTIVITY*SYSTOLIC_BP /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
253                                                                             The SAS System

      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_ACTIVITY has 13 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.14 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   data ACTIVITY_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   set ACTIVITY_interactions interaction_ACTIVITY (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 3 observations read from the data set WORK.ACTIVITY_INTERACTIONS.
NOTE: There were 2 observations read from the data set WORK.INTERACTION_ACTIVITY.
      WHERE parameter contains '*';
NOTE: The data set WORK.ACTIVITY_INTERACTIONS has 5 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 3; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT
SYMBOLGEN:  Macro variable INT_COUNT resolves to 3
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 3
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_ACTIVITY;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to ACTIVITY*DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY ACTIVITY*DIASTOLIC_BP /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
254                                                                             The SAS System

NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_ACTIVITY has 13 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.14 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   data ACTIVITY_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   set ACTIVITY_interactions interaction_ACTIVITY (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 5 observations read from the data set WORK.ACTIVITY_INTERACTIONS.
NOTE: There were 2 observations read from the data set WORK.INTERACTION_ACTIVITY.
      WHERE parameter contains '*';
NOTE: The data set WORK.ACTIVITY_INTERACTIONS has 7 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 4; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT
SYMBOLGEN:  Macro variable INT_COUNT resolves to 4
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 4
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_ACTIVITY;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to ACTIVITY*LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY ACTIVITY*LDL /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
255                                                                             The SAS System

NOTE: The data set WORK.INTERACTION_ACTIVITY has 13 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.22 seconds
      cpu time            0.12 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   data ACTIVITY_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   set ACTIVITY_interactions interaction_ACTIVITY (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 7 observations read from the data set WORK.ACTIVITY_INTERACTIONS.
NOTE: There were 2 observations read from the data set WORK.INTERACTION_ACTIVITY.
      WHERE parameter contains '*';
NOTE: The data set WORK.ACTIVITY_INTERACTIONS has 9 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 5; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT
SYMBOLGEN:  Macro variable INT_COUNT resolves to 5
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 5
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_ACTIVITY;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to ACTIVITY*BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY ACTIVITY*BMI /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_ACTIVITY has 13 observations and 9 variables.
256                                                                             The SAS System

NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.25 seconds
      cpu time            0.11 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   data ACTIVITY_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   set ACTIVITY_interactions interaction_ACTIVITY (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 9 observations read from the data set WORK.ACTIVITY_INTERACTIONS.
NOTE: There were 2 observations read from the data set WORK.INTERACTION_ACTIVITY.
      WHERE parameter contains '*';
NOTE: The data set WORK.ACTIVITY_INTERACTIONS has 11 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 6; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT
SYMBOLGEN:  Macro variable INT_COUNT resolves to 6
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 6
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_ACTIVITY;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to ACTIVITY*DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY ACTIVITY*DIABETES /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_ACTIVITY has 13 observations and 10 variables.
NOTE: PROCEDURE PHREG used (Total process time):
257                                                                             The SAS System

      real time           0.27 seconds
      cpu time            0.09 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   data ACTIVITY_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   set ACTIVITY_interactions interaction_ACTIVITY (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 11 observations read from the data set WORK.ACTIVITY_INTERACTIONS.
NOTE: There were 2 observations read from the data set WORK.INTERACTION_ACTIVITY.
      WHERE parameter contains '*';
NOTE: The data set WORK.ACTIVITY_INTERACTIONS has 13 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 7; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT
SYMBOLGEN:  Macro variable INT_COUNT resolves to 7
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 7
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_ACTIVITY;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to ACTIVITY*SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY ACTIVITY*SMOKING /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_ACTIVITY has 13 observations and 10 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
258                                                                             The SAS System

      cpu time            0.09 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   data ACTIVITY_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   set ACTIVITY_interactions interaction_ACTIVITY (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 13 observations read from the data set WORK.ACTIVITY_INTERACTIONS.
NOTE: There were 2 observations read from the data set WORK.INTERACTION_ACTIVITY.
      WHERE parameter contains '*';
NOTE: The data set WORK.ACTIVITY_INTERACTIONS has 15 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 8; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT
SYMBOLGEN:  Macro variable INT_COUNT resolves to 8
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 8
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_ACTIVITY;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to ACTIVITY*SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY ACTIVITY*SEX /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_ACTIVITY has 13 observations and 10 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.07 seconds
259                                                                             The SAS System

      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   data ACTIVITY_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   set ACTIVITY_interactions interaction_ACTIVITY (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 15 observations read from the data set WORK.ACTIVITY_INTERACTIONS.
NOTE: There were 2 observations read from the data set WORK.INTERACTION_ACTIVITY.
      WHERE parameter contains '*';
NOTE: The data set WORK.ACTIVITY_INTERACTIONS has 17 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 9; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT
SYMBOLGEN:  Macro variable INT_COUNT resolves to 9
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 9
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_ACTIVITY;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to ACTIVITY*TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY ACTIVITY*TREATMENT /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_ACTIVITY has 13 observations and 10 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.24 seconds
      cpu time            0.10 seconds
      

260                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   data ACTIVITY_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   set ACTIVITY_interactions interaction_ACTIVITY (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 17 observations read from the data set WORK.ACTIVITY_INTERACTIONS.
NOTE: There were 2 observations read from the data set WORK.INTERACTION_ACTIVITY.
      WHERE parameter contains '*';
NOTE: The data set WORK.ACTIVITY_INTERACTIONS has 19 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 10; loop will not iterate again.
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   data ACTIVITY_interactions;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   set ACTIVITY_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   if missing(parameter) then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   if ProbChiSq < 0.05 then flag='*';
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 19 observations read from the data set WORK.ACTIVITY_INTERACTIONS.
NOTE: The data set WORK.ACTIVITY_INTERACTIONS has 18 observations and 11 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   proc print data=ACTIVITY_interactions noobs label;
MPRINT(CHECK_COX_ASSUMPTIONS):   var parameter label estimate stderr chisq ProbChiSq flag;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 18 observations read from the data set WORK.ACTIVITY_INTERACTIONS.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Results of a partial likelihood ratio test that compares the model with only the main effects to the model with the main effects 
and all two-way interactions. P-values less than 0.05 are marked";
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Assess the model for confounders';
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Check for Confounders adjusting for ACTIVITY";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
261                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates=ACTIVITY_adjusted;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.ACTIVITY_ADJUSTED has 11 observations and 11 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.22 seconds
      cpu time            0.09 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates=ACTIVITY_crude;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   id ACTIVITY;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.ACTIVITY_CRUDE has 9 observations and 11 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.34 seconds
      cpu time            0.09 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sort data=ACTIVITY_adjusted;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;
262                                                                             The SAS System


NOTE: There were 11 observations read from the data set WORK.ACTIVITY_ADJUSTED.
NOTE: The data set WORK.ACTIVITY_ADJUSTED has 11 observations and 11 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.05 seconds
      cpu time            0.03 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sort data=ACTIVITY_crude;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 9 observations read from the data set WORK.ACTIVITY_CRUDE.
NOTE: The data set WORK.ACTIVITY_CRUDE has 9 observations and 11 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   data table_ACTIVITY;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   merge ACTIVITY_adjusted(rename=(estimate=estimate1 stderr=stderr1 hazardratio=hazardratio1 HRLOWERCL=HRLOWERCL1 HRupperCL=HRupperCL1)) 
ACTIVITY_crude;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   drop HRLowerCL HRUpperCL ProbChiSq DF chisq;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   if parameter="ACTIVITY" then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   change=(estimate-estimate1)/estimate;
MPRINT(CHECK_COX_ASSUMPTIONS):   if abs(change)>0.2 and (abs(estimate)>0.01 or abs(estimate1)>0.01) then flag='*';
MPRINT(CHECK_COX_ASSUMPTIONS):   HR= put(hazardratio,5.2)||' ('||put(HRLOWERCL,5.2)||'-'||put(HRupperCL,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   HR1= put(hazardratio1,5.2)||' ('||put(HRLOWERCL1,5.2)||'-'||put(HRupperCL1,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   EST=put(estimate,5.2)||' ('||put(stderr,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   EST1=put(estimate1,5.2)||' ('||put(stderr1,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   label est1= 'Adjusted Estimate (Error)' est= 'Crude Estimate (Error)' HR= 'Crude Hazard Ratio (95% CI)' HR1= 'Adjusted Hazard Ratio (95% CI)';
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   if upcase(parameter) =upcase("ACTIVITY") then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      2 at 572:111   2 at 572:139   
NOTE: There were 11 observations read from the data set WORK.ACTIVITY_ADJUSTED.
NOTE: There were 9 observations read from the data set WORK.ACTIVITY_CRUDE.
NOTE: The data set WORK.TABLE_ACTIVITY has 9 observations and 17 variables.
NOTE: DATA statement used (Total process time):
      real time           0.07 seconds
      cpu time            0.00 seconds
      

263                                                                             The SAS System

SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   proc print data=table_ACTIVITY noobs label;
MPRINT(CHECK_COX_ASSUMPTIONS):   format change percent.;
MPRINT(CHECK_COX_ASSUMPTIONS):   var parameter label est hr est1 hr1 change flag;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 9 observations read from the data set WORK.TABLE_ACTIVITY.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Estimating change between Parameter Estimates for Other variables varies significantly for model without (crude) or with (adjusted) 
variable of interest. Variables for which parameter estimates varies by more than 20% are flaged.Variables are flaged only if at least one of the estimates is larger then 
0.01.";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc datasets lib=work memtype=data;
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable NUMBER resolves to 2
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
SYMBOLGEN:  Macro variable CHECK resolves to ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   delete table_ACTIVITY ACTIVITY_ADJUSTED ACTIVITY_CRUDE ACTIVITY_INTERACTIONS INTERACTION_ACTIVITY ClassLevelInfo_2 ACTIVITY_LIFETEST MART 
PARMSACTIVITY RANKACTIVITY RESSCH_ACTIVITY SCHOENFELD;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The file WORK.MART (memtype=DATA) was not found, but appears on a DELETE statement.
NOTE: The file WORK.PARMSACTIVITY (memtype=DATA) was not found, but appears on a DELETE statement.
NOTE: The file WORK.RANKACTIVITY (memtype=DATA) was not found, but appears on a DELETE statement.
NOTE: Deleting WORK.TABLE_ACTIVITY (memtype=DATA).
NOTE: Deleting WORK.ACTIVITY_ADJUSTED (memtype=DATA).
NOTE: Deleting WORK.ACTIVITY_CRUDE (memtype=DATA).
NOTE: Deleting WORK.ACTIVITY_INTERACTIONS (memtype=DATA).
NOTE: Deleting WORK.INTERACTION_ACTIVITY (memtype=DATA).
NOTE: Deleting WORK.CLASSLEVELINFO_2 (memtype=DATA).
NOTE: Deleting WORK.ACTIVITY_LIFETEST (memtype=DATA).
NOTE: Deleting WORK.RESSCH_ACTIVITY (memtype=DATA).
NOTE: Deleting WORK.SCHOENFELD (memtype=DATA).
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.72 seconds
      cpu time            0.04 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MLOGIC(CHECK_COX_ASSUMPTIONS):  Ending execution.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO loop index variable ALL_COUNT is now 11; loop will not iterate again.
SYMBOLGEN:  Macro variable _INTERACTIONS resolves to _ALL
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition %qscan(&_INTERACTIONS, 1) NE _ALL is FALSE
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods rtf close;
264                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   footnote;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   title;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Ending execution.
573        %check_cox_assumptions_all (_Number=3, _Data=rq.simcox, _predictors=&predictors, _class=&class, _OUTCOME=CV_event, _FU=CV_time, _CHECK=AGE, _EXCLUDE=sex)
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Beginning execution.
SYMBOLGEN:  Macro variable PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _NUMBER has value 3
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _DATA has value rq.simcox
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _PREDICTORS has value age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _CLASS has value diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _OUTCOME has value CV_event
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _FU has value CV_time
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _CHECK has value AGE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _EXCLUDE has value sex
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _STOP has value _NOT_SPECIFIED
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _RQ has value cox_assumptions
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _INTERACTIONS has value _ALL
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _FOOTNOTE has value &sysdate &systime  produced by macro check_cox_assumptions
WARNING: The quoted string currently being processed has become more than 262 characters long.  You may have unbalanced quotation marks.
WARNING: The quoted string currently being processed has become more than 262 characters long.  You may have unbalanced quotation marks.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   options nodate mprint pageno=1 mergenoby=warn ;
SYMBOLGEN:  Macro variable _RQ resolves to cox_assumptions
SYMBOLGEN:  Macro variable _NUMBER resolves to 3
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods rtf file="cox_assumptions_model_3.rtf" style=statistical;
NOTE: Writing RTF Body file: cox_assumptions_model_3.rtf
SYMBOLGEN:  Macro variable _NUMBER resolves to 3
SYMBOLGEN:  Macro variable _FU resolves to CV_time
SYMBOLGEN:  Macro variable _OUTCOME resolves to CV_event
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   title1 height=13pt "Model 3: modeling CV_time*CV_event(0) ";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods rtf startpage=NO;
SYMBOLGEN:  Macro variable _FOOTNOTE resolves to &sysdate, &systime -- produced by macro check_cox_assumptions
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable SYSDATE resolves to 08MAY13
WARNING: The FOOTNOTE statement is ambiguous due to invalid options or unquoted text.
SYMBOLGEN:  Macro variable SYSTIME resolves to 11:17
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   footnote1 J=right height=7pt 08MAY13, 11:17 -- produced by macro check_cox_assumptions;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods listing close;
SYMBOLGEN:  Macro variable _STOP resolves to _NOT_SPECIFIED
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition &_Stop=_NOT_SPECIFIED is TRUE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is _STOP)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is EXCLUDE)
SYMBOLGEN:  Macro variable _EXCLUDE resolves to sex
SYMBOLGEN:  Macro variable _NUMBER resolves to 3
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   data predictors_3;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   format predictor $30.;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) loop beginning.
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 0
265                                                                             The SAS System

SYMBOLGEN:  Macro variable VAR resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 0
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=0;
SYMBOLGEN:  Macro variable VAR resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="AGE";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable _STOP resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable VAR resolves to SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 1
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=1;
SYMBOLGEN:  Macro variable VAR resolves to SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="SYSTOLIC_BP";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable _STOP resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable VAR resolves to DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=2;
SYMBOLGEN:  Macro variable VAR resolves to DIASTOLIC_BP
266                                                                             The SAS System

SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="DIASTOLIC_BP";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable _STOP resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable VAR resolves to LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 3
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=3;
SYMBOLGEN:  Macro variable VAR resolves to LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="LDL";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable _STOP resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable VAR resolves to BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 4
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=4;
SYMBOLGEN:  Macro variable VAR resolves to BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="BMI";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable _STOP resolves to ACTIVITY
267                                                                             The SAS System

SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable VAR resolves to DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 5
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=5;
SYMBOLGEN:  Macro variable VAR resolves to DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="DIABETES";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable _STOP resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable VAR resolves to SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 6
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=6;
SYMBOLGEN:  Macro variable VAR resolves to SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="SMOKING";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable _STOP resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 7
268                                                                             The SAS System

SYMBOLGEN:  Macro variable VAR resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable _STOP resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable VAR resolves to TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 8
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=8;
SYMBOLGEN:  Macro variable VAR resolves to TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="TREATMENT";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable _STOP resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable VAR resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 9
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=9;
SYMBOLGEN:  Macro variable VAR resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="ACTIVITY";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
269                                                                             The SAS System

SYMBOLGEN:  Macro variable CNT resolves to 10
SYMBOLGEN:  Macro variable _STOP resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL() condition is TRUE; loop will not iterate again.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   run;

NOTE: The data set WORK.PREDICTORS_3 has 9 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   proc sql;
SYMBOLGEN:  Macro variable _NUMBER resolves to 3
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   select distinct predictor into :predictors_used separated by ' ' from predictors_3 order by order;
WARNING: The query as specified involves ordering by an item that doesn't appear in its SELECT clause. Since you are ordering the output of a SELECT DISTINCT it may appear 
         that some duplicates have not been eliminated.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %PUT predictors_used=&predictors_used
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
predictors_used=AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods listing;
SYMBOLGEN:  Macro variable _DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable _FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   where CV_time>0;
SYMBOLGEN:  Macro variable _CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average") ;
SYMBOLGEN:  Macro variable _FU resolves to CV_time
SYMBOLGEN:  Macro variable _OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The PROCEDURE PHREG printed pages 1-2.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.25 seconds
      cpu time            0.10 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods listing close;
SYMBOLGEN:  Macro variable _CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition &_check =_ALL is FALSE
SYMBOLGEN:  Macro variable _CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO loop beginning; index variable ALL_COUNT; start value is 1; stop value is 1; by value is 1.  
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CHECK_VAR)
SYMBOLGEN:  Macro variable _CHECK resolves to AGE
SYMBOLGEN:  Macro variable ALL_COUNT resolves to 1
270                                                                             The SAS System

MLOGIC(CHECK_COX_ASSUMPTIONS):  Beginning execution.
SYMBOLGEN:  Macro variable _NUMBER resolves to 3
SYMBOLGEN:  Macro variable _DATA resolves to rq.simcox
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable _CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
SYMBOLGEN:  Macro variable _OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable _FU resolves to CV_time
SYMBOLGEN:  Macro variable _STOP resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable _EXCLUDE resolves to sex
SYMBOLGEN:  Macro variable CHECK_VAR resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter NUMBER has value 3
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter DATA has value rq.simcox
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter PREDICTORS has value AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter CLASS has value diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter OUTCOME has value CV_event
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter FU has value CV_time
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter STOP has value ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter EXCLUDE has value SEX
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter CHECK has value AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 3
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   select distinct predictor into :predictors_WITHOUT_check separated by ' ' from predictors_3 where left(predictor)^="AGE" order by order;
WARNING: The query as specified involves ordering by an item that doesn't appear in its SELECT clause. Since you are ordering the output of a SELECT DISTINCT it may appear 
         that some duplicates have not been eliminated.
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT predictors_WITHOUT_check=&predictors_WITHOUT_check
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
predictors_WITHOUT_check=SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable NUMBER resolves to 3
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ClassLevelInfo=ClassLevelInfo_3;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.CLASSLEVELINFO_3 has 9 observations and 5 variables.
NOTE: PROCEDURE PHREG used (Total process time):
271                                                                             The SAS System

      real time           0.23 seconds
      cpu time            0.12 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable NUMBER resolves to 3
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %sysfunc(exist(ClassLevelInfo_&NUMBER)) is TRUE
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(%sysfunc(countw(&class)))=0) is FALSE
SYMBOLGEN:  Macro variable NUMBER resolves to 3
MPRINT(CHECK_COX_ASSUMPTIONS):   data ClassLevelInfo_3;
MPRINT(CHECK_COX_ASSUMPTIONS):   length class $30 value$30;
SYMBOLGEN:  Macro variable NUMBER resolves to 3
MPRINT(CHECK_COX_ASSUMPTIONS):   set ClassLevelInfo_3;
MPRINT(CHECK_COX_ASSUMPTIONS):   class=UPCASE(CLASS);
MPRINT(CHECK_COX_ASSUMPTIONS):   if ^missing(class) then call symput ('new',class);
MPRINT(CHECK_COX_ASSUMPTIONS):   else class=symget('new');
MPRINT(CHECK_COX_ASSUMPTIONS):   if sum(of X:)=0 then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 9 observations read from the data set WORK.CLASSLEVELINFO_3.
NOTE: The data set WORK.CLASSLEVELINFO_3 has 5 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 3
MPRINT(CHECK_COX_ASSUMPTIONS):   select distinct class into :class_variables separated by ' ' from ClassLevelInfo_3;
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 3
SYMBOLGEN:  Macro variable NUMBER resolves to 3
MPRINT(CHECK_COX_ASSUMPTIONS):   create table schoenfeld as select predictor, order, value, compress(catx('',predictor,'_',left(value))," -$%^()&#@","c") as schoenfeld from 
Predictors_3 left join ClassLevelInfo_3 on left(class)=left(predictor) order by order, schoenfeld;
NOTE: Table WORK.SCHOENFELD created, with 10 rows and 4 columns.

MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.07 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
MPRINT(CHECK_COX_ASSUMPTIONS):   select schoenfeld into :schoenfeld separated by ' ' from schoenfeld;
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      
272                                                                             The SAS System


MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT predictors=&predictors_used
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
predictors=AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT class_variables=&class_variables
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SMOKING TREATMENT
class_variables=ACTIVITY DIABETES SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT schoenfeld = &schoenfeld
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
schoenfeld = AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (&CHECK in &class_variables)=0 is TRUE
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Verify the linearity assumption of continuous predictor variables';
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the Linearity Assumption of AGE by Plotting Martingale Residuals";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   id AGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   output out=mart resmart=mart;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 318 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.MART has 2975 observations and 20 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.50 seconds
      cpu time            0.32 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sgplot data=mart;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   scatter y=mart x=AGE/ name='Martingale';
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   loess y=mart x=AGE/SMOOTH=.8 DEGREE=1 INTERPOLATION= CUBIC ;
MPRINT(CHECK_COX_ASSUMPTIONS):   keylegend 'Martingale'/ title=' ' Position=bottom;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: PROCEDURE SGPLOT used (Total process time):
      real time           4.11 seconds
273                                                                             The SAS System

      cpu time            0.42 seconds
      
NOTE: Marker and line antialiasing has been disabled because the threshold has been reached. You can set ANTIALIASMAX=3000 in the ODS GRAPHICS statement to restore 
      antialiasing.
NOTE: There were 2975 observations read from the data set WORK.MART.

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT='To use the Martingale residuals to assess the linearity assumption, first fit a	model that excludes the predictor variable of 
interest. Then plot the	Martingale residuals by the values of the excluded predictor variable of	interest. Finally, fit a smoothed line (that is, a loess smooth) in the plot. 
The	shape of the smoothed line provides an estimate of the functional form of the	predictor variable in the model (Therneau, Grambsch, and Fleming 1990).';
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the Linearity Assumption of AGE by Plotting Dummy Estimates";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc rank data=rq.simcox groups=5 out=rankAGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   var AGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ranks groupAGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The data set WORK.RANKAGE has 3000 observations and 20 variables.
NOTE: PROCEDURE RANK used (Total process time):
      real time           0.21 seconds
      cpu time            0.03 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data rankAGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set rankAGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   d0=(groupAGE=0);
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   d1=(groupAGE=1);
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   d2=(groupAGE=2);
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   d3=(groupAGE=3);
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   d4=(groupAGE=4);
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 3000 observations read from the data set WORK.RANKAGE.
NOTE: The data set WORK.RANKAGE has 3000 observations and 25 variables.
NOTE: DATA statement used (Total process time):
      real time           0.05 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output parameterestimates=parmsAGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rankAGE;
SYMBOLGEN:  Macro variable FU resolves to CV_time
274                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) loop beginning.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable VAR resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable VAR resolves to SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable VAR resolves to DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable VAR resolves to LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
275                                                                             The SAS System

MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable VAR resolves to BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable VAR resolves to DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable VAR resolves to SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
276                                                                             The SAS System

SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable VAR resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable VAR resolves to TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable VAR resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 10
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL() condition is TRUE; loop will not iterate again.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY d4 d3 d2 d1 d0 /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;


NOTE: 318 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.PARMSAGE has 15 observations and 11 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.49 seconds
      cpu time            0.12 seconds
      

277                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data parmsAGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set parmsAGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   where parameter in ('d0', 'd1', 'd2', 'd3', 'd4');
MPRINT(CHECK_COX_ASSUMPTIONS):   num_parm=input(substr(parameter, 2, 1),1.);
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 5 observations read from the data set WORK.PARMSAGE.
      WHERE parameter in ('d0', 'd1', 'd2', 'd3', 'd4');
NOTE: The data set WORK.PARMSAGE has 5 observations and 12 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc means data=rankAGE min max maxdec=2;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   class groupAGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   var AGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 3000 observations read from the data set WORK.RANKAGE.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.18 seconds
      cpu time            0.00 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sgplot data=parmsAGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   scatter y=estimate x=num_parm;
MPRINT(CHECK_COX_ASSUMPTIONS):   loess y=estimate x=num_parm/SMOOTH=.8 DEGREE=1 INTERPOLATION= CUBIC ;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: PROCEDURE SGPLOT used (Total process time):
      real time           1.26 seconds
      cpu time            0.25 seconds
      
NOTE: There were 5 observations read from the data set WORK.PARMSAGE.

WARNING: The quoted string currently being processed has become more than 512 characters long.  You may have unbalanced quotation marks.
MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT ="One method to check for linearity is to replace the predictor variable of	interest with several dummy variables. Then fit the 
model with the new dummy variables and plot the parameter estimates of the dummy variables, with a point at zero representing the reference group.	If the correct scale is 
linear in the log hazard, then a smoothed line is fairly linear. If the smoothed line departs substantially from a linear trend, then its	form is used to decide how to model 
the predictor variable (Hosmer and Lemeshow 1999).";
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Verify the proportional hazards assumption of predictor variables';
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the PH Assumption of AGE by Plotting LLS";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SMOKING TREATMENT
278                                                                             The SAS System

MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (&CHECK in &class_variables)=0 is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods graphics on;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select LogNegLogSurvivalPlot;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc lifetest data=rankAGE outsurv=AGE_lifetest NOTABLE method=km plots=lls;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
MPRINT(CHECK_COX_ASSUMPTIONS):   time CV_time*CV_event(0);
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   strata groupAGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The LOGLOG transform is used to compute the confidence limits for the survivor function. To suppress using this transform, specify CONFTYPE=LINEAR in the PROC SURVIVAL 
      statement.
NOTE: 64 observations with invalid time, censoring, or strata values were deleted.
NOTE: The data set WORK.AGE_LIFETEST has 2916 observations and 7 variables.
NOTE: PROCEDURE LIFETEST used (Total process time):
      real time           1.31 seconds
      cpu time            0.40 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT ="One method to assess the proportional hazards assumption is to plot thelog-negative-log of the Kaplan-Meier estimates of the 
survival function versus the log of time. If the hazard ratios are constant, the plot has parallel lines.";
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the PH Assumption of AGE by Plotting Schoenfeld Residuals";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods graphics off;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &CHECK in &class_variables is FALSE
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox noprint;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
MPRINT(CHECK_COX_ASSUMPTIONS):   output out=ressch_AGE ressch=AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.RESSCH_AGE has 2975 observations and 29 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.68 seconds
      cpu time            0.50 seconds
279                                                                             The SAS System

      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNTSCH)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop beginning; index variable I; start value is 1; stop value is 10; by value is 1.  
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 1
SYMBOLGEN:  Macro variable CATEGORY resolves to AGE_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is TRUE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sgplot data=ressch_AGE;
SYMBOLGEN:  Macro variable CATEGORY resolves to AGE_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   scatter y=AGE_ x=CV_time/ name="Schoenfeld_AGE";
SYMBOLGEN:  Macro variable CATEGORY resolves to AGE_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   loess y=AGE_ x=CV_time/SMOOTH=.8 DEGREE=1 INTERPOLATION= CUBIC ;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   keylegend "Schoenfeld_AGE"/ title=' ' Position=bottom;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: PROCEDURE SGPLOT used (Total process time):
      real time           1.24 seconds
      cpu time            0.34 seconds
      
NOTE: Marker and line antialiasing has been disabled because the threshold has been reached. You can set ANTIALIASMAX=3000 in the ODS GRAPHICS statement to restore 
      antialiasing.
NOTE: There were 2975 observations read from the data set WORK.RESSCH_AGE.

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Because Schoenfeld residuals are based on the effects of the predictor variables that are assumed to be independent of time, a plot 
of the residuals by time could be used to visually assess whether the effect of the predictor variable changes over the period of follow-up. A smoothed line fit to the plot 
ofthe residuals should have an intercept and a slope of approximately 0 (Hosmer and Lemeshow 1999).";
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 2; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 2
SYMBOLGEN:  Macro variable CATEGORY resolves to SYSTOLIC_BP_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 3; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 3
SYMBOLGEN:  Macro variable CATEGORY resolves to DIASTOLIC_BP_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
280                                                                             The SAS System

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 4; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 4
SYMBOLGEN:  Macro variable CATEGORY resolves to LDL_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 5; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 5
SYMBOLGEN:  Macro variable CATEGORY resolves to BMI_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 6; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 6
SYMBOLGEN:  Macro variable CATEGORY resolves to DIABETES_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 7; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 7
SYMBOLGEN:  Macro variable CATEGORY resolves to SMOKING_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 8; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 8
SYMBOLGEN:  Macro variable CATEGORY resolves to TREATMENT_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 9; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 9
SYMBOLGEN:  Macro variable CATEGORY resolves to ACTIVITY_high
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
281                                                                             The SAS System

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 10; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 10
SYMBOLGEN:  Macro variable CATEGORY resolves to ACTIVITY_low
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 11; loop will not iterate again.
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
SYMBOLGEN:  Macro variable _INTERACTIONS resolves to _ALL
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %qscan(&_INTERACTIONS, 1) = _ALL is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Assess the model for interactions';
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Check for interactions AGE";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data AGE_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The data set WORK.AGE_INTERACTIONS has 1 observations and 0 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop beginning; index variable INT_COUNT; start value is 1; stop value is 8; by value is 1.  
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 1
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 1
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_AGE;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to AGE*SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY AGE*SYSTOLIC_BP /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;
282                                                                             The SAS System


NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_AGE has 11 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.31 seconds
      cpu time            0.15 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data AGE_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set AGE_interactions interaction_AGE (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 1 observations read from the data set WORK.AGE_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_AGE.
      WHERE parameter contains '*';
NOTE: The data set WORK.AGE_INTERACTIONS has 2 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 2; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 2
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 2
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_AGE;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to AGE*DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY AGE*DIASTOLIC_BP /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
283                                                                             The SAS System

      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_AGE has 11 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.22 seconds
      cpu time            0.11 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data AGE_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set AGE_interactions interaction_AGE (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 2 observations read from the data set WORK.AGE_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_AGE.
      WHERE parameter contains '*';
NOTE: The data set WORK.AGE_INTERACTIONS has 3 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 3; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 3
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 3
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_AGE;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to AGE*LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY AGE*LDL /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
284                                                                             The SAS System

NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_AGE has 11 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.10 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data AGE_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set AGE_interactions interaction_AGE (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 3 observations read from the data set WORK.AGE_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_AGE.
      WHERE parameter contains '*';
NOTE: The data set WORK.AGE_INTERACTIONS has 4 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 4; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 4
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 4
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_AGE;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to AGE*BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY AGE*BMI /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
285                                                                             The SAS System

NOTE: The data set WORK.INTERACTION_AGE has 11 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.22 seconds
      cpu time            0.10 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data AGE_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set AGE_interactions interaction_AGE (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 4 observations read from the data set WORK.AGE_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_AGE.
      WHERE parameter contains '*';
NOTE: The data set WORK.AGE_INTERACTIONS has 5 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 5; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 5
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 5
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_AGE;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to AGE*DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY AGE*DIABETES /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_AGE has 11 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
286                                                                             The SAS System

      real time           0.23 seconds
      cpu time            0.09 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data AGE_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set AGE_interactions interaction_AGE (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 5 observations read from the data set WORK.AGE_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_AGE.
      WHERE parameter contains '*';
NOTE: The data set WORK.AGE_INTERACTIONS has 6 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 6; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 6
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 6
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_AGE;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to AGE*SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY AGE*SMOKING /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_AGE has 11 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.07 seconds
287                                                                             The SAS System

      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data AGE_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set AGE_interactions interaction_AGE (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 6 observations read from the data set WORK.AGE_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_AGE.
      WHERE parameter contains '*';
NOTE: The data set WORK.AGE_INTERACTIONS has 7 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 7; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 7
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 7
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_AGE;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to AGE*TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY AGE*TREATMENT /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_AGE has 11 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.24 seconds
      cpu time            0.10 seconds
      

288                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data AGE_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set AGE_interactions interaction_AGE (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 7 observations read from the data set WORK.AGE_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_AGE.
      WHERE parameter contains '*';
NOTE: The data set WORK.AGE_INTERACTIONS has 8 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 8; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 8
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 8
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_AGE;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to AGE*ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY AGE*ACTIVITY /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_AGE has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.12 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
289                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   data AGE_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set AGE_interactions interaction_AGE (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 8 observations read from the data set WORK.AGE_INTERACTIONS.
NOTE: There were 2 observations read from the data set WORK.INTERACTION_AGE.
      WHERE parameter contains '*';
NOTE: The data set WORK.AGE_INTERACTIONS has 10 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 9; loop will not iterate again.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data AGE_interactions;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set AGE_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   if missing(parameter) then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   if ProbChiSq < 0.05 then flag='*';
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 10 observations read from the data set WORK.AGE_INTERACTIONS.
NOTE: The data set WORK.AGE_INTERACTIONS has 9 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.03 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc print data=AGE_interactions noobs label;
MPRINT(CHECK_COX_ASSUMPTIONS):   var parameter label estimate stderr chisq ProbChiSq flag;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 9 observations read from the data set WORK.AGE_INTERACTIONS.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Results of a partial likelihood ratio test that compares the model with only the main effects to the model with the main effects 
and all two-way interactions. P-values less than 0.05 are marked";
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Assess the model for confounders';
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Check for Confounders adjusting for AGE";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates=AGE_adjusted;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
290                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.AGE_ADJUSTED has 10 observations and 11 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.21 seconds
      cpu time            0.10 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates=AGE_crude;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING TREATMENT ACTIVITY /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   id AGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 318 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.AGE_CRUDE has 9 observations and 11 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.21 seconds
      cpu time            0.12 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sort data=AGE_adjusted;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 10 observations read from the data set WORK.AGE_ADJUSTED.
291                                                                             The SAS System

NOTE: The data set WORK.AGE_ADJUSTED has 10 observations and 11 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sort data=AGE_crude;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 9 observations read from the data set WORK.AGE_CRUDE.
NOTE: The data set WORK.AGE_CRUDE has 9 observations and 11 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data table_AGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   merge AGE_adjusted(rename=(estimate=estimate1 stderr=stderr1 hazardratio=hazardratio1 HRLOWERCL=HRLOWERCL1 HRupperCL=HRupperCL1)) AGE_crude;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   drop HRLowerCL HRUpperCL ProbChiSq DF chisq;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   if parameter="AGE" then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   change=(estimate-estimate1)/estimate;
MPRINT(CHECK_COX_ASSUMPTIONS):   if abs(change)>0.2 and (abs(estimate)>0.01 or abs(estimate1)>0.01) then flag='*';
MPRINT(CHECK_COX_ASSUMPTIONS):   HR= put(hazardratio,5.2)||' ('||put(HRLOWERCL,5.2)||'-'||put(HRupperCL,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   HR1= put(hazardratio1,5.2)||' ('||put(HRLOWERCL1,5.2)||'-'||put(HRupperCL1,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   EST=put(estimate,5.2)||' ('||put(stderr,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   EST1=put(estimate1,5.2)||' ('||put(stderr1,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   label est1= 'Adjusted Estimate (Error)' est= 'Crude Estimate (Error)' HR= 'Crude Hazard Ratio (95% CI)' HR1= 'Adjusted Hazard Ratio (95% CI)';
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   if upcase(parameter) =upcase("AGE") then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 573:111   1 at 573:139   
NOTE: There were 10 observations read from the data set WORK.AGE_ADJUSTED.
NOTE: There were 9 observations read from the data set WORK.AGE_CRUDE.
NOTE: The data set WORK.TABLE_AGE has 9 observations and 17 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc print data=table_AGE noobs label;
MPRINT(CHECK_COX_ASSUMPTIONS):   format change percent.;
292                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   var parameter label est hr est1 hr1 change flag;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 9 observations read from the data set WORK.TABLE_AGE.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Estimating change between Parameter Estimates for Other variables varies significantly for model without (crude) or with (adjusted) 
variable of interest. Variables for which parameter estimates varies by more than 20% are flaged.Variables are flaged only if at least one of the estimates is larger then 
0.01.";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc datasets lib=work memtype=data;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable NUMBER resolves to 3
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   delete table_AGE AGE_ADJUSTED AGE_CRUDE AGE_INTERACTIONS INTERACTION_AGE ClassLevelInfo_3 AGE_LIFETEST MART PARMSAGE RANKAGE RESSCH_AGE 
SCHOENFELD;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: Deleting WORK.TABLE_AGE (memtype=DATA).
NOTE: Deleting WORK.AGE_ADJUSTED (memtype=DATA).
NOTE: Deleting WORK.AGE_CRUDE (memtype=DATA).
NOTE: Deleting WORK.AGE_INTERACTIONS (memtype=DATA).
NOTE: Deleting WORK.INTERACTION_AGE (memtype=DATA).
NOTE: Deleting WORK.CLASSLEVELINFO_3 (memtype=DATA).
NOTE: Deleting WORK.AGE_LIFETEST (memtype=DATA).
NOTE: Deleting WORK.MART (memtype=DATA).
NOTE: Deleting WORK.PARMSAGE (memtype=DATA).
NOTE: Deleting WORK.RANKAGE (memtype=DATA).
NOTE: Deleting WORK.RESSCH_AGE (memtype=DATA).
NOTE: Deleting WORK.SCHOENFELD (memtype=DATA).
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.56 seconds
      cpu time            0.07 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MLOGIC(CHECK_COX_ASSUMPTIONS):  Ending execution.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO loop index variable ALL_COUNT is now 2; loop will not iterate again.
SYMBOLGEN:  Macro variable _INTERACTIONS resolves to _ALL
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition %qscan(&_INTERACTIONS, 1) NE _ALL is FALSE
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods rtf close;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   footnote;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   title;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Ending execution.
293                                                                             The SAS System

574        %check_cox_assumptions_all (_Number=4, _Data=rq.simcox, _predictors=&predictors, _class=&class, _OUTCOME=CV_event, _FU=CV_time, _CHECK=AGE,
574      ! _INTERACTIONS=age*Systolic_bp systolic_bp*diastolic_bp)
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Beginning execution.
SYMBOLGEN:  Macro variable PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _NUMBER has value 4
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _DATA has value rq.simcox
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _PREDICTORS has value age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _CLASS has value diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _OUTCOME has value CV_event
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _FU has value CV_time
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _CHECK has value AGE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _INTERACTIONS has value age*Systolic_bp systolic_bp*diastolic_bp
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _STOP has value _NOT_SPECIFIED
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _EXCLUDE has value _NOTHING
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _RQ has value cox_assumptions
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _FOOTNOTE has value &sysdate &systime  produced by macro check_cox_assumptions
WARNING: The quoted string currently being processed has become more than 262 characters long.  You may have unbalanced quotation marks.
WARNING: The quoted string currently being processed has become more than 262 characters long.  You may have unbalanced quotation marks.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   options nodate mprint pageno=1 mergenoby=warn ;
SYMBOLGEN:  Macro variable _RQ resolves to cox_assumptions
SYMBOLGEN:  Macro variable _NUMBER resolves to 4
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods rtf file="cox_assumptions_model_4.rtf" style=statistical;
NOTE: Writing RTF Body file: cox_assumptions_model_4.rtf
SYMBOLGEN:  Macro variable _NUMBER resolves to 4
SYMBOLGEN:  Macro variable _FU resolves to CV_time
SYMBOLGEN:  Macro variable _OUTCOME resolves to CV_event
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   title1 height=13pt "Model 4: modeling CV_time*CV_event(0) ";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods rtf startpage=NO;
SYMBOLGEN:  Macro variable _FOOTNOTE resolves to &sysdate, &systime -- produced by macro check_cox_assumptions
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable SYSDATE resolves to 08MAY13
WARNING: The FOOTNOTE statement is ambiguous due to invalid options or unquoted text.
SYMBOLGEN:  Macro variable SYSTIME resolves to 11:17
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   footnote1 J=right height=7pt 08MAY13, 11:17 -- produced by macro check_cox_assumptions;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods listing close;
SYMBOLGEN:  Macro variable _STOP resolves to _NOT_SPECIFIED
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition &_Stop=_NOT_SPECIFIED is TRUE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is _STOP)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is EXCLUDE)
SYMBOLGEN:  Macro variable _EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Macro variable _NUMBER resolves to 4
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   data predictors_4;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   format predictor $30.;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) loop beginning.
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable VAR resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
294                                                                             The SAS System

SYMBOLGEN:  Macro variable EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 0
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=0;
SYMBOLGEN:  Macro variable VAR resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="AGE";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable _STOP resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable VAR resolves to SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 1
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=1;
SYMBOLGEN:  Macro variable VAR resolves to SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="SYSTOLIC_BP";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable _STOP resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable VAR resolves to DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=2;
SYMBOLGEN:  Macro variable VAR resolves to DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="DIASTOLIC_BP";
295                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable _STOP resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable VAR resolves to LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 3
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=3;
SYMBOLGEN:  Macro variable VAR resolves to LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="LDL";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable _STOP resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable VAR resolves to BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 4
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=4;
SYMBOLGEN:  Macro variable VAR resolves to BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="BMI";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable _STOP resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
296                                                                             The SAS System

SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable VAR resolves to DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 5
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=5;
SYMBOLGEN:  Macro variable VAR resolves to DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="DIABETES";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable _STOP resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable VAR resolves to SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 6
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=6;
SYMBOLGEN:  Macro variable VAR resolves to SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="SMOKING";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable _STOP resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable VAR resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
297                                                                             The SAS System

SYMBOLGEN:  Macro variable EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 7
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=7;
SYMBOLGEN:  Macro variable VAR resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="SEX";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable _STOP resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable VAR resolves to TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 8
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=8;
SYMBOLGEN:  Macro variable VAR resolves to TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="TREATMENT";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable _STOP resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable VAR resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 9
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=9;
SYMBOLGEN:  Macro variable VAR resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="ACTIVITY";
298                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 10
SYMBOLGEN:  Macro variable _STOP resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL() condition is TRUE; loop will not iterate again.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   run;

NOTE: The data set WORK.PREDICTORS_4 has 10 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   proc sql;
SYMBOLGEN:  Macro variable _NUMBER resolves to 4
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   select distinct predictor into :predictors_used separated by ' ' from predictors_4 order by order;
WARNING: The query as specified involves ordering by an item that doesn't appear in its SELECT clause. Since you are ordering the output of a SELECT DISTINCT it may appear 
         that some duplicates have not been eliminated.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %PUT predictors_used=&predictors_used
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
predictors_used=AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods listing;
SYMBOLGEN:  Macro variable _DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable _FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   where CV_time>0;
SYMBOLGEN:  Macro variable _CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average") ;
SYMBOLGEN:  Macro variable _FU resolves to CV_time
SYMBOLGEN:  Macro variable _OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The PROCEDURE PHREG printed pages 1-2.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.25 seconds
      cpu time            0.14 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods listing close;
SYMBOLGEN:  Macro variable _CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition &_check =_ALL is FALSE
SYMBOLGEN:  Macro variable _CHECK resolves to AGE
299                                                                             The SAS System

MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO loop beginning; index variable ALL_COUNT; start value is 1; stop value is 1; by value is 1.  
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CHECK_VAR)
SYMBOLGEN:  Macro variable _CHECK resolves to AGE
SYMBOLGEN:  Macro variable ALL_COUNT resolves to 1
MLOGIC(CHECK_COX_ASSUMPTIONS):  Beginning execution.
SYMBOLGEN:  Macro variable _NUMBER resolves to 4
SYMBOLGEN:  Macro variable _DATA resolves to rq.simcox
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable _CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
SYMBOLGEN:  Macro variable _OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable _FU resolves to CV_time
SYMBOLGEN:  Macro variable _STOP resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable _EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Macro variable CHECK_VAR resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter NUMBER has value 4
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter DATA has value rq.simcox
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter PREDICTORS has value AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter CLASS has value diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter OUTCOME has value CV_event
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter FU has value CV_time
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter STOP has value ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter EXCLUDE has value _NOTHING
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter CHECK has value AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 4
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   select distinct predictor into :predictors_WITHOUT_check separated by ' ' from predictors_4 where left(predictor)^="AGE" order by order;
WARNING: The query as specified involves ordering by an item that doesn't appear in its SELECT clause. Since you are ordering the output of a SELECT DISTINCT it may appear 
         that some duplicates have not been eliminated.
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT predictors_WITHOUT_check=&predictors_WITHOUT_check
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
predictors_WITHOUT_check=SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable NUMBER resolves to 4
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ClassLevelInfo=ClassLevelInfo_4;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
300                                                                             The SAS System

      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.CLASSLEVELINFO_4 has 11 observations and 5 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.22 seconds
      cpu time            0.10 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable NUMBER resolves to 4
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %sysfunc(exist(ClassLevelInfo_&NUMBER)) is TRUE
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(%sysfunc(countw(&class)))=0) is FALSE
SYMBOLGEN:  Macro variable NUMBER resolves to 4
MPRINT(CHECK_COX_ASSUMPTIONS):   data ClassLevelInfo_4;
MPRINT(CHECK_COX_ASSUMPTIONS):   length class $30 value$30;
SYMBOLGEN:  Macro variable NUMBER resolves to 4
MPRINT(CHECK_COX_ASSUMPTIONS):   set ClassLevelInfo_4;
MPRINT(CHECK_COX_ASSUMPTIONS):   class=UPCASE(CLASS);
MPRINT(CHECK_COX_ASSUMPTIONS):   if ^missing(class) then call symput ('new',class);
MPRINT(CHECK_COX_ASSUMPTIONS):   else class=symget('new');
MPRINT(CHECK_COX_ASSUMPTIONS):   if sum(of X:)=0 then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 11 observations read from the data set WORK.CLASSLEVELINFO_4.
NOTE: The data set WORK.CLASSLEVELINFO_4 has 6 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 4
MPRINT(CHECK_COX_ASSUMPTIONS):   select distinct class into :class_variables separated by ' ' from ClassLevelInfo_4;
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 4
SYMBOLGEN:  Macro variable NUMBER resolves to 4
MPRINT(CHECK_COX_ASSUMPTIONS):   create table schoenfeld as select predictor, order, value, compress(catx('',predictor,'_',left(value))," -$%^()&#@","c") as schoenfeld from 
Predictors_4 left join ClassLevelInfo_4 on left(class)=left(predictor) order by order, schoenfeld;
NOTE: Table WORK.SCHOENFELD created, with 11 rows and 4 columns.

MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.08 seconds
      cpu time            0.04 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
MPRINT(CHECK_COX_ASSUMPTIONS):   select schoenfeld into :schoenfeld separated by ' ' from schoenfeld;
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
301                                                                             The SAS System

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT predictors=&predictors_used
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
predictors=AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT class_variables=&class_variables
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
class_variables=ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT schoenfeld = &schoenfeld
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
schoenfeld = AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (&CHECK in &class_variables)=0 is TRUE
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Verify the linearity assumption of continuous predictor variables';
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the Linearity Assumption of AGE by Plotting Martingale Residuals";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   id AGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   output out=mart resmart=mart;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 318 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.MART has 2975 observations and 20 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.57 seconds
      cpu time            0.34 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sgplot data=mart;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   scatter y=mart x=AGE/ name='Martingale';
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   loess y=mart x=AGE/SMOOTH=.8 DEGREE=1 INTERPOLATION= CUBIC ;
MPRINT(CHECK_COX_ASSUMPTIONS):   keylegend 'Martingale'/ title=' ' Position=bottom;
302                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: PROCEDURE SGPLOT used (Total process time):
      real time           3.19 seconds
      cpu time            0.39 seconds
      
NOTE: Marker and line antialiasing has been disabled because the threshold has been reached. You can set ANTIALIASMAX=3000 in the ODS GRAPHICS statement to restore 
      antialiasing.
NOTE: There were 2975 observations read from the data set WORK.MART.

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT='To use the Martingale residuals to assess the linearity assumption, first fit a	model that excludes the predictor variable of 
interest. Then plot the	Martingale residuals by the values of the excluded predictor variable of	interest. Finally, fit a smoothed line (that is, a loess smooth) in the plot. 
The	shape of the smoothed line provides an estimate of the functional form of the	predictor variable in the model (Therneau, Grambsch, and Fleming 1990).';
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the Linearity Assumption of AGE by Plotting Dummy Estimates";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc rank data=rq.simcox groups=5 out=rankAGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   var AGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ranks groupAGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The data set WORK.RANKAGE has 3000 observations and 20 variables.
NOTE: PROCEDURE RANK used (Total process time):
      real time           0.12 seconds
      cpu time            0.00 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data rankAGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set rankAGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   d0=(groupAGE=0);
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   d1=(groupAGE=1);
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   d2=(groupAGE=2);
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   d3=(groupAGE=3);
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   d4=(groupAGE=4);
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 3000 observations read from the data set WORK.RANKAGE.
NOTE: The data set WORK.RANKAGE has 3000 observations and 25 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to AGE
303                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output parameterestimates=parmsAGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rankAGE;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) loop beginning.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable VAR resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable VAR resolves to SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable VAR resolves to DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
304                                                                             The SAS System

SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable VAR resolves to LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable VAR resolves to BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable VAR resolves to DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable VAR resolves to SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 7
305                                                                             The SAS System

SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable VAR resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable VAR resolves to TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable VAR resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 10
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL() condition is TRUE; loop will not iterate again.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY d4 d3 d2 d1 d0 /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;


NOTE: 318 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.PARMSAGE has 15 observations and 11 variables.
NOTE: PROCEDURE PHREG used (Total process time):
306                                                                             The SAS System

      real time           0.27 seconds
      cpu time            0.12 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data parmsAGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set parmsAGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   where parameter in ('d0', 'd1', 'd2', 'd3', 'd4');
MPRINT(CHECK_COX_ASSUMPTIONS):   num_parm=input(substr(parameter, 2, 1),1.);
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 5 observations read from the data set WORK.PARMSAGE.
      WHERE parameter in ('d0', 'd1', 'd2', 'd3', 'd4');
NOTE: The data set WORK.PARMSAGE has 5 observations and 12 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc means data=rankAGE min max maxdec=2;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   class groupAGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   var AGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 3000 observations read from the data set WORK.RANKAGE.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.11 seconds
      cpu time            0.06 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sgplot data=parmsAGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   scatter y=estimate x=num_parm;
MPRINT(CHECK_COX_ASSUMPTIONS):   loess y=estimate x=num_parm/SMOOTH=.8 DEGREE=1 INTERPOLATION= CUBIC ;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: PROCEDURE SGPLOT used (Total process time):
      real time           1.10 seconds
      cpu time            0.24 seconds
      
NOTE: There were 5 observations read from the data set WORK.PARMSAGE.

WARNING: The quoted string currently being processed has become more than 512 characters long.  You may have unbalanced quotation marks.
MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT ="One method to check for linearity is to replace the predictor variable of	interest with several dummy variables. Then fit the 
model with the new dummy variables and plot the parameter estimates of the dummy variables, with a point at zero representing the reference group.	If the correct scale is 
linear in the log hazard, then a smoothed line is fairly linear. If the smoothed line departs substantially from a linear trend, then its	form is used to decide how to model 
the predictor variable (Hosmer and Lemeshow 1999).";
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Verify the proportional hazards assumption of predictor variables';
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the PH Assumption of AGE by Plotting LLS";
307                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (&CHECK in &class_variables)=0 is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods graphics on;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select LogNegLogSurvivalPlot;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc lifetest data=rankAGE outsurv=AGE_lifetest NOTABLE method=km plots=lls;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
MPRINT(CHECK_COX_ASSUMPTIONS):   time CV_time*CV_event(0);
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   strata groupAGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The LOGLOG transform is used to compute the confidence limits for the survivor function. To suppress using this transform, specify CONFTYPE=LINEAR in the PROC SURVIVAL 
      statement.
NOTE: 64 observations with invalid time, censoring, or strata values were deleted.
NOTE: The data set WORK.AGE_LIFETEST has 2916 observations and 7 variables.
NOTE: PROCEDURE LIFETEST used (Total process time):
      real time           1.30 seconds
      cpu time            0.28 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT ="One method to assess the proportional hazards assumption is to plot thelog-negative-log of the Kaplan-Meier estimates of the 
survival function versus the log of time. If the hazard ratios are constant, the plot has parallel lines.";
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the PH Assumption of AGE by Plotting Schoenfeld Residuals";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods graphics off;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &CHECK in &class_variables is FALSE
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox noprint;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
MPRINT(CHECK_COX_ASSUMPTIONS):   output out=ressch_AGE ressch=AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
308                                                                             The SAS System

NOTE: The data set WORK.RESSCH_AGE has 2975 observations and 30 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           1.06 seconds
      cpu time            0.53 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNTSCH)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop beginning; index variable I; start value is 1; stop value is 11; by value is 1.  
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 1
SYMBOLGEN:  Macro variable CATEGORY resolves to AGE_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is TRUE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sgplot data=ressch_AGE;
SYMBOLGEN:  Macro variable CATEGORY resolves to AGE_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   scatter y=AGE_ x=CV_time/ name="Schoenfeld_AGE";
SYMBOLGEN:  Macro variable CATEGORY resolves to AGE_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   loess y=AGE_ x=CV_time/SMOOTH=.8 DEGREE=1 INTERPOLATION= CUBIC ;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   keylegend "Schoenfeld_AGE"/ title=' ' Position=bottom;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: PROCEDURE SGPLOT used (Total process time):
      real time           1.31 seconds
      cpu time            0.29 seconds
      
NOTE: Marker and line antialiasing has been disabled because the threshold has been reached. You can set ANTIALIASMAX=3000 in the ODS GRAPHICS statement to restore 
      antialiasing.
NOTE: There were 2975 observations read from the data set WORK.RESSCH_AGE.

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Because Schoenfeld residuals are based on the effects of the predictor variables that are assumed to be independent of time, a plot 
of the residuals by time could be used to visually assess whether the effect of the predictor variable changes over the period of follow-up. A smoothed line fit to the plot 
ofthe residuals should have an intercept and a slope of approximately 0 (Hosmer and Lemeshow 1999).";
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 2; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 2
SYMBOLGEN:  Macro variable CATEGORY resolves to SYSTOLIC_BP_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 3; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
309                                                                             The SAS System

SYMBOLGEN:  Macro variable I resolves to 3
SYMBOLGEN:  Macro variable CATEGORY resolves to DIASTOLIC_BP_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 4; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 4
SYMBOLGEN:  Macro variable CATEGORY resolves to LDL_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 5; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 5
SYMBOLGEN:  Macro variable CATEGORY resolves to BMI_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 6; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 6
SYMBOLGEN:  Macro variable CATEGORY resolves to DIABETES_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 7; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 7
SYMBOLGEN:  Macro variable CATEGORY resolves to SMOKING_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 8; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 8
SYMBOLGEN:  Macro variable CATEGORY resolves to SEX_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 9; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 9
SYMBOLGEN:  Macro variable CATEGORY resolves to TREATMENT_1
310                                                                             The SAS System

SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 10; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 10
SYMBOLGEN:  Macro variable CATEGORY resolves to ACTIVITY_high
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 11; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 11
SYMBOLGEN:  Macro variable CATEGORY resolves to ACTIVITY_low
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 12; loop will not iterate again.
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
SYMBOLGEN:  Macro variable _INTERACTIONS resolves to age*Systolic_bp systolic_bp*diastolic_bp
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %qscan(&_INTERACTIONS, 1) = _ALL is FALSE
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Assess the model for confounders';
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Check for Confounders adjusting for AGE";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates=AGE_adjusted;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.AGE_ADJUSTED has 11 observations and 11 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.32 seconds
      cpu time            0.12 seconds
      
311                                                                             The SAS System


MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates=AGE_crude;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   id AGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 318 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.AGE_CRUDE has 10 observations and 11 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.22 seconds
      cpu time            0.10 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sort data=AGE_adjusted;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 11 observations read from the data set WORK.AGE_ADJUSTED.
NOTE: The data set WORK.AGE_ADJUSTED has 11 observations and 11 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sort data=AGE_crude;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 10 observations read from the data set WORK.AGE_CRUDE.
NOTE: The data set WORK.AGE_CRUDE has 10 observations and 11 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      
312                                                                             The SAS System


SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data table_AGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   merge AGE_adjusted(rename=(estimate=estimate1 stderr=stderr1 hazardratio=hazardratio1 HRLOWERCL=HRLOWERCL1 HRupperCL=HRupperCL1)) AGE_crude;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   drop HRLowerCL HRUpperCL ProbChiSq DF chisq;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   if parameter="AGE" then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   change=(estimate-estimate1)/estimate;
MPRINT(CHECK_COX_ASSUMPTIONS):   if abs(change)>0.2 and (abs(estimate)>0.01 or abs(estimate1)>0.01) then flag='*';
MPRINT(CHECK_COX_ASSUMPTIONS):   HR= put(hazardratio,5.2)||' ('||put(HRLOWERCL,5.2)||'-'||put(HRupperCL,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   HR1= put(hazardratio1,5.2)||' ('||put(HRLOWERCL1,5.2)||'-'||put(HRupperCL1,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   EST=put(estimate,5.2)||' ('||put(stderr,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   EST1=put(estimate1,5.2)||' ('||put(stderr1,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   label est1= 'Adjusted Estimate (Error)' est= 'Crude Estimate (Error)' HR= 'Crude Hazard Ratio (95% CI)' HR1= 'Adjusted Hazard Ratio (95% CI)';
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   if upcase(parameter) =upcase("AGE") then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 574:111   1 at 574:139   
NOTE: There were 11 observations read from the data set WORK.AGE_ADJUSTED.
NOTE: There were 10 observations read from the data set WORK.AGE_CRUDE.
NOTE: The data set WORK.TABLE_AGE has 10 observations and 17 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc print data=table_AGE noobs label;
MPRINT(CHECK_COX_ASSUMPTIONS):   format change percent.;
MPRINT(CHECK_COX_ASSUMPTIONS):   var parameter label est hr est1 hr1 change flag;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 10 observations read from the data set WORK.TABLE_AGE.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Estimating change between Parameter Estimates for Other variables varies significantly for model without (crude) or with (adjusted) 
variable of interest. Variables for which parameter estimates varies by more than 20% are flaged.Variables are flaged only if at least one of the estimates is larger then 
0.01.";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc datasets lib=work memtype=data;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
313                                                                             The SAS System

SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable NUMBER resolves to 4
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   delete table_AGE AGE_ADJUSTED AGE_CRUDE AGE_INTERACTIONS INTERACTION_AGE ClassLevelInfo_4 AGE_LIFETEST MART PARMSAGE RANKAGE RESSCH_AGE 
SCHOENFELD;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The file WORK.AGE_INTERACTIONS (memtype=DATA) was not found, but appears on a DELETE statement.
NOTE: The file WORK.INTERACTION_AGE (memtype=DATA) was not found, but appears on a DELETE statement.
NOTE: Deleting WORK.TABLE_AGE (memtype=DATA).
NOTE: Deleting WORK.AGE_ADJUSTED (memtype=DATA).
NOTE: Deleting WORK.AGE_CRUDE (memtype=DATA).
NOTE: Deleting WORK.CLASSLEVELINFO_4 (memtype=DATA).
NOTE: Deleting WORK.AGE_LIFETEST (memtype=DATA).
NOTE: Deleting WORK.MART (memtype=DATA).
NOTE: Deleting WORK.PARMSAGE (memtype=DATA).
NOTE: Deleting WORK.RANKAGE (memtype=DATA).
NOTE: Deleting WORK.RESSCH_AGE (memtype=DATA).
NOTE: Deleting WORK.SCHOENFELD (memtype=DATA).
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.47 seconds
      cpu time            0.03 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MLOGIC(CHECK_COX_ASSUMPTIONS):  Ending execution.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO loop index variable ALL_COUNT is now 2; loop will not iterate again.
SYMBOLGEN:  Macro variable _INTERACTIONS resolves to age*Systolic_bp systolic_bp*diastolic_bp
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition %qscan(&_INTERACTIONS, 1) NE _ALL is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   title2 height=12pt 'Assess the model for interactions';
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   data _interactions;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   run;

NOTE: The data set WORK._INTERACTIONS has 1 observations and 0 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods rtf exclude all;
SYMBOLGEN:  Macro variable _INTERACTIONS resolves to age*Systolic_bp systolic_bp*diastolic_bp
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO loop beginning; index variable INT_COUNT; start value is 1; stop value is 2; by value is 1.  
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable _INTERACTIONS resolves to age*Systolic_bp systolic_bp*diastolic_bp
SYMBOLGEN:  Macro variable INT_COUNT resolves to 1
SYMBOLGEN:  Macro variable INT_COUNT resolves to 1
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods output ParameterEstimates = interactions_1;
SYMBOLGEN:  Macro variable _DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable _FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   where CV_time>0;
314                                                                             The SAS System

SYMBOLGEN:  Macro variable _CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable _FU resolves to CV_time
SYMBOLGEN:  Macro variable _OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to age*Systolic_bp
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY age*Systolic_bp /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTIONS_1 has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.27 seconds
      cpu time            0.10 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods output close;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   data _interactions;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   length effect $30.;
SYMBOLGEN:  Macro variable INT_COUNT resolves to 1
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   set _interactions interactions_1 (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   run;

NOTE: Variable effect is uninitialized.
NOTE: There were 1 observations read from the data set WORK._INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTIONS_1.
      WHERE parameter contains '*';
NOTE: The data set WORK._INTERACTIONS has 2 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO loop index variable INT_COUNT is now 2; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable _INTERACTIONS resolves to age*Systolic_bp systolic_bp*diastolic_bp
SYMBOLGEN:  Macro variable INT_COUNT resolves to 2
SYMBOLGEN:  Macro variable INT_COUNT resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods output ParameterEstimates = interactions_2;
SYMBOLGEN:  Macro variable _DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable _FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   where CV_time>0;
SYMBOLGEN:  Macro variable _CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable _FU resolves to CV_time
SYMBOLGEN:  Macro variable _OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to systolic_bp*diastolic_bp
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY systolic_bp*diastolic_bp 
/ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   run;
315                                                                             The SAS System


NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTIONS_2 has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.22 seconds
      cpu time            0.10 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods output close;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   data _interactions;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   length effect $30.;
SYMBOLGEN:  Macro variable INT_COUNT resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   set _interactions interactions_2 (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   run;

WARNING: Multiple lengths were specified for the variable Parameter by input data set(s). This may cause truncation of data.
WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 2 observations read from the data set WORK._INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTIONS_2.
      WHERE parameter contains '*';
NOTE: The data set WORK._INTERACTIONS has 3 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO loop index variable INT_COUNT is now 3; loop will not iterate again.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   data _interactions;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   set _interactions;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   if missing(parameter) then delete;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   if ProbChiSq < 0.05 then flag='*';
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   run;

NOTE: There were 3 observations read from the data set WORK._INTERACTIONS.
NOTE: The data set WORK._INTERACTIONS has 2 observations and 11 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods rtf select all;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   proc print data=_interactions noobs label;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   var parameter label estimate stderr chisq ProbChiSq flag;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   run;

NOTE: There were 2 observations read from the data set WORK._INTERACTIONS.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ODS TEXT="Results of a partial likelihood ratio test that compares the model with only the main effects to the model with the main 
effects and all two-way interactions. P-values less than 0.05 are marked";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods rtf startpage=NOW;
316                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   proc datasets lib=work memtype=data;
SYMBOLGEN:  Macro variable _NUMBER resolves to 4
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   delete _interactions predictors_4;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   quit;

NOTE: Deleting WORK._INTERACTIONS (memtype=DATA).
NOTE: Deleting WORK.PREDICTORS_4 (memtype=DATA).
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS_ALL):  run;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods rtf close;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   footnote;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   title;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Ending execution.
575        %check_cox_assumptions_all (_Number=5, _Data=rq.simcox, _predictors=&predictors, _OUTCOME=CV_event, _FU=CV_time, _STOP=systolic_bp)
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Beginning execution.
SYMBOLGEN:  Macro variable PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _NUMBER has value 5
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _DATA has value rq.simcox
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _PREDICTORS has value age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _OUTCOME has value CV_event
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _FU has value CV_time
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _STOP has value systolic_bp
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _CLASS has value 
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _EXCLUDE has value _NOTHING
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _CHECK has value _ALL
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _RQ has value cox_assumptions
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _INTERACTIONS has value _ALL
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _FOOTNOTE has value &sysdate &systime  produced by macro check_cox_assumptions
WARNING: The quoted string currently being processed has become more than 262 characters long.  You may have unbalanced quotation marks.
WARNING: The quoted string currently being processed has become more than 262 characters long.  You may have unbalanced quotation marks.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   options nodate mprint pageno=1 mergenoby=warn ;
SYMBOLGEN:  Macro variable _RQ resolves to cox_assumptions
SYMBOLGEN:  Macro variable _NUMBER resolves to 5
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods rtf file="cox_assumptions_model_5.rtf" style=statistical;
NOTE: Writing RTF Body file: cox_assumptions_model_5.rtf
SYMBOLGEN:  Macro variable _NUMBER resolves to 5
SYMBOLGEN:  Macro variable _FU resolves to CV_time
SYMBOLGEN:  Macro variable _OUTCOME resolves to CV_event
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   title1 height=13pt "Model 5: modeling CV_time*CV_event(0) ";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods rtf startpage=NO;
SYMBOLGEN:  Macro variable _FOOTNOTE resolves to &sysdate, &systime -- produced by macro check_cox_assumptions
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable SYSDATE resolves to 08MAY13
WARNING: The FOOTNOTE statement is ambiguous due to invalid options or unquoted text.
SYMBOLGEN:  Macro variable SYSTIME resolves to 11:17
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   footnote1 J=right height=7pt 08MAY13, 11:17 -- produced by macro check_cox_assumptions;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods listing close;
SYMBOLGEN:  Macro variable _STOP resolves to systolic_bp
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition &_Stop=_NOT_SPECIFIED is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is EXCLUDE)
317                                                                             The SAS System

SYMBOLGEN:  Macro variable _EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Macro variable _NUMBER resolves to 5
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   data predictors_5;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   format predictor $30.;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) loop beginning.
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable VAR resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 0
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=0;
SYMBOLGEN:  Macro variable VAR resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="AGE";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable _STOP resolves to systolic_bp
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable VAR resolves to SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 1
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=1;
SYMBOLGEN:  Macro variable VAR resolves to SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="SYSTOLIC_BP";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable _STOP resolves to systolic_bp
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL() condition is TRUE; loop will not iterate again.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   run;

NOTE: The data set WORK.PREDICTORS_5 has 2 observations and 2 variables.
NOTE: DATA statement used (Total process time):
318                                                                             The SAS System

      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   proc sql;
SYMBOLGEN:  Macro variable _NUMBER resolves to 5
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   select distinct predictor into :predictors_used separated by ' ' from predictors_5 order by order;
WARNING: The query as specified involves ordering by an item that doesn't appear in its SELECT clause. Since you are ordering the output of a SELECT DISTINCT it may appear 
         that some duplicates have not been eliminated.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %PUT predictors_used=&predictors_used
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP
predictors_used=AGE SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods listing;
SYMBOLGEN:  Macro variable _DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable _FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   where CV_time>0;
SYMBOLGEN:  Macro variable _CLASS resolves to 
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   class ;
SYMBOLGEN:  Macro variable _FU resolves to CV_time
SYMBOLGEN:  Macro variable _OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   run;

NOTE: 91 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The PROCEDURE PHREG printed pages 1-2.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.07 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods listing close;
SYMBOLGEN:  Macro variable _CHECK resolves to _ALL
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition &_check =_ALL is TRUE
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO loop beginning; index variable ALL_COUNT; start value is 1; stop value is 2; by value is 1.  
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CHECK_VAR)
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP
SYMBOLGEN:  Macro variable ALL_COUNT resolves to 1
MLOGIC(CHECK_COX_ASSUMPTIONS):  Beginning execution.
SYMBOLGEN:  Macro variable _NUMBER resolves to 5
SYMBOLGEN:  Macro variable _DATA resolves to rq.simcox
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable _CLASS resolves to 
SYMBOLGEN:  Macro variable _OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable _FU resolves to CV_time
SYMBOLGEN:  Macro variable _STOP resolves to systolic_bp
319                                                                             The SAS System

SYMBOLGEN:  Macro variable _EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Macro variable CHECK_VAR resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter NUMBER has value 5
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter DATA has value rq.simcox
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter PREDICTORS has value AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter CLASS has value 
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter OUTCOME has value CV_event
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter FU has value CV_time
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter STOP has value SYSTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter EXCLUDE has value _NOTHING
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter CHECK has value AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 5
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   select distinct predictor into :predictors_WITHOUT_check separated by ' ' from predictors_5 where left(predictor)^="AGE" order by order;
WARNING: The query as specified involves ordering by an item that doesn't appear in its SELECT clause. Since you are ordering the output of a SELECT DISTINCT it may appear 
         that some duplicates have not been eliminated.
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT predictors_WITHOUT_check=&predictors_WITHOUT_check
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP
predictors_WITHOUT_check=SYSTOLIC_BP
SYMBOLGEN:  Macro variable NUMBER resolves to 5
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ClassLevelInfo=ClassLevelInfo_5;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to 
MPRINT(CHECK_COX_ASSUMPTIONS):   class ;
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 91 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
WARNING: Output 'ClassLevelInfo' was not created.  Make sure that the output object name, label, or path is spelled correctly.  Also, verify that the appropriate procedure 
         options are used to produce the requested output object.  For example, verify that the NOPRINT option is not used.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.18 seconds
      cpu time            0.09 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable NUMBER resolves to 5
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %sysfunc(exist(ClassLevelInfo_&NUMBER)) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CLASS_VARIABLES)
320                                                                             The SAS System

MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is SCHOENFELD)
MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT predictors=&predictors_used
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP
predictors=AGE SYSTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT class_variables=&class_variables
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to _EMPTY_LIST_
class_variables=_EMPTY_LIST_
MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT schoenfeld = &schoenfeld
SYMBOLGEN:  Macro variable SCHOENFELD resolves to 
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
schoenfeld = 
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to _EMPTY_LIST_
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (&CHECK in &class_variables)=0 is TRUE
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Verify the linearity assumption of continuous predictor variables';
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the Linearity Assumption of AGE by Plotting Martingale Residuals";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to 
MPRINT(CHECK_COX_ASSUMPTIONS):   class ;
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= SYSTOLIC_BP /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   id AGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   output out=mart resmart=mart;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 59 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.MART has 2975 observations and 20 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.45 seconds
      cpu time            0.20 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sgplot data=mart;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   scatter y=mart x=AGE/ name='Martingale';
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   loess y=mart x=AGE/SMOOTH=.8 DEGREE=1 INTERPOLATION= CUBIC ;
MPRINT(CHECK_COX_ASSUMPTIONS):   keylegend 'Martingale'/ title=' ' Position=bottom;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: PROCEDURE SGPLOT used (Total process time):
321                                                                             The SAS System

      real time           3.83 seconds
      cpu time            0.40 seconds
      
NOTE: Marker and line antialiasing has been disabled because the threshold has been reached. You can set ANTIALIASMAX=3000 in the ODS GRAPHICS statement to restore 
      antialiasing.
NOTE: There were 2975 observations read from the data set WORK.MART.

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT='To use the Martingale residuals to assess the linearity assumption, first fit a	model that excludes the predictor variable of 
interest. Then plot the	Martingale residuals by the values of the excluded predictor variable of	interest. Finally, fit a smoothed line (that is, a loess smooth) in the plot. 
The	shape of the smoothed line provides an estimate of the functional form of the	predictor variable in the model (Therneau, Grambsch, and Fleming 1990).';
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the Linearity Assumption of AGE by Plotting Dummy Estimates";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc rank data=rq.simcox groups=5 out=rankAGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   var AGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ranks groupAGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The data set WORK.RANKAGE has 3000 observations and 20 variables.
NOTE: PROCEDURE RANK used (Total process time):
      real time           0.12 seconds
      cpu time            0.03 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data rankAGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set rankAGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   d0=(groupAGE=0);
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   d1=(groupAGE=1);
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   d2=(groupAGE=2);
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   d3=(groupAGE=3);
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   d4=(groupAGE=4);
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 3000 observations read from the data set WORK.RANKAGE.
NOTE: The data set WORK.RANKAGE has 3000 observations and 25 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output parameterestimates=parmsAGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rankAGE;
322                                                                             The SAS System

SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to 
MPRINT(CHECK_COX_ASSUMPTIONS):   class ;
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) loop beginning.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable VAR resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable STOP resolves to SYSTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable VAR resolves to SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable STOP resolves to SYSTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL() condition is TRUE; loop will not iterate again.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= SYSTOLIC_BP d4 d3 d2 d1 d0 /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;


NOTE: 59 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.PARMSAGE has 6 observations and 10 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.25 seconds
      cpu time            0.14 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data parmsAGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set parmsAGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   where parameter in ('d0', 'd1', 'd2', 'd3', 'd4');
MPRINT(CHECK_COX_ASSUMPTIONS):   num_parm=input(substr(parameter, 2, 1),1.);
323                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 5 observations read from the data set WORK.PARMSAGE.
      WHERE parameter in ('d0', 'd1', 'd2', 'd3', 'd4');
NOTE: The data set WORK.PARMSAGE has 5 observations and 11 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc means data=rankAGE min max maxdec=2;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   class groupAGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   var AGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 3000 observations read from the data set WORK.RANKAGE.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.13 seconds
      cpu time            0.04 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sgplot data=parmsAGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   scatter y=estimate x=num_parm;
MPRINT(CHECK_COX_ASSUMPTIONS):   loess y=estimate x=num_parm/SMOOTH=.8 DEGREE=1 INTERPOLATION= CUBIC ;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: PROCEDURE SGPLOT used (Total process time):
      real time           0.99 seconds
      cpu time            0.18 seconds
      
NOTE: There were 5 observations read from the data set WORK.PARMSAGE.

WARNING: The quoted string currently being processed has become more than 512 characters long.  You may have unbalanced quotation marks.
MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT ="One method to check for linearity is to replace the predictor variable of	interest with several dummy variables. Then fit the 
model with the new dummy variables and plot the parameter estimates of the dummy variables, with a point at zero representing the reference group.	If the correct scale is 
linear in the log hazard, then a smoothed line is fairly linear. If the smoothed line departs substantially from a linear trend, then its	form is used to decide how to model 
the predictor variable (Hosmer and Lemeshow 1999).";
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Verify the proportional hazards assumption of predictor variables';
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the PH Assumption of AGE by Plotting LLS";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to _EMPTY_LIST_
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (&CHECK in &class_variables)=0 is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods graphics on;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select LogNegLogSurvivalPlot;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc lifetest data=rankAGE outsurv=AGE_lifetest NOTABLE method=km plots=lls;
SYMBOLGEN:  Macro variable FU resolves to CV_time
324                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
MPRINT(CHECK_COX_ASSUMPTIONS):   time CV_time*CV_event(0);
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   strata groupAGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The LOGLOG transform is used to compute the confidence limits for the survivor function. To suppress using this transform, specify CONFTYPE=LINEAR in the PROC SURVIVAL 
      statement.
NOTE: 64 observations with invalid time, censoring, or strata values were deleted.
NOTE: The data set WORK.AGE_LIFETEST has 2916 observations and 7 variables.
NOTE: PROCEDURE LIFETEST used (Total process time):
      real time           1.35 seconds
      cpu time            0.40 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT ="One method to assess the proportional hazards assumption is to plot thelog-negative-log of the Kaplan-Meier estimates of the 
survival function versus the log of time. If the hazard ratios are constant, the plot has parallel lines.";
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the PH Assumption of AGE by Plotting Schoenfeld Residuals";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods graphics off;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to _EMPTY_LIST_
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &CHECK in &class_variables is FALSE
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox noprint;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to 
MPRINT(CHECK_COX_ASSUMPTIONS):   class ;
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable SCHOENFELD resolves to 
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   output out=ressch_AGE ressch=;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 91 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.RESSCH_AGE has 2975 observations and 19 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.51 seconds
      cpu time            0.35 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNTSCH)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to 
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
325                                                                             The SAS System

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop beginning; index variable I; start value is 1; stop value is 0; by value is 1.  Loop will not be executed.
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
SYMBOLGEN:  Macro variable _INTERACTIONS resolves to _ALL
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %qscan(&_INTERACTIONS, 1) = _ALL is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Assess the model for interactions';
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Check for interactions AGE";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data AGE_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The data set WORK.AGE_INTERACTIONS has 1 observations and 0 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop beginning; index variable INT_COUNT; start value is 1; stop value is 1; by value is 1.  
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable INT_COUNT resolves to 1
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 1
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_AGE;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to 
MPRINT(CHECK_COX_ASSUMPTIONS):   class ;
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP
SYMBOLGEN:  Macro variable INTERACTION resolves to AGE*SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP AGE*SYSTOLIC_BP /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 91 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_AGE has 3 observations and 8 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.25 seconds
      cpu time            0.09 seconds
      
326                                                                             The SAS System


MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data AGE_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set AGE_interactions interaction_AGE (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 1 observations read from the data set WORK.AGE_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_AGE.
      WHERE parameter contains '*';
NOTE: The data set WORK.AGE_INTERACTIONS has 2 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 2; loop will not iterate again.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data AGE_interactions;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set AGE_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   if missing(parameter) then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   if ProbChiSq < 0.05 then flag='*';
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 2 observations read from the data set WORK.AGE_INTERACTIONS.
NOTE: The data set WORK.AGE_INTERACTIONS has 1 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc print data=AGE_interactions noobs label;
MPRINT(CHECK_COX_ASSUMPTIONS):   var parameter label estimate stderr chisq ProbChiSq flag;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 1 observations read from the data set WORK.AGE_INTERACTIONS.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Results of a partial likelihood ratio test that compares the model with only the main effects to the model with the main effects 
and all two-way interactions. P-values less than 0.05 are marked";
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Assess the model for confounders';
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Check for Confounders adjusting for AGE";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
327                                                                             The SAS System

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates=AGE_adjusted;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to 
MPRINT(CHECK_COX_ASSUMPTIONS):   class ;
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 91 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.AGE_ADJUSTED has 2 observations and 10 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.20 seconds
      cpu time            0.09 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates=AGE_crude;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to 
MPRINT(CHECK_COX_ASSUMPTIONS):   class ;
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= SYSTOLIC_BP /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   id AGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 59 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.AGE_CRUDE has 1 observations and 10 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.24 seconds
      cpu time            0.10 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sort data=AGE_adjusted;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to _EMPTY_LIST_
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is FALSE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter;
328                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 2 observations read from the data set WORK.AGE_ADJUSTED.
NOTE: The data set WORK.AGE_ADJUSTED has 2 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.06 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sort data=AGE_crude;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to _EMPTY_LIST_
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is FALSE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 1 observations read from the data set WORK.AGE_CRUDE.
NOTE: The data set WORK.AGE_CRUDE has 1 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.02 seconds
      cpu time            0.00 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data table_AGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   merge AGE_adjusted(rename=(estimate=estimate1 stderr=stderr1 hazardratio=hazardratio1 HRLOWERCL=HRLOWERCL1 HRupperCL=HRupperCL1)) AGE_crude;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to _EMPTY_LIST_
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is FALSE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter;
MPRINT(CHECK_COX_ASSUMPTIONS):   drop HRLowerCL HRUpperCL ProbChiSq DF chisq;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   if parameter="AGE" then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   change=(estimate-estimate1)/estimate;
MPRINT(CHECK_COX_ASSUMPTIONS):   if abs(change)>0.2 and (abs(estimate)>0.01 or abs(estimate1)>0.01) then flag='*';
MPRINT(CHECK_COX_ASSUMPTIONS):   HR= put(hazardratio,5.2)||' ('||put(HRLOWERCL,5.2)||'-'||put(HRupperCL,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   HR1= put(hazardratio1,5.2)||' ('||put(HRLOWERCL1,5.2)||'-'||put(HRupperCL1,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   EST=put(estimate,5.2)||' ('||put(stderr,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   EST1=put(estimate1,5.2)||' ('||put(stderr1,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   label est1= 'Adjusted Estimate (Error)' est= 'Crude Estimate (Error)' HR= 'Crude Hazard Ratio (95% CI)' HR1= 'Adjusted Hazard Ratio (95% CI)';
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   if upcase(parameter) =upcase("AGE") then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 575:111   1 at 575:139   
NOTE: There were 2 observations read from the data set WORK.AGE_ADJUSTED.
NOTE: There were 1 observations read from the data set WORK.AGE_CRUDE.
NOTE: The data set WORK.TABLE_AGE has 1 observations and 16 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      

329                                                                             The SAS System

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc print data=table_AGE noobs label;
MPRINT(CHECK_COX_ASSUMPTIONS):   format change percent.;
MPRINT(CHECK_COX_ASSUMPTIONS):   var parameter label est hr est1 hr1 change flag;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 1 observations read from the data set WORK.TABLE_AGE.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Estimating change between Parameter Estimates for Other variables varies significantly for model without (crude) or with (adjusted) 
variable of interest. Variables for which parameter estimates varies by more than 20% are flaged.Variables are flaged only if at least one of the estimates is larger then 
0.01.";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc datasets lib=work memtype=data;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable NUMBER resolves to 5
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   delete table_AGE AGE_ADJUSTED AGE_CRUDE AGE_INTERACTIONS INTERACTION_AGE ClassLevelInfo_5 AGE_LIFETEST MART PARMSAGE RANKAGE RESSCH_AGE 
SCHOENFELD;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The file WORK.CLASSLEVELINFO_5 (memtype=DATA) was not found, but appears on a DELETE statement.
NOTE: The file WORK.SCHOENFELD (memtype=DATA) was not found, but appears on a DELETE statement.
NOTE: Deleting WORK.TABLE_AGE (memtype=DATA).
NOTE: Deleting WORK.AGE_ADJUSTED (memtype=DATA).
NOTE: Deleting WORK.AGE_CRUDE (memtype=DATA).
NOTE: Deleting WORK.AGE_INTERACTIONS (memtype=DATA).
NOTE: Deleting WORK.INTERACTION_AGE (memtype=DATA).
NOTE: Deleting WORK.AGE_LIFETEST (memtype=DATA).
NOTE: Deleting WORK.MART (memtype=DATA).
NOTE: Deleting WORK.PARMSAGE (memtype=DATA).
NOTE: Deleting WORK.RANKAGE (memtype=DATA).
NOTE: Deleting WORK.RESSCH_AGE (memtype=DATA).
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.74 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MLOGIC(CHECK_COX_ASSUMPTIONS):  Ending execution.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO loop index variable ALL_COUNT is now 2; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CHECK_VAR)
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP
SYMBOLGEN:  Macro variable ALL_COUNT resolves to 2
330                                                                             The SAS System

MLOGIC(CHECK_COX_ASSUMPTIONS):  Beginning execution.
SYMBOLGEN:  Macro variable _NUMBER resolves to 5
SYMBOLGEN:  Macro variable _DATA resolves to rq.simcox
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable _CLASS resolves to 
SYMBOLGEN:  Macro variable _OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable _FU resolves to CV_time
SYMBOLGEN:  Macro variable _STOP resolves to systolic_bp
SYMBOLGEN:  Macro variable _EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Macro variable CHECK_VAR resolves to SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter NUMBER has value 5
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter DATA has value rq.simcox
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter PREDICTORS has value AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter CLASS has value 
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter OUTCOME has value CV_event
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter FU has value CV_time
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter STOP has value SYSTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter EXCLUDE has value _NOTHING
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter CHECK has value SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 5
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   select distinct predictor into :predictors_WITHOUT_check separated by ' ' from predictors_5 where left(predictor)^="SYSTOLIC_BP" order by 
order;
WARNING: The query as specified involves ordering by an item that doesn't appear in its SELECT clause. Since you are ordering the output of a SELECT DISTINCT it may appear 
         that some duplicates have not been eliminated.
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.04 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT predictors_WITHOUT_check=&predictors_WITHOUT_check
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE
predictors_WITHOUT_check=AGE
SYMBOLGEN:  Macro variable NUMBER resolves to 5
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ClassLevelInfo=ClassLevelInfo_5;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to 
MPRINT(CHECK_COX_ASSUMPTIONS):   class ;
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 91 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
WARNING: Output 'ClassLevelInfo' was not created.  Make sure that the output object name, label, or path is spelled correctly.  Also, verify that the appropriate procedure 
         options are used to produce the requested output object.  For example, verify that the NOPRINT option is not used.
331                                                                             The SAS System

NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.25 seconds
      cpu time            0.03 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable NUMBER resolves to 5
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %sysfunc(exist(ClassLevelInfo_&NUMBER)) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CLASS_VARIABLES)
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is SCHOENFELD)
MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT predictors=&predictors_used
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP
predictors=AGE SYSTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT class_variables=&class_variables
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to _EMPTY_LIST_
class_variables=_EMPTY_LIST_
MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT schoenfeld = &schoenfeld
SYMBOLGEN:  Macro variable SCHOENFELD resolves to 
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
schoenfeld = 
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to _EMPTY_LIST_
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (&CHECK in &class_variables)=0 is TRUE
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Verify the linearity assumption of continuous predictor variables';
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the Linearity Assumption of SYSTOLIC_BP by Plotting Martingale Residuals";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to 
MPRINT(CHECK_COX_ASSUMPTIONS):   class ;
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   id SYSTOLIC_BP;
MPRINT(CHECK_COX_ASSUMPTIONS):   output out=mart resmart=mart;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 64 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.MART has 2975 observations and 20 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.43 seconds
      cpu time            0.20 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
332                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sgplot data=mart;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   scatter y=mart x=SYSTOLIC_BP/ name='Martingale';
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   loess y=mart x=SYSTOLIC_BP/SMOOTH=.8 DEGREE=1 INTERPOLATION= CUBIC ;
MPRINT(CHECK_COX_ASSUMPTIONS):   keylegend 'Martingale'/ title=' ' Position=bottom;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: PROCEDURE SGPLOT used (Total process time):
      real time           1.71 seconds
      cpu time            0.42 seconds
      
NOTE: Marker and line antialiasing has been disabled because the threshold has been reached. You can set ANTIALIASMAX=3000 in the ODS GRAPHICS statement to restore 
      antialiasing.
NOTE: There were 2975 observations read from the data set WORK.MART.

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT='To use the Martingale residuals to assess the linearity assumption, first fit a	model that excludes the predictor variable of 
interest. Then plot the	Martingale residuals by the values of the excluded predictor variable of	interest. Finally, fit a smoothed line (that is, a loess smooth) in the plot. 
The	shape of the smoothed line provides an estimate of the functional form of the	predictor variable in the model (Therneau, Grambsch, and Fleming 1990).';
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the Linearity Assumption of SYSTOLIC_BP by Plotting Dummy Estimates";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   proc rank data=rq.simcox groups=5 out=rankSYSTOLIC_BP;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   var SYSTOLIC_BP;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   ranks groupSYSTOLIC_BP;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The data set WORK.RANKSYSTOLIC_BP has 3000 observations and 20 variables.
NOTE: PROCEDURE RANK used (Total process time):
      real time           0.25 seconds
      cpu time            0.04 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   data rankSYSTOLIC_BP;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   set rankSYSTOLIC_BP;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   d0=(groupSYSTOLIC_BP=0);
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   d1=(groupSYSTOLIC_BP=1);
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   d2=(groupSYSTOLIC_BP=2);
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   d3=(groupSYSTOLIC_BP=3);
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   d4=(groupSYSTOLIC_BP=4);
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 3000 observations read from the data set WORK.RANKSYSTOLIC_BP.
NOTE: The data set WORK.RANKSYSTOLIC_BP has 3000 observations and 25 variables.
333                                                                             The SAS System

NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output parameterestimates=parmsSYSTOLIC_BP;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rankSYSTOLIC_BP;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to 
MPRINT(CHECK_COX_ASSUMPTIONS):   class ;
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) loop beginning.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable VAR resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable STOP resolves to SYSTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable VAR resolves to SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable STOP resolves to SYSTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL() condition is TRUE; loop will not iterate again.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE d4 d3 d2 d1 d0 /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;


NOTE: 64 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.PARMSSYSTOLIC_BP has 6 observations and 10 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.07 seconds
334                                                                             The SAS System

      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   data parmsSYSTOLIC_BP;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   set parmsSYSTOLIC_BP;
MPRINT(CHECK_COX_ASSUMPTIONS):   where parameter in ('d0', 'd1', 'd2', 'd3', 'd4');
MPRINT(CHECK_COX_ASSUMPTIONS):   num_parm=input(substr(parameter, 2, 1),1.);
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 5 observations read from the data set WORK.PARMSSYSTOLIC_BP.
      WHERE parameter in ('d0', 'd1', 'd2', 'd3', 'd4');
NOTE: The data set WORK.PARMSSYSTOLIC_BP has 5 observations and 11 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   proc means data=rankSYSTOLIC_BP min max maxdec=2;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   class groupSYSTOLIC_BP;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   var SYSTOLIC_BP;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 3000 observations read from the data set WORK.RANKSYSTOLIC_BP.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.12 seconds
      cpu time            0.04 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sgplot data=parmsSYSTOLIC_BP;
MPRINT(CHECK_COX_ASSUMPTIONS):   scatter y=estimate x=num_parm;
MPRINT(CHECK_COX_ASSUMPTIONS):   loess y=estimate x=num_parm/SMOOTH=.8 DEGREE=1 INTERPOLATION= CUBIC ;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: PROCEDURE SGPLOT used (Total process time):
      real time           0.95 seconds
      cpu time            0.31 seconds
      
NOTE: There were 5 observations read from the data set WORK.PARMSSYSTOLIC_BP.

WARNING: The quoted string currently being processed has become more than 512 characters long.  You may have unbalanced quotation marks.
MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT ="One method to check for linearity is to replace the predictor variable of	interest with several dummy variables. Then fit the 
model with the new dummy variables and plot the parameter estimates of the dummy variables, with a point at zero representing the reference group.	If the correct scale is 
linear in the log hazard, then a smoothed line is fairly linear. If the smoothed line departs substantially from a linear trend, then its	form is used to decide how to model 
the predictor variable (Hosmer and Lemeshow 1999).";
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Verify the proportional hazards assumption of predictor variables';
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the PH Assumption of SYSTOLIC_BP by Plotting LLS";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
335                                                                             The SAS System

SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to _EMPTY_LIST_
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (&CHECK in &class_variables)=0 is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods graphics on;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select LogNegLogSurvivalPlot;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   proc lifetest data=rankSYSTOLIC_BP outsurv=SYSTOLIC_BP_lifetest NOTABLE method=km plots=lls;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
MPRINT(CHECK_COX_ASSUMPTIONS):   time CV_time*CV_event(0);
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   strata groupSYSTOLIC_BP;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The LOGLOG transform is used to compute the confidence limits for the survivor function. To suppress using this transform, specify CONFTYPE=LINEAR in the PROC SURVIVAL 
      statement.
NOTE: 59 observations with invalid time, censoring, or strata values were deleted.
NOTE: The data set WORK.SYSTOLIC_BP_LIFETEST has 2921 observations and 7 variables.
NOTE: PROCEDURE LIFETEST used (Total process time):
      real time           1.32 seconds
      cpu time            0.43 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT ="One method to assess the proportional hazards assumption is to plot thelog-negative-log of the Kaplan-Meier estimates of the 
survival function versus the log of time. If the hazard ratios are constant, the plot has parallel lines.";
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the PH Assumption of SYSTOLIC_BP by Plotting Schoenfeld Residuals";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods graphics off;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to _EMPTY_LIST_
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &CHECK in &class_variables is FALSE
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox noprint;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to 
MPRINT(CHECK_COX_ASSUMPTIONS):   class ;
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable SCHOENFELD resolves to 
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   output out=ressch_SYSTOLIC_BP ressch=;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 91 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.RESSCH_SYSTOLIC_BP has 2975 observations and 19 variables.
336                                                                             The SAS System

NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.51 seconds
      cpu time            0.29 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNTSCH)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to 
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop beginning; index variable I; start value is 1; stop value is 0; by value is 1.  Loop will not be executed.
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
SYMBOLGEN:  Macro variable _INTERACTIONS resolves to _ALL
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %qscan(&_INTERACTIONS, 1) = _ALL is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Assess the model for interactions';
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Check for interactions SYSTOLIC_BP";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   data SYSTOLIC_BP_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The data set WORK.SYSTOLIC_BP_INTERACTIONS has 1 observations and 0 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop beginning; index variable INT_COUNT; start value is 1; stop value is 1; by value is 1.  
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE
SYMBOLGEN:  Macro variable INT_COUNT resolves to 1
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 1
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_SYSTOLIC_BP;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to 
MPRINT(CHECK_COX_ASSUMPTIONS):   class ;
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP
SYMBOLGEN:  Macro variable INTERACTION resolves to SYSTOLIC_BP*AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP SYSTOLIC_BP*AGE /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;
337                                                                             The SAS System


NOTE: 91 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_SYSTOLIC_BP has 3 observations and 8 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.27 seconds
      cpu time            0.10 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   data SYSTOLIC_BP_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   set SYSTOLIC_BP_interactions interaction_SYSTOLIC_BP (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 1 observations read from the data set WORK.SYSTOLIC_BP_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_SYSTOLIC_BP.
      WHERE parameter contains '*';
NOTE: The data set WORK.SYSTOLIC_BP_INTERACTIONS has 2 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 2; loop will not iterate again.
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   data SYSTOLIC_BP_interactions;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   set SYSTOLIC_BP_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   if missing(parameter) then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   if ProbChiSq < 0.05 then flag='*';
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 2 observations read from the data set WORK.SYSTOLIC_BP_INTERACTIONS.
NOTE: The data set WORK.SYSTOLIC_BP_INTERACTIONS has 1 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   proc print data=SYSTOLIC_BP_interactions noobs label;
MPRINT(CHECK_COX_ASSUMPTIONS):   var parameter label estimate stderr chisq ProbChiSq flag;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 1 observations read from the data set WORK.SYSTOLIC_BP_INTERACTIONS.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

338                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Results of a partial likelihood ratio test that compares the model with only the main effects to the model with the main effects 
and all two-way interactions. P-values less than 0.05 are marked";
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Assess the model for confounders';
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Check for Confounders adjusting for SYSTOLIC_BP";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates=SYSTOLIC_BP_adjusted;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to 
MPRINT(CHECK_COX_ASSUMPTIONS):   class ;
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 91 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.SYSTOLIC_BP_ADJUSTED has 2 observations and 10 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.29 seconds
      cpu time            0.09 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates=SYSTOLIC_BP_crude;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to 
MPRINT(CHECK_COX_ASSUMPTIONS):   class ;
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   id SYSTOLIC_BP;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 64 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.SYSTOLIC_BP_CRUDE has 1 observations and 10 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.39 seconds
      cpu time            0.14 seconds
339                                                                             The SAS System

      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sort data=SYSTOLIC_BP_adjusted;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to _EMPTY_LIST_
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is FALSE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 2 observations read from the data set WORK.SYSTOLIC_BP_ADJUSTED.
NOTE: The data set WORK.SYSTOLIC_BP_ADJUSTED has 2 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sort data=SYSTOLIC_BP_crude;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to _EMPTY_LIST_
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is FALSE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 1 observations read from the data set WORK.SYSTOLIC_BP_CRUDE.
NOTE: The data set WORK.SYSTOLIC_BP_CRUDE has 1 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   data table_SYSTOLIC_BP;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   merge SYSTOLIC_BP_adjusted(rename=(estimate=estimate1 stderr=stderr1 hazardratio=hazardratio1 HRLOWERCL=HRLOWERCL1 HRupperCL=HRupperCL1)) 
SYSTOLIC_BP_crude;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to _EMPTY_LIST_
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is FALSE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter;
MPRINT(CHECK_COX_ASSUMPTIONS):   drop HRLowerCL HRUpperCL ProbChiSq DF chisq;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   if parameter="SYSTOLIC_BP" then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   change=(estimate-estimate1)/estimate;
MPRINT(CHECK_COX_ASSUMPTIONS):   if abs(change)>0.2 and (abs(estimate)>0.01 or abs(estimate1)>0.01) then flag='*';
MPRINT(CHECK_COX_ASSUMPTIONS):   HR= put(hazardratio,5.2)||' ('||put(HRLOWERCL,5.2)||'-'||put(HRupperCL,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   HR1= put(hazardratio1,5.2)||' ('||put(HRLOWERCL1,5.2)||'-'||put(HRupperCL1,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   EST=put(estimate,5.2)||' ('||put(stderr,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   EST1=put(estimate1,5.2)||' ('||put(stderr1,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   label est1= 'Adjusted Estimate (Error)' est= 'Crude Estimate (Error)' HR= 'Crude Hazard Ratio (95% CI)' HR1= 'Adjusted Hazard Ratio (95% CI)';
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   if upcase(parameter) =upcase("SYSTOLIC_BP") then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: Missing values were generated as a result of performing an operation on missing values.
340                                                                             The SAS System

      Each place is given by: (Number of times) at (Line):(Column).
      1 at 575:111   1 at 575:139   
NOTE: There were 2 observations read from the data set WORK.SYSTOLIC_BP_ADJUSTED.
NOTE: There were 1 observations read from the data set WORK.SYSTOLIC_BP_CRUDE.
NOTE: The data set WORK.TABLE_SYSTOLIC_BP has 1 observations and 16 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   proc print data=table_SYSTOLIC_BP noobs label;
MPRINT(CHECK_COX_ASSUMPTIONS):   format change percent.;
MPRINT(CHECK_COX_ASSUMPTIONS):   var parameter label est hr est1 hr1 change flag;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 1 observations read from the data set WORK.TABLE_SYSTOLIC_BP.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Estimating change between Parameter Estimates for Other variables varies significantly for model without (crude) or with (adjusted) 
variable of interest. Variables for which parameter estimates varies by more than 20% are flaged.Variables are flaged only if at least one of the estimates is larger then 
0.01.";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc datasets lib=work memtype=data;
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable NUMBER resolves to 5
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
SYMBOLGEN:  Macro variable CHECK resolves to SYSTOLIC_BP
MPRINT(CHECK_COX_ASSUMPTIONS):   delete table_SYSTOLIC_BP SYSTOLIC_BP_ADJUSTED SYSTOLIC_BP_CRUDE SYSTOLIC_BP_INTERACTIONS INTERACTION_SYSTOLIC_BP ClassLevelInfo_5 
SYSTOLIC_BP_LIFETEST MART PARMSSYSTOLIC_BP RANKSYSTOLIC_BP RESSCH_SYSTOLIC_BP SCHOENFELD;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The file WORK.CLASSLEVELINFO_5 (memtype=DATA) was not found, but appears on a DELETE statement.
NOTE: The file WORK.SCHOENFELD (memtype=DATA) was not found, but appears on a DELETE statement.
NOTE: Deleting WORK.TABLE_SYSTOLIC_BP (memtype=DATA).
NOTE: Deleting WORK.SYSTOLIC_BP_ADJUSTED (memtype=DATA).
NOTE: Deleting WORK.SYSTOLIC_BP_CRUDE (memtype=DATA).
NOTE: Deleting WORK.SYSTOLIC_BP_INTERACTIONS (memtype=DATA).
NOTE: Deleting WORK.INTERACTION_SYSTOLIC_BP (memtype=DATA).
NOTE: Deleting WORK.SYSTOLIC_BP_LIFETEST (memtype=DATA).
NOTE: Deleting WORK.MART (memtype=DATA).
NOTE: Deleting WORK.PARMSSYSTOLIC_BP (memtype=DATA).
NOTE: Deleting WORK.RANKSYSTOLIC_BP (memtype=DATA).
NOTE: Deleting WORK.RESSCH_SYSTOLIC_BP (memtype=DATA).
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE DATASETS used (Total process time):
341                                                                             The SAS System

      real time           0.63 seconds
      cpu time            0.07 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MLOGIC(CHECK_COX_ASSUMPTIONS):  Ending execution.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO loop index variable ALL_COUNT is now 3; loop will not iterate again.
SYMBOLGEN:  Macro variable _INTERACTIONS resolves to _ALL
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition %qscan(&_INTERACTIONS, 1) NE _ALL is FALSE
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods rtf close;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   footnote;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   title;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Ending execution.
576        %check_cox_assumptions_all (_Number=6, _Data=rq.simcox, _predictors=&predictors, _class=&class, _OUTCOME=CV_event, _FU=CV_time, _CHECK=AGE)
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Beginning execution.
SYMBOLGEN:  Macro variable PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _NUMBER has value 6
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _DATA has value rq.simcox
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _PREDICTORS has value age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _CLASS has value diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _OUTCOME has value CV_event
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _FU has value CV_time
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _CHECK has value AGE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _STOP has value _NOT_SPECIFIED
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _EXCLUDE has value _NOTHING
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _RQ has value cox_assumptions
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _INTERACTIONS has value _ALL
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _FOOTNOTE has value &sysdate &systime  produced by macro check_cox_assumptions
WARNING: The quoted string currently being processed has become more than 262 characters long.  You may have unbalanced quotation marks.
WARNING: The quoted string currently being processed has become more than 262 characters long.  You may have unbalanced quotation marks.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   options nodate mprint pageno=1 mergenoby=warn ;
SYMBOLGEN:  Macro variable _RQ resolves to cox_assumptions
SYMBOLGEN:  Macro variable _NUMBER resolves to 6
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods rtf file="cox_assumptions_model_6.rtf" style=statistical;
NOTE: Writing RTF Body file: cox_assumptions_model_6.rtf
SYMBOLGEN:  Macro variable _NUMBER resolves to 6
SYMBOLGEN:  Macro variable _FU resolves to CV_time
SYMBOLGEN:  Macro variable _OUTCOME resolves to CV_event
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   title1 height=13pt "Model 6: modeling CV_time*CV_event(0) ";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods rtf startpage=NO;
SYMBOLGEN:  Macro variable _FOOTNOTE resolves to &sysdate, &systime -- produced by macro check_cox_assumptions
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable SYSDATE resolves to 08MAY13
WARNING: The FOOTNOTE statement is ambiguous due to invalid options or unquoted text.
SYMBOLGEN:  Macro variable SYSTIME resolves to 11:17
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   footnote1 J=right height=7pt 08MAY13, 11:17 -- produced by macro check_cox_assumptions;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods listing close;
SYMBOLGEN:  Macro variable _STOP resolves to _NOT_SPECIFIED
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition &_Stop=_NOT_SPECIFIED is TRUE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is _STOP)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is EXCLUDE)
SYMBOLGEN:  Macro variable _EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Macro variable _NUMBER resolves to 6
342                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   data predictors_6;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   format predictor $30.;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) loop beginning.
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable VAR resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 0
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=0;
SYMBOLGEN:  Macro variable VAR resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="AGE";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable _STOP resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable VAR resolves to SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 1
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=1;
SYMBOLGEN:  Macro variable VAR resolves to SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="SYSTOLIC_BP";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable _STOP resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
343                                                                             The SAS System

SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable VAR resolves to DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 2
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=2;
SYMBOLGEN:  Macro variable VAR resolves to DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="DIASTOLIC_BP";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable _STOP resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable VAR resolves to LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 3
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=3;
SYMBOLGEN:  Macro variable VAR resolves to LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="LDL";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable _STOP resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable VAR resolves to BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 4
344                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=4;
SYMBOLGEN:  Macro variable VAR resolves to BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="BMI";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable _STOP resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable VAR resolves to DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 5
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=5;
SYMBOLGEN:  Macro variable VAR resolves to DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="DIABETES";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable _STOP resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable VAR resolves to SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 6
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=6;
SYMBOLGEN:  Macro variable VAR resolves to SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="SMOKING";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
345                                                                             The SAS System

SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable _STOP resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable VAR resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 7
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=7;
SYMBOLGEN:  Macro variable VAR resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="SEX";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable _STOP resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable VAR resolves to TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 8
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=8;
SYMBOLGEN:  Macro variable VAR resolves to TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="TREATMENT";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable _STOP resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) condition is FALSE; loop will iterate again.
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
346                                                                             The SAS System

SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable VAR resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 9
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=9;
SYMBOLGEN:  Macro variable VAR resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="ACTIVITY";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable CNT resolves to 10
SYMBOLGEN:  Macro variable _STOP resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL() condition is TRUE; loop will not iterate again.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   run;

NOTE: The data set WORK.PREDICTORS_6 has 10 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   proc sql;
SYMBOLGEN:  Macro variable _NUMBER resolves to 6
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   select distinct predictor into :predictors_used separated by ' ' from predictors_6 order by order;
WARNING: The query as specified involves ordering by an item that doesn't appear in its SELECT clause. Since you are ordering the output of a SELECT DISTINCT it may appear 
         that some duplicates have not been eliminated.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %PUT predictors_used=&predictors_used
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
predictors_used=AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods listing;
SYMBOLGEN:  Macro variable _DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable _FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   where CV_time>0;
SYMBOLGEN:  Macro variable _CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average") ;
SYMBOLGEN:  Macro variable _FU resolves to CV_time
SYMBOLGEN:  Macro variable _OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
347                                                                             The SAS System

      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The PROCEDURE PHREG printed pages 1-2.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.26 seconds
      cpu time            0.12 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods listing close;
SYMBOLGEN:  Macro variable _CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition &_check =_ALL is FALSE
SYMBOLGEN:  Macro variable _CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO loop beginning; index variable ALL_COUNT; start value is 1; stop value is 1; by value is 1.  
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CHECK_VAR)
SYMBOLGEN:  Macro variable _CHECK resolves to AGE
SYMBOLGEN:  Macro variable ALL_COUNT resolves to 1
MLOGIC(CHECK_COX_ASSUMPTIONS):  Beginning execution.
SYMBOLGEN:  Macro variable _NUMBER resolves to 6
SYMBOLGEN:  Macro variable _DATA resolves to rq.simcox
SYMBOLGEN:  Macro variable _PREDICTORS resolves to age systolic_bp diastolic_bp ldl bmi diabetes smoking sex treatment activity
SYMBOLGEN:  Macro variable _CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
SYMBOLGEN:  Macro variable _OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable _FU resolves to CV_time
SYMBOLGEN:  Macro variable _STOP resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable _EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Macro variable CHECK_VAR resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter NUMBER has value 6
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter DATA has value rq.simcox
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter PREDICTORS has value AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter CLASS has value diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter OUTCOME has value CV_event
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter FU has value CV_time
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter STOP has value ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter EXCLUDE has value _NOTHING
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter CHECK has value AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 6
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   select distinct predictor into :predictors_WITHOUT_check separated by ' ' from predictors_6 where left(predictor)^="AGE" order by order;
WARNING: The query as specified involves ordering by an item that doesn't appear in its SELECT clause. Since you are ordering the output of a SELECT DISTINCT it may appear 
         that some duplicates have not been eliminated.
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT predictors_WITHOUT_check=&predictors_WITHOUT_check
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
predictors_WITHOUT_check=SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable NUMBER resolves to 6
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ClassLevelInfo=ClassLevelInfo_6;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
348                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.CLASSLEVELINFO_6 has 11 observations and 5 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.11 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable NUMBER resolves to 6
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %sysfunc(exist(ClassLevelInfo_&NUMBER)) is TRUE
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(%sysfunc(countw(&class)))=0) is FALSE
SYMBOLGEN:  Macro variable NUMBER resolves to 6
MPRINT(CHECK_COX_ASSUMPTIONS):   data ClassLevelInfo_6;
MPRINT(CHECK_COX_ASSUMPTIONS):   length class $30 value$30;
SYMBOLGEN:  Macro variable NUMBER resolves to 6
MPRINT(CHECK_COX_ASSUMPTIONS):   set ClassLevelInfo_6;
MPRINT(CHECK_COX_ASSUMPTIONS):   class=UPCASE(CLASS);
MPRINT(CHECK_COX_ASSUMPTIONS):   if ^missing(class) then call symput ('new',class);
MPRINT(CHECK_COX_ASSUMPTIONS):   else class=symget('new');
MPRINT(CHECK_COX_ASSUMPTIONS):   if sum(of X:)=0 then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 11 observations read from the data set WORK.CLASSLEVELINFO_6.
NOTE: The data set WORK.CLASSLEVELINFO_6 has 6 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 6
MPRINT(CHECK_COX_ASSUMPTIONS):   select distinct class into :class_variables separated by ' ' from ClassLevelInfo_6;
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 6
SYMBOLGEN:  Macro variable NUMBER resolves to 6
MPRINT(CHECK_COX_ASSUMPTIONS):   create table schoenfeld as select predictor, order, value, compress(catx('',predictor,'_',left(value))," -$%^()&#@","c") as schoenfeld from 
349                                                                             The SAS System

Predictors_6 left join ClassLevelInfo_6 on left(class)=left(predictor) order by order, schoenfeld;
NOTE: Table WORK.SCHOENFELD created, with 11 rows and 4 columns.

MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.08 seconds
      cpu time            0.04 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
MPRINT(CHECK_COX_ASSUMPTIONS):   select schoenfeld into :schoenfeld separated by ' ' from schoenfeld;
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT predictors=&predictors_used
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
predictors=AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT class_variables=&class_variables
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
class_variables=ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT schoenfeld = &schoenfeld
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
schoenfeld = AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (&CHECK in &class_variables)=0 is TRUE
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Verify the linearity assumption of continuous predictor variables';
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the Linearity Assumption of AGE by Plotting Martingale Residuals";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   id AGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   output out=mart resmart=mart;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 318 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.MART has 2975 observations and 20 variables.
350                                                                             The SAS System

NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.47 seconds
      cpu time            0.34 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sgplot data=mart;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   scatter y=mart x=AGE/ name='Martingale';
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   loess y=mart x=AGE/SMOOTH=.8 DEGREE=1 INTERPOLATION= CUBIC ;
MPRINT(CHECK_COX_ASSUMPTIONS):   keylegend 'Martingale'/ title=' ' Position=bottom;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: PROCEDURE SGPLOT used (Total process time):
      real time           3.17 seconds
      cpu time            0.39 seconds
      
NOTE: Marker and line antialiasing has been disabled because the threshold has been reached. You can set ANTIALIASMAX=3000 in the ODS GRAPHICS statement to restore 
      antialiasing.
NOTE: There were 2975 observations read from the data set WORK.MART.

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT='To use the Martingale residuals to assess the linearity assumption, first fit a	model that excludes the predictor variable of 
interest. Then plot the	Martingale residuals by the values of the excluded predictor variable of	interest. Finally, fit a smoothed line (that is, a loess smooth) in the plot. 
The	shape of the smoothed line provides an estimate of the functional form of the	predictor variable in the model (Therneau, Grambsch, and Fleming 1990).';
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the Linearity Assumption of AGE by Plotting Dummy Estimates";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc rank data=rq.simcox groups=5 out=rankAGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   var AGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ranks groupAGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The data set WORK.RANKAGE has 3000 observations and 20 variables.
NOTE: PROCEDURE RANK used (Total process time):
      real time           0.11 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data rankAGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set rankAGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   d0=(groupAGE=0);
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   d1=(groupAGE=1);
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   d2=(groupAGE=2);
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   d3=(groupAGE=3);
351                                                                             The SAS System

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   d4=(groupAGE=4);
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 3000 observations read from the data set WORK.RANKAGE.
NOTE: The data set WORK.RANKAGE has 3000 observations and 25 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output parameterestimates=parmsAGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rankAGE;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) loop beginning.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable VAR resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable VAR resolves to SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable VAR resolves to DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
352                                                                             The SAS System

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 2
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable VAR resolves to LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 3
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable VAR resolves to BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 4
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable VAR resolves to DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 5
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
353                                                                             The SAS System

SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable VAR resolves to SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 6
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable VAR resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 7
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable VAR resolves to TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 8
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) condition is FALSE; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable VAR resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is TRUE
SYMBOLGEN:  Macro variable VAR resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 9
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
354                                                                             The SAS System

SYMBOLGEN:  Macro variable CNT resolves to 10
SYMBOLGEN:  Macro variable STOP resolves to ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL() condition is TRUE; loop will not iterate again.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY d4 d3 d2 d1 d0 /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;


NOTE: 318 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.PARMSAGE has 15 observations and 11 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.26 seconds
      cpu time            0.14 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data parmsAGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set parmsAGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   where parameter in ('d0', 'd1', 'd2', 'd3', 'd4');
MPRINT(CHECK_COX_ASSUMPTIONS):   num_parm=input(substr(parameter, 2, 1),1.);
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 5 observations read from the data set WORK.PARMSAGE.
      WHERE parameter in ('d0', 'd1', 'd2', 'd3', 'd4');
NOTE: The data set WORK.PARMSAGE has 5 observations and 12 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc means data=rankAGE min max maxdec=2;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   class groupAGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   var AGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 3000 observations read from the data set WORK.RANKAGE.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.12 seconds
      cpu time            0.03 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sgplot data=parmsAGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   scatter y=estimate x=num_parm;
MPRINT(CHECK_COX_ASSUMPTIONS):   loess y=estimate x=num_parm/SMOOTH=.8 DEGREE=1 INTERPOLATION= CUBIC ;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: PROCEDURE SGPLOT used (Total process time):
      real time           1.75 seconds
355                                                                             The SAS System

      cpu time            0.31 seconds
      
NOTE: There were 5 observations read from the data set WORK.PARMSAGE.

WARNING: The quoted string currently being processed has become more than 512 characters long.  You may have unbalanced quotation marks.
MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT ="One method to check for linearity is to replace the predictor variable of	interest with several dummy variables. Then fit the 
model with the new dummy variables and plot the parameter estimates of the dummy variables, with a point at zero representing the reference group.	If the correct scale is 
linear in the log hazard, then a smoothed line is fairly linear. If the smoothed line departs substantially from a linear trend, then its	form is used to decide how to model 
the predictor variable (Hosmer and Lemeshow 1999).";
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Verify the proportional hazards assumption of predictor variables';
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the PH Assumption of AGE by Plotting LLS";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (&CHECK in &class_variables)=0 is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods graphics on;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select LogNegLogSurvivalPlot;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc lifetest data=rankAGE outsurv=AGE_lifetest NOTABLE method=km plots=lls;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
MPRINT(CHECK_COX_ASSUMPTIONS):   time CV_time*CV_event(0);
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   strata groupAGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The LOGLOG transform is used to compute the confidence limits for the survivor function. To suppress using this transform, specify CONFTYPE=LINEAR in the PROC SURVIVAL 
      statement.
NOTE: 64 observations with invalid time, censoring, or strata values were deleted.
NOTE: The data set WORK.AGE_LIFETEST has 2916 observations and 7 variables.
NOTE: PROCEDURE LIFETEST used (Total process time):
      real time           2.50 seconds
      cpu time            0.42 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT ="One method to assess the proportional hazards assumption is to plot thelog-negative-log of the Kaplan-Meier estimates of the 
survival function versus the log of time. If the hazard ratios are constant, the plot has parallel lines.";
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the PH Assumption of AGE by Plotting Schoenfeld Residuals";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods graphics off;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &CHECK in &class_variables is FALSE
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox noprint;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
356                                                                             The SAS System

SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
MPRINT(CHECK_COX_ASSUMPTIONS):   output out=ressch_AGE ressch=AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.RESSCH_AGE has 2975 observations and 30 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           1.02 seconds
      cpu time            0.53 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNTSCH)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop beginning; index variable I; start value is 1; stop value is 11; by value is 1.  
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 1
SYMBOLGEN:  Macro variable CATEGORY resolves to AGE_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is TRUE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sgplot data=ressch_AGE;
SYMBOLGEN:  Macro variable CATEGORY resolves to AGE_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   scatter y=AGE_ x=CV_time/ name="Schoenfeld_AGE";
SYMBOLGEN:  Macro variable CATEGORY resolves to AGE_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   loess y=AGE_ x=CV_time/SMOOTH=.8 DEGREE=1 INTERPOLATION= CUBIC ;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   keylegend "Schoenfeld_AGE"/ title=' ' Position=bottom;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: PROCEDURE SGPLOT used (Total process time):
      real time           1.28 seconds
      cpu time            0.32 seconds
      
NOTE: Marker and line antialiasing has been disabled because the threshold has been reached. You can set ANTIALIASMAX=3000 in the ODS GRAPHICS statement to restore 
      antialiasing.
NOTE: There were 2975 observations read from the data set WORK.RESSCH_AGE.

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Because Schoenfeld residuals are based on the effects of the predictor variables that are assumed to be independent of time, a plot 
of the residuals by time could be used to visually assess whether the effect of the predictor variable changes over the period of follow-up. A smoothed line fit to the plot 
ofthe residuals should have an intercept and a slope of approximately 0 (Hosmer and Lemeshow 1999).";
357                                                                             The SAS System

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 2; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 2
SYMBOLGEN:  Macro variable CATEGORY resolves to SYSTOLIC_BP_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 3; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 3
SYMBOLGEN:  Macro variable CATEGORY resolves to DIASTOLIC_BP_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 4; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 4
SYMBOLGEN:  Macro variable CATEGORY resolves to LDL_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 5; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 5
SYMBOLGEN:  Macro variable CATEGORY resolves to BMI_
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 6; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 6
SYMBOLGEN:  Macro variable CATEGORY resolves to DIABETES_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 7; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 7
SYMBOLGEN:  Macro variable CATEGORY resolves to SMOKING_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 8; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
358                                                                             The SAS System

SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 8
SYMBOLGEN:  Macro variable CATEGORY resolves to SEX_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 9; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 9
SYMBOLGEN:  Macro variable CATEGORY resolves to TREATMENT_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 10; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 10
SYMBOLGEN:  Macro variable CATEGORY resolves to ACTIVITY_high
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 11; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to AGE_ SYSTOLIC_BP_ DIASTOLIC_BP_ LDL_ BMI_ DIABETES_1 SMOKING_1 SEX_1 TREATMENT_1 ACTIVITY_high ACTIVITY_low
SYMBOLGEN:  Macro variable I resolves to 11
SYMBOLGEN:  Macro variable CATEGORY resolves to ACTIVITY_low
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 12; loop will not iterate again.
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
SYMBOLGEN:  Macro variable _INTERACTIONS resolves to _ALL
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %qscan(&_INTERACTIONS, 1) = _ALL is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Assess the model for interactions';
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Check for interactions AGE";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data AGE_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The data set WORK.AGE_INTERACTIONS has 1 observations and 0 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop beginning; index variable INT_COUNT; start value is 1; stop value is 9; by value is 1.  
359                                                                             The SAS System

MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 1
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 1
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_AGE;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to AGE*SYSTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY AGE*SYSTOLIC_BP /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_AGE has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.54 seconds
      cpu time            0.17 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data AGE_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set AGE_interactions interaction_AGE (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 1 observations read from the data set WORK.AGE_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_AGE.
      WHERE parameter contains '*';
NOTE: The data set WORK.AGE_INTERACTIONS has 2 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 2; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
360                                                                             The SAS System

SYMBOLGEN:  Macro variable INT_COUNT resolves to 2
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 2
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_AGE;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to AGE*DIASTOLIC_BP
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY AGE*DIASTOLIC_BP /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_AGE has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.26 seconds
      cpu time            0.12 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data AGE_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set AGE_interactions interaction_AGE (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 2 observations read from the data set WORK.AGE_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_AGE.
      WHERE parameter contains '*';
NOTE: The data set WORK.AGE_INTERACTIONS has 3 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 3; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 3
361                                                                             The SAS System

MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 3
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_AGE;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to AGE*LDL
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY AGE*LDL /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_AGE has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.22 seconds
      cpu time            0.14 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data AGE_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set AGE_interactions interaction_AGE (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

WARNING: Multiple lengths were specified for the variable Label by input data set(s). This may cause truncation of data.
NOTE: There were 3 observations read from the data set WORK.AGE_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_AGE.
      WHERE parameter contains '*';
NOTE: The data set WORK.AGE_INTERACTIONS has 4 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 4; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 4
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
362                                                                             The SAS System

SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 4
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_AGE;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to AGE*BMI
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY AGE*BMI /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_AGE has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.15 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data AGE_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set AGE_interactions interaction_AGE (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 4 observations read from the data set WORK.AGE_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_AGE.
      WHERE parameter contains '*';
NOTE: The data set WORK.AGE_INTERACTIONS has 5 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 5; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 5
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to DIABETES
363                                                                             The SAS System

SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 5
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_AGE;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to AGE*DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY AGE*DIABETES /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_AGE has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.12 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data AGE_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set AGE_interactions interaction_AGE (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 5 observations read from the data set WORK.AGE_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_AGE.
      WHERE parameter contains '*';
NOTE: The data set WORK.AGE_INTERACTIONS has 6 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 6; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 6
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 6
364                                                                             The SAS System

SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_AGE;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to AGE*SMOKING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY AGE*SMOKING /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_AGE has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.23 seconds
      cpu time            0.12 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data AGE_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set AGE_interactions interaction_AGE (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 6 observations read from the data set WORK.AGE_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_AGE.
      WHERE parameter contains '*';
NOTE: The data set WORK.AGE_INTERACTIONS has 7 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 7; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 7
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 7
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
365                                                                             The SAS System

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_AGE;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to AGE*SEX
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY AGE*SEX /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_AGE has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.22 seconds
      cpu time            0.12 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data AGE_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set AGE_interactions interaction_AGE (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 7 observations read from the data set WORK.AGE_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_AGE.
      WHERE parameter contains '*';
NOTE: The data set WORK.AGE_INTERACTIONS has 8 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 8; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 8
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 8
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_AGE;
366                                                                             The SAS System

SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to AGE*TREATMENT
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY AGE*TREATMENT /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_AGE has 12 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.38 seconds
      cpu time            0.09 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data AGE_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set AGE_interactions interaction_AGE (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 8 observations read from the data set WORK.AGE_INTERACTIONS.
NOTE: There were 1 observations read from the data set WORK.INTERACTION_AGE.
      WHERE parameter contains '*';
NOTE: The data set WORK.AGE_INTERACTIONS has 9 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.05 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 9; loop will iterate again.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR_FOR_INTERACTION)
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INT_COUNT resolves to 9
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is INTERACTION)
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable VAR_FOR_INTERACTION resolves to ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable INT_COUNT resolves to 9
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(&int_count) > %eval(%sysfunc(countw(&predictors_used)))) is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates = interaction_AGE;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
367                                                                             The SAS System

SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
SYMBOLGEN:  Macro variable INTERACTION resolves to AGE*ACTIVITY
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY AGE*ACTIVITY /ties=exact;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.INTERACTION_AGE has 13 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.44 seconds
      cpu time            0.15 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data AGE_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   length parameter $30.;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set AGE_interactions interaction_AGE (where=( parameter contains '*'));
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 9 observations read from the data set WORK.AGE_INTERACTIONS.
NOTE: There were 2 observations read from the data set WORK.INTERACTION_AGE.
      WHERE parameter contains '*';
NOTE: The data set WORK.AGE_INTERACTIONS has 11 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.01 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable INT_COUNT is now 10; loop will not iterate again.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data AGE_interactions;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set AGE_interactions;
MPRINT(CHECK_COX_ASSUMPTIONS):   if missing(parameter) then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   if ProbChiSq < 0.05 then flag='*';
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 11 observations read from the data set WORK.AGE_INTERACTIONS.
NOTE: The data set WORK.AGE_INTERACTIONS has 10 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
368                                                                             The SAS System

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc print data=AGE_interactions noobs label;
MPRINT(CHECK_COX_ASSUMPTIONS):   var parameter label estimate stderr chisq ProbChiSq flag;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 10 observations read from the data set WORK.AGE_INTERACTIONS.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Results of a partial likelihood ratio test that compares the model with only the main effects to the model with the main effects 
and all two-way interactions. P-values less than 0.05 are marked";
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Assess the model for confounders';
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Check for Confounders adjusting for AGE";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates=AGE_adjusted;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 348 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.AGE_ADJUSTED has 11 observations and 11 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.34 seconds
      cpu time            0.14 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ParameterEstimates=AGE_crude;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_WITHOUT_CHECK resolves to SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= SYSTOLIC_BP DIASTOLIC_BP LDL BMI DIABETES SMOKING SEX TREATMENT ACTIVITY /ties=exact rl;
369                                                                             The SAS System

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   id AGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 318 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.AGE_CRUDE has 10 observations and 11 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.29 seconds
      cpu time            0.14 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sort data=AGE_adjusted;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 11 observations read from the data set WORK.AGE_ADJUSTED.
NOTE: The data set WORK.AGE_ADJUSTED has 11 observations and 11 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sort data=AGE_crude;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 10 observations read from the data set WORK.AGE_CRUDE.
NOTE: The data set WORK.AGE_CRUDE has 10 observations and 11 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data table_AGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   merge AGE_adjusted(rename=(estimate=estimate1 stderr=stderr1 hazardratio=hazardratio1 HRLOWERCL=HRLOWERCL1 HRupperCL=HRupperCL1)) AGE_crude;
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to ACTIVITY DIABETES SEX SMOKING TREATMENT
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &class_variables ne  _EMPTY_LIST_ is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   by parameter classval0;
MPRINT(CHECK_COX_ASSUMPTIONS):   drop HRLowerCL HRUpperCL ProbChiSq DF chisq;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   if parameter="AGE" then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   change=(estimate-estimate1)/estimate;
MPRINT(CHECK_COX_ASSUMPTIONS):   if abs(change)>0.2 and (abs(estimate)>0.01 or abs(estimate1)>0.01) then flag='*';
370                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   HR= put(hazardratio,5.2)||' ('||put(HRLOWERCL,5.2)||'-'||put(HRupperCL,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   HR1= put(hazardratio1,5.2)||' ('||put(HRLOWERCL1,5.2)||'-'||put(HRupperCL1,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   EST=put(estimate,5.2)||' ('||put(stderr,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   EST1=put(estimate1,5.2)||' ('||put(stderr1,5.2)||')';
MPRINT(CHECK_COX_ASSUMPTIONS):   label est1= 'Adjusted Estimate (Error)' est= 'Crude Estimate (Error)' HR= 'Crude Hazard Ratio (95% CI)' HR1= 'Adjusted Hazard Ratio (95% CI)';
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   if upcase(parameter) =upcase("AGE") then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 576:111   1 at 576:139   
NOTE: There were 11 observations read from the data set WORK.AGE_ADJUSTED.
NOTE: There were 10 observations read from the data set WORK.AGE_CRUDE.
NOTE: The data set WORK.TABLE_AGE has 10 observations and 17 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc print data=table_AGE noobs label;
MPRINT(CHECK_COX_ASSUMPTIONS):   format change percent.;
MPRINT(CHECK_COX_ASSUMPTIONS):   var parameter label est hr est1 hr1 change flag;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 10 observations read from the data set WORK.TABLE_AGE.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Estimating change between Parameter Estimates for Other variables varies significantly for model without (crude) or with (adjusted) 
variable of interest. Variables for which parameter estimates varies by more than 20% are flaged.Variables are flaged only if at least one of the estimates is larger then 
0.01.";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc datasets lib=work memtype=data;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable NUMBER resolves to 6
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   delete table_AGE AGE_ADJUSTED AGE_CRUDE AGE_INTERACTIONS INTERACTION_AGE ClassLevelInfo_6 AGE_LIFETEST MART PARMSAGE RANKAGE RESSCH_AGE 
SCHOENFELD;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: Deleting WORK.TABLE_AGE (memtype=DATA).
NOTE: Deleting WORK.AGE_ADJUSTED (memtype=DATA).
NOTE: Deleting WORK.AGE_CRUDE (memtype=DATA).
NOTE: Deleting WORK.AGE_INTERACTIONS (memtype=DATA).
371                                                                             The SAS System

NOTE: Deleting WORK.INTERACTION_AGE (memtype=DATA).
NOTE: Deleting WORK.CLASSLEVELINFO_6 (memtype=DATA).
NOTE: Deleting WORK.AGE_LIFETEST (memtype=DATA).
NOTE: Deleting WORK.MART (memtype=DATA).
NOTE: Deleting WORK.PARMSAGE (memtype=DATA).
NOTE: Deleting WORK.RANKAGE (memtype=DATA).
NOTE: Deleting WORK.RESSCH_AGE (memtype=DATA).
NOTE: Deleting WORK.SCHOENFELD (memtype=DATA).
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.80 seconds
      cpu time            0.06 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MLOGIC(CHECK_COX_ASSUMPTIONS):  Ending execution.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO loop index variable ALL_COUNT is now 2; loop will not iterate again.
SYMBOLGEN:  Macro variable _INTERACTIONS resolves to _ALL
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition %qscan(&_INTERACTIONS, 1) NE _ALL is FALSE
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods rtf close;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   footnote;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   title;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Ending execution.
577        %check_cox_assumptions_all (_Number=7, _Data=rq.simcox, _predictors=AGE, _class=&class, _OUTCOME=CV_event, _FU=CV_time)
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Beginning execution.
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _NUMBER has value 7
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _DATA has value rq.simcox
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _PREDICTORS has value AGE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _CLASS has value diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _OUTCOME has value CV_event
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _FU has value CV_time
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _STOP has value _NOT_SPECIFIED
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _EXCLUDE has value _NOTHING
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _CHECK has value _ALL
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _RQ has value cox_assumptions
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _INTERACTIONS has value _ALL
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _FOOTNOTE has value &sysdate &systime  produced by macro check_cox_assumptions
WARNING: The quoted string currently being processed has become more than 262 characters long.  You may have unbalanced quotation marks.
WARNING: The quoted string currently being processed has become more than 262 characters long.  You may have unbalanced quotation marks.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   options nodate mprint pageno=1 mergenoby=warn ;
SYMBOLGEN:  Macro variable _RQ resolves to cox_assumptions
SYMBOLGEN:  Macro variable _NUMBER resolves to 7
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods rtf file="cox_assumptions_model_7.rtf" style=statistical;
NOTE: Writing RTF Body file: cox_assumptions_model_7.rtf
SYMBOLGEN:  Macro variable _NUMBER resolves to 7
SYMBOLGEN:  Macro variable _FU resolves to CV_time
SYMBOLGEN:  Macro variable _OUTCOME resolves to CV_event
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   title1 height=13pt "Model 7: modeling CV_time*CV_event(0) ";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods rtf startpage=NO;
SYMBOLGEN:  Macro variable _FOOTNOTE resolves to &sysdate, &systime -- produced by macro check_cox_assumptions
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable SYSDATE resolves to 08MAY13
WARNING: The FOOTNOTE statement is ambiguous due to invalid options or unquoted text.
SYMBOLGEN:  Macro variable SYSTIME resolves to 11:17
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   footnote1 J=right height=7pt 08MAY13, 11:17 -- produced by macro check_cox_assumptions;
372                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods listing close;
SYMBOLGEN:  Macro variable _STOP resolves to _NOT_SPECIFIED
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition &_Stop=_NOT_SPECIFIED is TRUE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is _STOP)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is EXCLUDE)
SYMBOLGEN:  Macro variable _EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Macro variable _NUMBER resolves to 7
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   data predictors_7;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   format predictor $30.;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) loop beginning.
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable _PREDICTORS resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to AGE
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable VAR resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 0
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=0;
SYMBOLGEN:  Macro variable VAR resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="AGE";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable _PREDICTORS resolves to AGE
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable _STOP resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL() condition is TRUE; loop will not iterate again.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   run;

NOTE: The data set WORK.PREDICTORS_7 has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   proc sql;
SYMBOLGEN:  Macro variable _NUMBER resolves to 7
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   select distinct predictor into :predictors_used separated by ' ' from predictors_7 order by order;
WARNING: The query as specified involves ordering by an item that doesn't appear in its SELECT clause. Since you are ordering the output of a SELECT DISTINCT it may appear 
         that some duplicates have not been eliminated.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

373                                                                             The SAS System

MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %PUT predictors_used=&predictors_used
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE
predictors_used=AGE
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods listing;
SYMBOLGEN:  Macro variable _DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable _FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   where CV_time>0;
SYMBOLGEN:  Macro variable _CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average") ;
SYMBOLGEN:  Macro variable _FU resolves to CV_time
SYMBOLGEN:  Macro variable _OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   model CV_time*CV_event (0)= AGE /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   run;

NOTE: 219 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The PROCEDURE PHREG printed page 1.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.24 seconds
      cpu time            0.10 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods listing close;
SYMBOLGEN:  Macro variable _CHECK resolves to _ALL
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition &_check =_ALL is TRUE
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO loop beginning; index variable ALL_COUNT; start value is 1; stop value is 1; by value is 1.  
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CHECK_VAR)
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE
SYMBOLGEN:  Macro variable ALL_COUNT resolves to 1
MLOGIC(CHECK_COX_ASSUMPTIONS):  Beginning execution.
SYMBOLGEN:  Macro variable _NUMBER resolves to 7
SYMBOLGEN:  Macro variable _DATA resolves to rq.simcox
SYMBOLGEN:  Macro variable _PREDICTORS resolves to AGE
SYMBOLGEN:  Macro variable _CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
SYMBOLGEN:  Macro variable _OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable _FU resolves to CV_time
SYMBOLGEN:  Macro variable _STOP resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable _EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Macro variable CHECK_VAR resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter NUMBER has value 7
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter DATA has value rq.simcox
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter PREDICTORS has value AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter CLASS has value diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter OUTCOME has value CV_event
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter FU has value CV_time
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter STOP has value AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter EXCLUDE has value _NOTHING
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter CHECK has value AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
374                                                                             The SAS System

SYMBOLGEN:  Macro variable NUMBER resolves to 7
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   select distinct predictor into :predictors_WITHOUT_check separated by ' ' from predictors_7 where left(predictor)^="AGE" order by order;
WARNING: The query as specified involves ordering by an item that doesn't appear in its SELECT clause. Since you are ordering the output of a SELECT DISTINCT it may appear 
         that some duplicates have not been eliminated.
NOTE: No rows were selected.
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT predictors_WITHOUT_check=&predictors_WITHOUT_check
WARNING: Apparent symbolic reference PREDICTORS_WITHOUT_CHECK not resolved.
predictors_WITHOUT_check=&predictors_WITHOUT_check
SYMBOLGEN:  Macro variable NUMBER resolves to 7
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ClassLevelInfo=ClassLevelInfo_7;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 219 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
WARNING: Output 'ClassLevelInfo' was not created.  Make sure that the output object name, label, or path is spelled correctly.  Also, verify that the appropriate procedure 
         options are used to produce the requested output object.  For example, verify that the NOPRINT option is not used.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.21 seconds
      cpu time            0.07 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable NUMBER resolves to 7
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %sysfunc(exist(ClassLevelInfo_&NUMBER)) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CLASS_VARIABLES)
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is SCHOENFELD)
MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT predictors=&predictors_used
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE
predictors=AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT class_variables=&class_variables
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to _EMPTY_LIST_
class_variables=_EMPTY_LIST_
MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT schoenfeld = &schoenfeld
SYMBOLGEN:  Macro variable SCHOENFELD resolves to 
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
schoenfeld = 
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
375                                                                             The SAS System

SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to _EMPTY_LIST_
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (&CHECK in &class_variables)=0 is TRUE
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the Linearity Assumption of AGE by Plotting Dummy Estimates";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc rank data=rq.simcox groups=5 out=rankAGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   var AGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ranks groupAGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The data set WORK.RANKAGE has 3000 observations and 20 variables.
NOTE: PROCEDURE RANK used (Total process time):
      real time           0.22 seconds
      cpu time            0.03 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data rankAGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set rankAGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   d0=(groupAGE=0);
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   d1=(groupAGE=1);
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   d2=(groupAGE=2);
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   d3=(groupAGE=3);
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   d4=(groupAGE=4);
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 3000 observations read from the data set WORK.RANKAGE.
NOTE: The data set WORK.RANKAGE has 3000 observations and 25 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output parameterestimates=parmsAGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rankAGE;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
376                                                                             The SAS System

MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL(%qscan(&predictors,&cnt,  )=&stop) loop beginning.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable VAR resolves to AGE
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition not (&var in &CHECK) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNT)
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable STOP resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO %UNTIL() condition is TRUE; loop will not iterate again.
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= d4 d3 d2 d1 d0 /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;


NOTE: 189 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.PARMSAGE has 5 observations and 9 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.17 seconds
      cpu time            0.07 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   data parmsAGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   set parmsAGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   where parameter in ('d0', 'd1', 'd2', 'd3', 'd4');
MPRINT(CHECK_COX_ASSUMPTIONS):   num_parm=input(substr(parameter, 2, 1),1.);
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 5 observations read from the data set WORK.PARMSAGE.
      WHERE parameter in ('d0', 'd1', 'd2', 'd3', 'd4');
NOTE: The data set WORK.PARMSAGE has 5 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc means data=rankAGE min max maxdec=2;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   class groupAGE;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   var AGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 3000 observations read from the data set WORK.RANKAGE.
NOTE: PROCEDURE MEANS used (Total process time):
377                                                                             The SAS System

      real time           0.09 seconds
      cpu time            0.03 seconds
      

SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sgplot data=parmsAGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   scatter y=estimate x=num_parm;
MPRINT(CHECK_COX_ASSUMPTIONS):   loess y=estimate x=num_parm/SMOOTH=.8 DEGREE=1 INTERPOLATION= CUBIC ;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: PROCEDURE SGPLOT used (Total process time):
      real time           2.21 seconds
      cpu time            0.28 seconds
      
NOTE: There were 5 observations read from the data set WORK.PARMSAGE.

WARNING: The quoted string currently being processed has become more than 512 characters long.  You may have unbalanced quotation marks.
MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT ="One method to check for linearity is to replace the predictor variable of	interest with several dummy variables. Then fit the 
model with the new dummy variables and plot the parameter estimates of the dummy variables, with a point at zero representing the reference group.	If the correct scale is 
linear in the log hazard, then a smoothed line is fairly linear. If the smoothed line departs substantially from a linear trend, then its	form is used to decide how to model 
the predictor variable (Hosmer and Lemeshow 1999).";
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Verify the proportional hazards assumption of predictor variables';
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the PH Assumption of AGE by Plotting LLS";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to _EMPTY_LIST_
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (&CHECK in &class_variables)=0 is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   ods graphics on;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select LogNegLogSurvivalPlot;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   proc lifetest data=rankAGE outsurv=AGE_lifetest NOTABLE method=km plots=lls;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
MPRINT(CHECK_COX_ASSUMPTIONS):   time CV_time*CV_event(0);
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   strata groupAGE;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The LOGLOG transform is used to compute the confidence limits for the survivor function. To suppress using this transform, specify CONFTYPE=LINEAR in the PROC SURVIVAL 
      statement.
NOTE: 64 observations with invalid time, censoring, or strata values were deleted.
NOTE: The data set WORK.AGE_LIFETEST has 2916 observations and 7 variables.
NOTE: PROCEDURE LIFETEST used (Total process time):
      real time           1.34 seconds
      cpu time            0.40 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT ="One method to assess the proportional hazards assumption is to plot thelog-negative-log of the Kaplan-Meier estimates of the 
survival function versus the log of time. If the hazard ratios are constant, the plot has parallel lines.";
SYMBOLGEN:  Macro variable CHECK resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the PH Assumption of AGE by Plotting Schoenfeld Residuals";
378                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods graphics off;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to _EMPTY_LIST_
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &CHECK in &class_variables is FALSE
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox noprint;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to AGE
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= AGE /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to AGE
SYMBOLGEN:  Macro variable SCHOENFELD resolves to 
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS):   output out=ressch_AGE ressch=;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 219 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.RESSCH_AGE has 2975 observations and 19 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.72 seconds
      cpu time            0.32 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNTSCH)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to 
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop beginning; index variable I; start value is 1; stop value is 0; by value is 1.  Loop will not be executed.
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is FALSE
SYMBOLGEN:  Macro variable PREDICTORS resolves to AGE
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  Ending execution.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO loop index variable ALL_COUNT is now 2; loop will not iterate again.
SYMBOLGEN:  Macro variable _INTERACTIONS resolves to _ALL
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition %qscan(&_INTERACTIONS, 1) NE _ALL is FALSE
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods rtf close;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   footnote;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   title;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Ending execution.
578        %check_cox_assumptions_all (_Number=8, _Data=rq.simcox, _predictors=diabetes, _class=&class, _OUTCOME=CV_event, _FU=CV_time)
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Beginning execution.
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _NUMBER has value 8
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _DATA has value rq.simcox
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _PREDICTORS has value diabetes
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _CLASS has value diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _OUTCOME has value CV_event
379                                                                             The SAS System

MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _FU has value CV_time
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _STOP has value _NOT_SPECIFIED
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _EXCLUDE has value _NOTHING
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _CHECK has value _ALL
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _RQ has value cox_assumptions
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _INTERACTIONS has value _ALL
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Parameter _FOOTNOTE has value &sysdate &systime  produced by macro check_cox_assumptions
WARNING: The quoted string currently being processed has become more than 262 characters long.  You may have unbalanced quotation marks.
WARNING: The quoted string currently being processed has become more than 262 characters long.  You may have unbalanced quotation marks.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   options nodate mprint pageno=1 mergenoby=warn ;
SYMBOLGEN:  Macro variable _RQ resolves to cox_assumptions
SYMBOLGEN:  Macro variable _NUMBER resolves to 8
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods rtf file="cox_assumptions_model_8.rtf" style=statistical;
NOTE: Writing RTF Body file: cox_assumptions_model_8.rtf
SYMBOLGEN:  Macro variable _NUMBER resolves to 8
SYMBOLGEN:  Macro variable _FU resolves to CV_time
SYMBOLGEN:  Macro variable _OUTCOME resolves to CV_event
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   title1 height=13pt "Model 8: modeling CV_time*CV_event(0) ";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods rtf startpage=NO;
SYMBOLGEN:  Macro variable _FOOTNOTE resolves to &sysdate, &systime -- produced by macro check_cox_assumptions
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable SYSDATE resolves to 08MAY13
WARNING: The FOOTNOTE statement is ambiguous due to invalid options or unquoted text.
SYMBOLGEN:  Macro variable SYSTIME resolves to 11:17
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   footnote1 J=right height=7pt 08MAY13, 11:17 -- produced by macro check_cox_assumptions;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods listing close;
SYMBOLGEN:  Macro variable _STOP resolves to _NOT_SPECIFIED
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition &_Stop=_NOT_SPECIFIED is TRUE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is _STOP)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to diabetes
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is EXCLUDE)
SYMBOLGEN:  Macro variable _EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Macro variable _NUMBER resolves to 8
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   data predictors_8;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   format predictor $30.;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL(%qscan(%UPCASE(&_PREDICTORS),&cnt,  )=%UPCASE(&_stop)) loop beginning.
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable _PREDICTORS resolves to diabetes
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition (%eval(&cnt) = %eval(%sysfunc(countw(&_PREDICTORS)))) is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is VAR)
SYMBOLGEN:  Macro variable _PREDICTORS resolves to diabetes
SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable VAR resolves to DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition ((&var in &exclude)=0) is TRUE
SYMBOLGEN:  Macro variable CNT resolves to 0
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   order=0;
SYMBOLGEN:  Macro variable VAR resolves to DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   predictor="DIABETES";
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   output;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CNT)
380                                                                             The SAS System

SYMBOLGEN:  Macro variable CNT resolves to 0
SYMBOLGEN:  Macro variable _PREDICTORS resolves to diabetes
SYMBOLGEN:  Macro variable CNT resolves to 1
SYMBOLGEN:  Macro variable _STOP resolves to DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO %UNTIL() condition is TRUE; loop will not iterate again.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   run;

NOTE: The data set WORK.PREDICTORS_8 has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   proc sql;
SYMBOLGEN:  Macro variable _NUMBER resolves to 8
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   select distinct predictor into :predictors_used separated by ' ' from predictors_8 order by order;
WARNING: The query as specified involves ordering by an item that doesn't appear in its SELECT clause. Since you are ordering the output of a SELECT DISTINCT it may appear 
         that some duplicates have not been eliminated.
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %PUT predictors_used=&predictors_used
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to DIABETES
predictors_used=DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods listing;
SYMBOLGEN:  Macro variable _DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable _FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   where CV_time>0;
SYMBOLGEN:  Macro variable _CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average") ;
SYMBOLGEN:  Macro variable _FU resolves to CV_time
SYMBOLGEN:  Macro variable _OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   model CV_time*CV_event (0)= DIABETES /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   run;

NOTE: 189 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The PROCEDURE PHREG printed pages 1-2.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.26 seconds
      cpu time            0.07 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods listing close;
SYMBOLGEN:  Macro variable _CHECK resolves to _ALL
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition &_check =_ALL is TRUE
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to DIABETES
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO loop beginning; index variable ALL_COUNT; start value is 1; stop value is 1; by value is 1.  
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %LET (variable name is CHECK_VAR)
381                                                                             The SAS System

SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to DIABETES
SYMBOLGEN:  Macro variable ALL_COUNT resolves to 1
MLOGIC(CHECK_COX_ASSUMPTIONS):  Beginning execution.
SYMBOLGEN:  Macro variable _NUMBER resolves to 8
SYMBOLGEN:  Macro variable _DATA resolves to rq.simcox
SYMBOLGEN:  Macro variable _PREDICTORS resolves to diabetes
SYMBOLGEN:  Macro variable _CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
SYMBOLGEN:  Macro variable _OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable _FU resolves to CV_time
SYMBOLGEN:  Macro variable _STOP resolves to DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable _EXCLUDE resolves to _NOTHING
SYMBOLGEN:  Macro variable CHECK_VAR resolves to DIABETES
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter NUMBER has value 8
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter DATA has value rq.simcox
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter PREDICTORS has value DIABETES
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter CLASS has value diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter OUTCOME has value CV_event
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter FU has value CV_time
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter STOP has value DIABETES
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter EXCLUDE has value _NOTHING
MLOGIC(CHECK_COX_ASSUMPTIONS):  Parameter CHECK has value DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 8
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   select distinct predictor into :predictors_WITHOUT_check separated by ' ' from predictors_8 where left(predictor)^="DIABETES" order by order;
WARNING: The query as specified involves ordering by an item that doesn't appear in its SELECT clause. Since you are ordering the output of a SELECT DISTINCT it may appear 
         that some duplicates have not been eliminated.
NOTE: No rows were selected.
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT predictors_WITHOUT_check=&predictors_WITHOUT_check
WARNING: Apparent symbolic reference PREDICTORS_WITHOUT_CHECK not resolved.
predictors_WITHOUT_check=&predictors_WITHOUT_check
SYMBOLGEN:  Macro variable NUMBER resolves to 8
MPRINT(CHECK_COX_ASSUMPTIONS):   ods output ClassLevelInfo=ClassLevelInfo_8;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= DIABETES /ties=exact rl;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 189 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
382                                                                             The SAS System

NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.CLASSLEVELINFO_8 has 2 observations and 4 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.22 seconds
      cpu time            0.07 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods output close;
SYMBOLGEN:  Macro variable NUMBER resolves to 8
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %sysfunc(exist(ClassLevelInfo_&NUMBER)) is TRUE
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (%eval(%sysfunc(countw(&class)))=0) is FALSE
SYMBOLGEN:  Macro variable NUMBER resolves to 8
MPRINT(CHECK_COX_ASSUMPTIONS):   data ClassLevelInfo_8;
MPRINT(CHECK_COX_ASSUMPTIONS):   length class $30 value$30;
SYMBOLGEN:  Macro variable NUMBER resolves to 8
MPRINT(CHECK_COX_ASSUMPTIONS):   set ClassLevelInfo_8;
MPRINT(CHECK_COX_ASSUMPTIONS):   class=UPCASE(CLASS);
MPRINT(CHECK_COX_ASSUMPTIONS):   if ^missing(class) then call symput ('new',class);
MPRINT(CHECK_COX_ASSUMPTIONS):   else class=symget('new');
MPRINT(CHECK_COX_ASSUMPTIONS):   if sum(of X:)=0 then delete;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: There were 2 observations read from the data set WORK.CLASSLEVELINFO_8.
NOTE: The data set WORK.CLASSLEVELINFO_8 has 1 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 8
MPRINT(CHECK_COX_ASSUMPTIONS):   select distinct class into :class_variables separated by ' ' from ClassLevelInfo_8;
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
SYMBOLGEN:  Macro variable NUMBER resolves to 8
SYMBOLGEN:  Macro variable NUMBER resolves to 8
MPRINT(CHECK_COX_ASSUMPTIONS):   create table schoenfeld as select predictor, order, value, compress(catx('',predictor,'_',left(value))," -$%^()&#@","c") as schoenfeld from 
Predictors_8 left join ClassLevelInfo_8 on left(class)=left(predictor) order by order, schoenfeld;
NOTE: Table WORK.SCHOENFELD created, with 1 rows and 4 columns.

MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.07 seconds
      cpu time            0.06 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   proc sql;
MPRINT(CHECK_COX_ASSUMPTIONS):   select schoenfeld into :schoenfeld separated by ' ' from schoenfeld;
MPRINT(CHECK_COX_ASSUMPTIONS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
383                                                                             The SAS System

      real time           0.00 seconds
      cpu time            0.00 seconds
      

MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT predictors=&predictors_used
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to DIABETES
predictors=DIABETES
MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT class_variables=&class_variables
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to DIABETES
class_variables=DIABETES
MLOGIC(CHECK_COX_ASSUMPTIONS):  %PUT schoenfeld = &schoenfeld
SYMBOLGEN:  Macro variable SCHOENFELD resolves to DIABETES_1
schoenfeld = DIABETES_1
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to DIABETES
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (&CHECK in &class_variables)=0 is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to DIABETES
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition (&CHECK in &class_variables)=0 is FALSE
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
SYMBOLGEN:  Macro variable CLASS_VARIABLES resolves to DIABETES
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition &CHECK in &class_variables is TRUE
MPRINT(CHECK_COX_ASSUMPTIONS):   title2 height=12pt 'Verify the proportional hazards assumption of predictor variables';
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the PH Assumption of DIABETES by Plotting LLS";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods graphics on;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select LogNegLogSurvivalPlot;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   proc lifetest data=rq.simcox outsurv=DIABETES_lifetest NOTABLE method=km plots=lls;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
MPRINT(CHECK_COX_ASSUMPTIONS):   time CV_time*CV_event(0);
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   strata DIABETES;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: The LOGLOG transform is used to compute the confidence limits for the survivor function. To suppress using this transform, specify CONFTYPE=LINEAR in the PROC SURVIVAL 
      statement.
NOTE: 67 observations with invalid time, censoring, or strata values were deleted.
NOTE: The data set WORK.DIABETES_LIFETEST has 2910 observations and 7 variables.
NOTE: PROCEDURE LIFETEST used (Total process time):
      real time           2.66 seconds
      cpu time            0.56 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT ="One method to assess the proportional hazards assumption is to plot thelog-negative-log of the Kaplan-Meier estimates of the 
survival function versusthe log of time. If the hazard ratios are constant, the plot has parallel lines.";
MPRINT(CHECK_COX_ASSUMPTIONS):   ods graphics off;
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   title3 height=10pt "Assess the PH Assumption of DIABETES by Plotting Schoenfeld Residuals";
384                                                                             The SAS System

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf startpage=NOW;
MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf exclude all;
SYMBOLGEN:  Macro variable DATA resolves to rq.simcox
MPRINT(CHECK_COX_ASSUMPTIONS):   proc phreg data=rq.simcox noprint;
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   where CV_time>0;
SYMBOLGEN:  Macro variable CLASS resolves to diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average")
MPRINT(CHECK_COX_ASSUMPTIONS):   class diabetes(ref="0") smoking(ref="0") sex(ref="0") treatment(ref="0") activity(ref="average");
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable OUTCOME resolves to CV_event
SYMBOLGEN:  Macro variable PREDICTORS_USED resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   model CV_time*CV_event (0)= DIABETES /ties=exact rl;
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
SYMBOLGEN:  Macro variable SCHOENFELD resolves to DIABETES_1
MPRINT(CHECK_COX_ASSUMPTIONS):   output out=ressch_DIABETES ressch=DIABETES_1;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: 189 observations were deleted due either to missing or invalid values for the time, censoring, frequency or explanatory variables or to invalid operations in generating 
      the values for some of the explanatory variables.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.RESSCH_DIABETES has 2975 observations and 20 variables.
NOTE: PROCEDURE PHREG used (Total process time):
      real time           0.49 seconds
      cpu time            0.31 seconds
      

MPRINT(CHECK_COX_ASSUMPTIONS):   ods rtf select all;
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CNTSCH)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to DIABETES_1
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop beginning; index variable I; start value is 1; stop value is 1; by value is 1.  
MLOGIC(CHECK_COX_ASSUMPTIONS):  %LET (variable name is CATEGORY)
SYMBOLGEN:  Macro variable SCHOENFELD resolves to DIABETES_1
SYMBOLGEN:  Macro variable I resolves to 1
SYMBOLGEN:  Macro variable CATEGORY resolves to DIABETES_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %upcase(%substr(&category,1, %sysfunc(length(&CHECK))))=%upcase(&CHECK) is TRUE
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   proc sgplot data=ressch_DIABETES;
SYMBOLGEN:  Macro variable CATEGORY resolves to DIABETES_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable FU resolves to CV_time
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   scatter y=DIABETES_1 x=CV_time/ name="Schoenfeld_DIABETES";
SYMBOLGEN:  Macro variable CATEGORY resolves to DIABETES_1
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have been unquoted for printing.
SYMBOLGEN:  Macro variable FU resolves to CV_time
MPRINT(CHECK_COX_ASSUMPTIONS):   loess y=DIABETES_1 x=CV_time/SMOOTH=.8 DEGREE=1 INTERPOLATION= CUBIC ;
SYMBOLGEN:  Macro variable CHECK resolves to DIABETES
MPRINT(CHECK_COX_ASSUMPTIONS):   keylegend "Schoenfeld_DIABETES"/ title=' ' Position=bottom;
MPRINT(CHECK_COX_ASSUMPTIONS):   run;

NOTE: PROCEDURE SGPLOT used (Total process time):
      real time           1.82 seconds
      cpu time            0.26 seconds
385                                                                             The SAS System

      
NOTE: Marker and line antialiasing has been disabled because the threshold has been reached. You can set ANTIALIASMAX=3000 in the ODS GRAPHICS statement to restore 
      antialiasing.
NOTE: There were 2975 observations read from the data set WORK.RESSCH_DIABETES.

MPRINT(CHECK_COX_ASSUMPTIONS):   ODS TEXT="Because Schoenfeld residuals are based on the effects of the predictor variables that are assumed to be independent of time, a plot 
of the residuals by time could be used to visually assess whether the effect of the predictor variable changes over the period of follow-up. A smoothed line fit to the plot 
ofthe residuals should have an intercept and a slope of approximately 0 (Hosmer and Lemeshow 1999).";
MLOGIC(CHECK_COX_ASSUMPTIONS):  %DO loop index variable I is now 2; loop will not iterate again.
SYMBOLGEN:  Macro variable PREDICTORS resolves to DIABETES
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is FALSE
SYMBOLGEN:  Macro variable PREDICTORS resolves to DIABETES
MLOGIC(CHECK_COX_ASSUMPTIONS):  %IF condition %eval(%sysfunc(countw(&PREDICTORS))) > 1 is FALSE
MLOGIC(CHECK_COX_ASSUMPTIONS):  Ending execution.
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %DO loop index variable ALL_COUNT is now 2; loop will not iterate again.
SYMBOLGEN:  Macro variable _INTERACTIONS resolves to _ALL
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  %IF condition %qscan(&_INTERACTIONS, 1) NE _ALL is FALSE
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   ods rtf close;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   footnote;
MPRINT(CHECK_COX_ASSUMPTIONS_ALL):   title;
MLOGIC(CHECK_COX_ASSUMPTIONS_ALL):  Ending execution.

NOTE: SAS Institute Inc., SAS Campus Drive, Cary, NC USA 27513-2414
NOTE: The SAS System used:
      real time           5:39.90
      cpu time            1:05.64
      
